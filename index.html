<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.1.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.1.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.1.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="iOS ä¿®ç‚¼ä¸­...">
<meta property="og:type" content="website">
<meta property="og:title" content="ä»¥æ¢¦ä¸ºé©¬">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="ä»¥æ¢¦ä¸ºé©¬">
<meta property="og:description" content="iOS ä¿®ç‚¼ä¸­...">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ä»¥æ¢¦ä¸ºé©¬">
<meta name="twitter:description" content="iOS ä¿®ç‚¼ä¸­...">






  <link rel="canonical" href="http://yoursite.com/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>ä»¥æ¢¦ä¸ºé©¬</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ä»¥æ¢¦ä¸ºé©¬</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">è°¨ä»¥æ­¤çºªå¿µå²æœˆ</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>




<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-ä¸»é¡µ menu-item-active">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />ä¸»é¡µ</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-å½’æ¡£">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />å½’æ¡£</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOSå¼€å‘ä¹‹ - WKWebView VS UIWebView/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOSå¼€å‘ä¹‹ - WKWebView VS UIWebView/" itemprop="url">
                  iOSå¼€å‘ä¹‹ - WKWebView VS UIWebView
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>WKWebViewæ˜¯è‹¹æœåœ¨ iOS 8 ä¸­æ¨å‡ºçš„æ–°æ¡†æ¶ï¼Œç›¸æ¯”UIWebViewæ¥è¯´ï¼ŒWKWebView æ€§èƒ½å¥½ï¼Œé€Ÿåº¦å¿«ï¼Œå†…å­˜å°ï¼ŒåŠŸèƒ½å¤šï¼Œä¸”æ”¯æŒäº†æ›´å¤šçš„ HTML5 ç‰¹æ€§â€¦â€¦å› æ­¤æœ¬å°ç™½ç¦ä¸ä½â€œè¯±æƒ‘â€åˆ©ç”¨äº†ä¸€æ™šä¸Šçš„æ—¶é—´ï¼Œæ•´ç†äº†ä¸€äº›å…³äº WKWebView çš„èµ„æ–™ï¼Œä¸å¤§å®¶åˆ†äº«ä¸‹ï¼åœ¨è¯´ WKWebView ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¯´è¯´ä»–çš„è€å¤§å“¥ UIWebView ï¼ï¼ï¼</p>
</blockquote>
<p>UIWebView æ˜¯è‹¹æœåœ¨ iOS 2 ä¹‹åæ¨å‡ºçš„ï¼Œç”±äºèµ„æ ¼æ¯”è¾ƒâ€œè€â€ï¼Œå¤§å®¶å¯¹ UIWebView åº”è¯¥ä¹Ÿä¸ä¼šé™Œç”Ÿï¼Œè¿™é‡Œç›´æ¥ä¸Šä»£ç ï¼š</p>
<h3 id="1-UIWebView-åŸºæœ¬ä½¿ç”¨"><a href="#1-UIWebView-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.UIWebView åŸºæœ¬ä½¿ç”¨"></a>1.UIWebView åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºwebview</span></span><br><span class="line"><span class="built_in">UIWebView</span> *webView = [[<span class="built_in">UIWebView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">20</span>, NNWidth, NNHeight - <span class="number">20</span>)];</span><br><span class="line"><span class="comment">// ç½‘ç»œè¯·æ±‚</span></span><br><span class="line"><span class="built_in">NSURLRequest</span> *request =[<span class="built_in">NSURLRequest</span> requestWithURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://www.baidu.com"</span>]];</span><br><span class="line"><span class="comment">// åŠ è½½ç½‘é¡µ</span></span><br><span class="line">[webView loadRequest:request];</span><br><span class="line"><span class="comment">// æ·»åŠ åˆ°ç•Œé¢</span></span><br><span class="line">[<span class="keyword">self</span>.view addSubview:webView];</span><br></pre></td></tr></table></figure>
<h3 id="2-UIWebView-å¸¸ç”¨æ–¹æ³•"><a href="#2-UIWebView-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="2.UIWebView å¸¸ç”¨æ–¹æ³•"></a>2.UIWebView å¸¸ç”¨æ–¹æ³•</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">webView reload</span>]; <span class="comment">// åˆ·æ–°</span></span><br><span class="line">[<span class="meta">webView stopLoading</span>]; <span class="comment">// åœæ­¢åŠ è½½</span></span><br><span class="line">[<span class="meta">webView goBack</span>]; <span class="comment">// åé€€</span></span><br><span class="line">[<span class="meta">webView goForward</span>]; <span class="comment">// å‰è¿›</span></span><br><span class="line">[<span class="meta">webView canGoBack</span>]; <span class="comment">// æ˜¯å¦å¯ä»¥åé€€</span></span><br><span class="line">[<span class="meta">webView canGoForward</span>]; <span class="comment">// æ˜¯å¦å¯ä»¥å‘å‰</span></span><br><span class="line">[<span class="meta">webView isLoading</span>]; <span class="comment">// æ˜¯å¦æ­£åœ¨åŠ è½½</span></span><br></pre></td></tr></table></figure>
<h3 id="3-UIWebView-ç›¸å…³ä»£ç†åè®®"><a href="#3-UIWebView-ç›¸å…³ä»£ç†åè®®" class="headerlink" title="3.UIWebView ç›¸å…³ä»£ç†åè®®"></a>3.UIWebView ç›¸å…³ä»£ç†åè®®</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - UIWebViewDelegate</span></span><br><span class="line"><span class="comment">/// æ˜¯å¦å…è®¸åŠ è½½ç½‘é¡µ</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)webView:(<span class="built_in">UIWebView</span> *)webView shouldStartLoadWithRequest:(<span class="built_in">NSURLRequest</span> *)request navigationType:(<span class="built_in">UIWebViewNavigationType</span>)navigationType &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"å…è®¸åŠ è½½ç½‘é¡µ"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// å¼€å§‹åŠ è½½ç½‘é¡µæ—¶è°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)webViewDidStartLoad:(<span class="built_in">UIWebView</span> *)webView &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"å¼€å§‹åŠ è½½ç½‘é¡µ"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/// ç½‘é¡µåŠ è½½å®Œæˆæ—¶è°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)webViewDidFinishLoad:(<span class="built_in">UIWebView</span> *)webView &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"ç½‘é¡µåŠ è½½å®Œæˆ"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// ç½‘é¡µåŠ è½½é”™è¯¯æ—¶è°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)webView:(<span class="built_in">UIWebView</span> *)webView didFailLoadWithError:(<span class="built_in">NSError</span> *)error &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"ç½‘é¡µåŠ è½½é”™è¯¯æ—¶è°ƒç”¨"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è¿™é‡Œæ˜¯-UIWebView-çš„æ•ˆæœå›¾ï¼ï¼ï¼"><a href="#è¿™é‡Œæ˜¯-UIWebView-çš„æ•ˆæœå›¾ï¼ï¼ï¼" class="headerlink" title="è¿™é‡Œæ˜¯ UIWebView çš„æ•ˆæœå›¾ï¼ï¼ï¼"></a>è¿™é‡Œæ˜¯ UIWebView çš„æ•ˆæœå›¾ï¼ï¼ï¼</h3><p><img src="http://upload-images.jianshu.io/upload_images/2665449-ab410b93f7c4d753.gif?imageMogr2/auto-orient/strip" alt="UIWebViewåŠ è½½ç½‘é¡µ"><br><img src="http://upload-images.jianshu.io/upload_images/2665449-14ead660659b5a2b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä»£ç†æ–¹æ³•è¾“å‡ºçš„é¡ºåº"></p>
<h3 id="å› ä¸ºä¸»è¦æƒ³ä¸å¤§å®¶åˆ†äº«çš„æ˜¯-WKWebViewï¼Œæ‰€ä»¥å¯¹-UIWebView-çš„ä»‹ç»å°±åˆ°æ­¤ä¸ºæ­¢äº†ã€‚æ¥ä¸‹æ¥çš„-WKWebView-æ‰æ˜¯ä»Šæ™šçš„ä¸»è§’ï¼ï¼ï¼"><a href="#å› ä¸ºä¸»è¦æƒ³ä¸å¤§å®¶åˆ†äº«çš„æ˜¯-WKWebViewï¼Œæ‰€ä»¥å¯¹-UIWebView-çš„ä»‹ç»å°±åˆ°æ­¤ä¸ºæ­¢äº†ã€‚æ¥ä¸‹æ¥çš„-WKWebView-æ‰æ˜¯ä»Šæ™šçš„ä¸»è§’ï¼ï¼ï¼" class="headerlink" title="å› ä¸ºä¸»è¦æƒ³ä¸å¤§å®¶åˆ†äº«çš„æ˜¯ WKWebViewï¼Œæ‰€ä»¥å¯¹ UIWebView çš„ä»‹ç»å°±åˆ°æ­¤ä¸ºæ­¢äº†ã€‚æ¥ä¸‹æ¥çš„ WKWebView æ‰æ˜¯ä»Šæ™šçš„ä¸»è§’ï¼ï¼ï¼"></a>å› ä¸ºä¸»è¦æƒ³ä¸å¤§å®¶åˆ†äº«çš„æ˜¯ WKWebViewï¼Œæ‰€ä»¥å¯¹ UIWebView çš„ä»‹ç»å°±åˆ°æ­¤ä¸ºæ­¢äº†ã€‚æ¥ä¸‹æ¥çš„ WKWebView æ‰æ˜¯ä»Šæ™šçš„ä¸»è§’ï¼ï¼ï¼</h3><hr>
<p><strong>ä¾ç„¶æ˜¯å…ˆä»‹ç» WKWebView çš„åŸºæœ¬ä½¿ç”¨</strong></p>
<h3 id="1-WKWebView-åŸºæœ¬ä½¿ç”¨"><a href="#1-WKWebView-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1. WKWebView åŸºæœ¬ä½¿ç”¨"></a>1. WKWebView åŸºæœ¬ä½¿ç”¨</h3><blockquote>
<p>è¿™é‡ŒåŠ ä¸€ä¸ªä¸ç”¨æç¤ºçš„æç¤ºï¼šWKWebView å’Œ UIWebview çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ç›¸ç±»ä¼¼ï¼Œä½†æ˜¯éœ€è¦å¯¼å…¥å¤´æ–‡ä»¶ #import &lt;WebKit/WebKit.h&gt;ï¼Œå…¶å®ƒæ­¥éª¤å¦‚ä¸‹</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºwebview</span></span><br><span class="line"><span class="built_in">WKWebView</span> *webView = [[<span class="built_in">WKWebView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">20</span>, NNWidth, NNHeight - <span class="number">20</span>)];</span><br><span class="line"><span class="comment">// åˆ›å»ºè¯·æ±‚</span></span><br><span class="line"><span class="built_in">NSURLRequest</span> *request =[<span class="built_in">NSURLRequest</span> requestWithURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://www.baidu.com"</span>]];</span><br><span class="line"><span class="comment">// åŠ è½½ç½‘é¡µ</span></span><br><span class="line">[webView loadRequest:request];</span><br><span class="line"><span class="comment">// å°†webViewæ·»åŠ åˆ°ç•Œé¢</span></span><br><span class="line">[<span class="keyword">self</span>.view addSubview:webView];</span><br></pre></td></tr></table></figure>
<p>ps:è¿™é‡Œå°±ä¸å†è¡¥å……æ•ˆæœå›¾äº†ï¼Œé™¤äº†é€Ÿåº¦å†…å­˜ä¼˜äº UIWebViewï¼Œæ˜¾ç¤ºçš„æ•ˆæœå·®ä¸å¤šã€‚ã€‚ã€‚</p>
<h3 id="2-WKWebView-åŠ è½½æ–‡ä»¶"><a href="#2-WKWebView-åŠ è½½æ–‡ä»¶" class="headerlink" title="2. WKWebView åŠ è½½æ–‡ä»¶"></a>2. WKWebView åŠ è½½æ–‡ä»¶</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºwebview</span></span><br><span class="line"><span class="built_in">WKWebView</span> *webView = [[<span class="built_in">WKWebView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">20</span>, NNWidth, NNHeight - <span class="number">20</span>)];</span><br><span class="line"><span class="comment">// åˆ›å»ºurl(å¯ä»¥éšä¾¿ä»æ¡Œé¢æ‹‰å¼ å›¾ç‰‡)</span></span><br><span class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> fileURLWithPath:<span class="string">@"/Users/ios/Desktop/å›¾ç‰‡/90416596477f347431a929dc73b9f404.jpg"</span>];</span><br><span class="line"><span class="comment">// åŠ è½½æ–‡ä»¶</span></span><br><span class="line">[webView loadFileURL:url allowingReadAccessToURL:url];</span><br><span class="line"><span class="comment">// æœ€åå°†webViewæ·»åŠ åˆ°ç•Œé¢</span></span><br><span class="line">[<span class="keyword">self</span>.view addSubview:webView];</span><br></pre></td></tr></table></figure>
<h4 id="è¿™é‡Œæ˜¯åŠ è½½æ–‡ä»¶æ•ˆæœå›¾ï¼"><a href="#è¿™é‡Œæ˜¯åŠ è½½æ–‡ä»¶æ•ˆæœå›¾ï¼" class="headerlink" title="è¿™é‡Œæ˜¯åŠ è½½æ–‡ä»¶æ•ˆæœå›¾ï¼"></a>è¿™é‡Œæ˜¯åŠ è½½æ–‡ä»¶æ•ˆæœå›¾ï¼</h4><p><img src="http://upload-images.jianshu.io/upload_images/2665449-026af846596935f2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åŠ è½½æœ¬åœ°å›¾ç‰‡"></p>
<h3 id="3-WKWebView-ä¸-JS-ä»£ç äº¤äº’"><a href="#3-WKWebView-ä¸-JS-ä»£ç äº¤äº’" class="headerlink" title="3. WKWebView ä¸ JS ä»£ç äº¤äº’"></a>3. WKWebView ä¸ JS ä»£ç äº¤äº’</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å›¾ç‰‡ç¼©æ”¾çš„ JS ä»£ç </span></span><br><span class="line"><span class="built_in">NSString</span> *JSImage = <span class="string">@"var count = document.images.length;for (var i = 0; i &lt; count; i++) &#123;var image = document.images[i];image.style.width=375;&#125;;window.alert('æ‰¾åˆ°' + count + 'å¼ å›¾');"</span>;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ– WKUserScript</span></span><br><span class="line"><span class="built_in">WKUserScript</span> *script = [[<span class="built_in">WKUserScript</span> alloc] initWithSource:JSImage injectionTime:<span class="built_in">WKUserScriptInjectionTimeAtDocumentEnd</span> forMainFrameOnly:<span class="literal">YES</span>];</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–WKWebViewConfiguration</span></span><br><span class="line"><span class="built_in">WKWebViewConfiguration</span> *configuration = [[<span class="built_in">WKWebViewConfiguration</span> alloc] init];</span><br><span class="line">[configuration.userContentController addUserScript:script];</span><br><span class="line">_webView = [[<span class="built_in">WKWebView</span> alloc] initWithFrame:<span class="keyword">self</span>.view.bounds configuration:configuration];</span><br><span class="line"><span class="comment">// è¿™é‡Œéœ€è¦ä»ç½‘ä¸Šæ‰¾åˆ°ä¸€å¼ å›¾ç‰‡çš„åœ°å€</span></span><br><span class="line">[_webView loadHTMLString:<span class="string">@"&lt;head&gt;&lt;/head&gt;![](http://upload-images.jianshu.io/upload_images/2665449-f109bc70619e2a92.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)"</span>baseURL:<span class="literal">nil</span>];</span><br><span class="line">[<span class="keyword">self</span>.view addSubview:_webView];</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-311830759271b58f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¸ JS äº¤äº’æ•ˆæœå›¾"></p>
<h3 id="4-WKWebView-å¸¸ç”¨çš„ä»£ç†åè®®"><a href="#4-WKWebView-å¸¸ç”¨çš„ä»£ç†åè®®" class="headerlink" title="4. WKWebView å¸¸ç”¨çš„ä»£ç†åè®®"></a>4. WKWebView å¸¸ç”¨çš„ä»£ç†åè®®</h3><p><em>WKWebView çš„ä»£ç†æ–¹æ³•è¿˜æ˜¯è›®æœ‰è¶£çš„ï¼Œå¤§å®¶å¯ä»¥è¯•ä¸‹å“ˆï¼</em></p>
<h4 id="4-1-WKNavigationDelegate-åè®®"><a href="#4-1-WKNavigationDelegate-åè®®" class="headerlink" title="4.1 WKNavigationDelegate åè®®"></a>4.1 WKNavigationDelegate åè®®</h4><p>è¿™é‡Œç®€å•ç½—åˆ—äº†å‡ ä¸ªå¸¸ç”¨çš„æ–¹æ³•ã€‚ä»¥ä¸‹å››ä¸ªä¸ UIWebView ä¸­çš„æ–¹æ³•ç›¸åŒï¼š<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#pragma</span> <span class="selector-tag">mark</span> <span class="selector-tag">-</span> <span class="selector-tag">WKNavigationDelegate</span></span><br><span class="line"><span class="comment">// é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">didStartProvisionalNavigation</span><span class="selector-pseudo">:(WKNavigation</span> *)<span class="selector-tag">navigation</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å†…å®¹å¼€å§‹è¿”å›æ—¶è°ƒç”¨</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">didCommitNavigation</span><span class="selector-pseudo">:(WKNavigation</span> *)<span class="selector-tag">navigation</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é¡µé¢åŠ è½½å®Œæˆæ—¶è°ƒç”¨</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">didFinishNavigation</span><span class="selector-pseudo">:(WKNavigation</span> *)<span class="selector-tag">navigation</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é¡µé¢åŠ è½½å¤±è´¥æ—¶è°ƒç”¨</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">didFailProvisionalNavigation</span><span class="selector-pseudo">:(WKNavigation</span> *)<span class="selector-tag">navigation</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ–°å¢çš„ä¸‰ä¸ªä»£ç†æ–¹æ³•:<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªæ–¹æ³•æ˜¯æœåŠ¡å™¨é‡å®šå‘æ—¶è°ƒç”¨ï¼Œå³ æ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åè°ƒç”¨</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">didReceiveServerRedirectForProvisionalNavigation</span><span class="selector-pseudo">:(WKNavigation</span> *)<span class="selector-tag">navigation</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åœ¨æ”¶åˆ°å“åº”åï¼Œå†³å®šæ˜¯å¦è·³è½¬</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">decidePolicyForNavigationResponse</span><span class="selector-pseudo">:(WKNavigationResponse</span> *)<span class="selector-tag">navigationResponse</span> <span class="selector-tag">decisionHandler</span><span class="selector-pseudo">:(void</span> (^)(WKNavigationResponsePolicy))<span class="selector-tag">decisionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åœ¨å‘é€è¯·æ±‚ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">decidePolicyForNavigationAction</span><span class="selector-pseudo">:(WKNavigationAction</span> *)<span class="selector-tag">navigationAction</span> <span class="selector-tag">decisionHandler</span><span class="selector-pseudo">:(void</span> (^)(WKNavigationActionPolicy))<span class="selector-tag">decisionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="4-2-WKUIDelegate-åè®®"><a href="#4-2-WKUIDelegate-åè®®" class="headerlink" title="4.2 WKUIDelegate åè®®"></a>4.2 WKUIDelegate åè®®</h4><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#pragma</span> <span class="selector-tag">mark</span> <span class="selector-tag">-</span> <span class="selector-tag">WKUIDelegate</span></span><br><span class="line"><span class="comment">/// åˆ›å»ºä¸€ä¸ªæ–°çš„WebView</span></span><br><span class="line"><span class="selector-tag">-</span> (WKWebView *)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">createWebViewWithConfiguration</span><span class="selector-pseudo">:(WKWebViewConfiguration</span> *)<span class="selector-tag">configuration</span> <span class="selector-tag">forNavigationAction</span><span class="selector-pseudo">:(WKNavigationAction</span> *)<span class="selector-tag">navigationAction</span> <span class="selector-tag">windowFeatures</span><span class="selector-pseudo">:(WKWindowFeatures</span> *)<span class="selector-tag">windowFeatures</span> &#123;</span><br><span class="line"><span class="selector-tag">return</span> <span class="selector-tag">nil</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*  webç•Œé¢ä¸­æœ‰å¼¹å‡ºè­¦å‘Šæ¡†æ—¶è°ƒç”¨</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*  @param webView           å®ç°è¯¥ä»£ç†çš„webview</span></span><br><span class="line"><span class="comment">*  @param message           è­¦å‘Šæ¡†ä¸­çš„å†…å®¹</span></span><br><span class="line"><span class="comment">*  @param frame             ä¸»çª—å£</span></span><br><span class="line"><span class="comment">*  @param completionHandler è­¦å‘Šæ¡†æ¶ˆå¤±è°ƒç”¨</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">runJavaScriptAlertPanelWithMessage</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">message</span> <span class="selector-tag">initiatedByFrame</span><span class="selector-pseudo">:(void</span> (^)())<span class="selector-tag">completionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// è¾“å…¥æ¡†</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">runJavaScriptTextInputPanelWithPrompt</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">prompt</span> <span class="selector-tag">defaultText</span><span class="selector-pseudo">:(nullable</span> <span class="selector-tag">NSString</span> *)<span class="selector-tag">defaultText</span> <span class="selector-tag">initiatedByFrame</span><span class="selector-pseudo">:(WKFrameInfo</span> *)<span class="selector-tag">frame</span> <span class="selector-tag">completionHandler</span><span class="selector-pseudo">:(void</span> (^)(NSString * __nullable result))<span class="selector-tag">completionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/// ç¡®è®¤æ¡†</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">runJavaScriptConfirmPanelWithMessage</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">message</span> <span class="selector-tag">initiatedByFrame</span><span class="selector-pseudo">:(WKFrameInfo</span> *)<span class="selector-tag">frame</span> <span class="selector-tag">completionHandler</span><span class="selector-pseudo">:(void</span> (^)(BOOL result))<span class="selector-tag">completionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/// è­¦å‘Šæ¡†</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">runJavaScriptAlertPanelWithMessage</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">message</span> <span class="selector-tag">initiatedByFrame</span><span class="selector-pseudo">:(WKFrameInfo</span> *)<span class="selector-tag">frame</span> <span class="selector-tag">completionHandler</span><span class="selector-pseudo">:(void</span> (^)(void))<span class="selector-tag">completionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-å¦å¤–æœé›†äº†ä¸€äº›-WKWebView-å¸¸ç”¨çš„å±æ€§ï¼š"><a href="#5-å¦å¤–æœé›†äº†ä¸€äº›-WKWebView-å¸¸ç”¨çš„å±æ€§ï¼š" class="headerlink" title="5.å¦å¤–æœé›†äº†ä¸€äº› WKWebView å¸¸ç”¨çš„å±æ€§ï¼š"></a>5.å¦å¤–æœé›†äº†ä¸€äº› WKWebView å¸¸ç”¨çš„å±æ€§ï¼š</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">â€¢    <span class="string">WKBackForwardListItem:</span> webviewä¸­åé€€åˆ—è¡¨é‡Œçš„æŸä¸€ä¸ªç½‘é¡µã€‚</span><br><span class="line">â€¢    <span class="string">WKFrameInfo:</span> åŒ…å«ä¸€ä¸ªç½‘é¡µçš„å¸ƒå±€ä¿¡æ¯ã€‚</span><br><span class="line">â€¢    <span class="string">WKNavigation:</span> åŒ…å«ä¸€ä¸ªç½‘é¡µçš„åŠ è½½è¿›åº¦ä¿¡æ¯ã€‚</span><br><span class="line">â€¢    <span class="string">WKPreferences:</span> æ¦‚æ‹¬ä¸€ä¸ª webview çš„åå¥½è®¾ç½®ã€‚</span><br><span class="line">â€¢    <span class="string">WKProcessPool:</span> è¡¨ç¤ºä¸€ä¸ª web å†…å®¹åŠ è½½æ± ã€‚</span><br><span class="line">â€¢    <span class="string">WKScriptMessage:</span> åŒ…å«ç½‘é¡µå‘å‡ºçš„ä¿¡æ¯ã€‚</span><br><span class="line">â€¢    <span class="string">WKUserScript:</span>è¡¨ç¤ºå¯ä»¥è¢«ç½‘é¡µæ¥å—çš„ç”¨æˆ·è„šæœ¬ã€‚</span><br><span class="line">â€¢    <span class="string">WKWebViewConfiguration:</span> åˆå§‹åŒ– webview çš„è®¾ç½®ã€‚</span><br><span class="line">â€¢    <span class="string">WKWindowFeatures:</span> æŒ‡å®šåŠ è½½æ–°ç½‘é¡µæ—¶çš„çª—å£å±æ€§ã€‚</span><br><span class="line">â€¢    <span class="string">WKScriptMessageHandler:</span> æä¾›ä»ç½‘é¡µä¸­æ”¶æ¶ˆæ¯çš„å›è°ƒæ–¹æ³•ã€‚</span><br></pre></td></tr></table></figure>
<p>å°å°¾å·´:æ­£åƒå¼€å¤´è¯´çš„é‚£æ ·ï¼Œ WKWebView ç›¸æ¯”UIWebViewæ¥è¯´æ€§èƒ½å¥½ï¼Œé€Ÿåº¦å¿«ï¼Œå†…å­˜å°ï¼ŒåŠŸèƒ½å¤šâ€¦â€¦ä½†ç°åœ¨å¼€å‘ä¸­æ™®éç”¨çš„è¿˜æ˜¯ UIWebViewï¼Œè¿™æ˜¯å› ä¸ºå¤§å¤šæ•°Appéœ€è¦æ”¯æŒiOS7åŠä»¥ä¸Šçš„ç‰ˆæœ¬ã€‚ä½†è‹¹æœä¹‹æ‰€ä»¥æ¨å‡º WKWebView å°±æ˜¯ä¸ºäº†å¼¥è¡¥ UIWebView çš„ç§ç§ä¸è¶³ï¼Œé€æ¸å–ä»£ UIWebViewï¼Œç›¸ä¿¡ä¸ä¹…çš„å°†æ¥ï¼Œç½‘é¡µä¼šæˆä¸º WKWebView çš„å¤©ä¸‹ï¼</p>
<p><em>ä»Šå¤©å°±ç®€å•çš„å†™åˆ°è¿™é‡Œï¼Œä»¥åå¦‚æœç”¨åˆ°å…¶å®ƒçš„äº†ï¼Œå†å’Œå¤§å®¶åˆ†äº«ğŸ˜„!</em></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/ å‰ç«¯ç¬”è®° - HTML ç‰¹æ®Šæ ‡ç­¾å®ç°æ–‡å­—æ»šåŠ¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/ å‰ç«¯ç¬”è®° - HTML ç‰¹æ®Šæ ‡ç­¾å®ç°æ–‡å­—æ»šåŠ¨/" itemprop="url">
                  å‰ç«¯ç¬”è®° - HTML ç‰¹æ®Šæ ‡ç­¾å®ç°æ–‡å­—æ»šåŠ¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>æƒ³ç”¨ HTML åšä¸ªæ–‡å­—æ»šåŠ¨æ•ˆæœï¼Œå¯ä»¥ç”¨ç‰¹æ®Šæ ‡ç­¾ marquee å®ç°ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨ JS å®ç°ï¼Œ ä»Šå¤©è¯•äº†ä¸‹ç”¨ç‰¹æ®Šæ ‡ç­¾ marquee å®ç°æ–‡å­—æ»šåŠ¨ã€‚å…ˆå£°æ˜ä¸‹æœ¬äººä»äº‹äº iOS å¼€å‘ï¼Œä¹‹å‰é›¶é›¶æ˜Ÿæ˜Ÿçš„å­¦è¿‡ HTML ï¼Œä½†ç›®å‰å°šå¤„äºå°ç™½é˜¶æ®µğŸ˜‚ï¼Œå› æ­¤æ–‡ç« å¦‚æœæœ‰ä¸å½“ä¹‹å¤„è¿˜è¯·å„ä½å¤§ç¥ä¸åæŒ‡å‡ºï¼</p>
</blockquote>
<h3 id="å…ˆä¸€èµ·çœ‹ä¸‹-marquee-æ ‡ç­¾å­˜åœ¨å“ªäº›å±æ€§ï¼š"><a href="#å…ˆä¸€èµ·çœ‹ä¸‹-marquee-æ ‡ç­¾å­˜åœ¨å“ªäº›å±æ€§ï¼š" class="headerlink" title="å…ˆä¸€èµ·çœ‹ä¸‹ marquee æ ‡ç­¾å­˜åœ¨å“ªäº›å±æ€§ï¼š"></a>å…ˆä¸€èµ·çœ‹ä¸‹ marquee æ ‡ç­¾å­˜åœ¨å“ªäº›å±æ€§ï¼š</h3><ul>
<li>behaviorï¼šæ»šåŠ¨æ–¹å¼ï¼Œä¸‰ç§ï¼šscrollï¼ˆå¾ªç¯æ»šåŠ¨ï¼‰ slideï¼ˆå•æ¬¡æ»šåŠ¨ï¼‰ã€alternateï¼ˆæ¥å›æ»šåŠ¨ï¼‰</li>
<li>bgcolorï¼šæ»šåŠ¨æ–‡æœ¬æ¡†çš„èƒŒæ™¯é¢œè‰²</li>
<li>directionï¼šæ»šåŠ¨æ–¹å‘ï¼Œå››ç§ï¼šleftï¼ˆä»å³åˆ°å·¦ï¼‰ã€rightï¼ˆä»å·¦åˆ°å³ï¼‰ã€upï¼ˆä»ä¸‹åˆ°ä¸Šï¼‰ã€downï¼ˆä»ä¸Šåˆ°ä¸‹ï¼‰</li>
<li>scrolldelayï¼šæ¯è½®æ»šåŠ¨ä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ï¼Œæ•°å­—è¶Šå¤§æ»šåŠ¨è¶Šæ…¢</li>
<li>scrollamountï¼šä¸€æ¬¡æ»šåŠ¨æ€»çš„æ—¶é—´é‡ï¼Œæ•°å­—è¶Šå°æ»šåŠ¨è¶Šæ…¢</li>
<li>alignï¼šæ–‡å­—çš„å¯¹é½æ–¹å¼ï¼Œä¸‰ç§ï¼š middle(å±…ä¸­)ã€bottom(å±…ä¸‹)ã€top(å±…ä¸Š)</li>
<li>widthï¼šæ»šåŠ¨æ–‡æœ¬æ¡†çš„å®½åº¦</li>
<li>heightï¼šæ»šåŠ¨æ–‡æœ¬æ¡†çš„é«˜åº¦</li>
<li>loopï¼šæ»šåŠ¨æ¬¡æ•°ï¼Œé»˜è®¤ä¸º infiniteï¼ˆæ— é™ï¼‰</li>
<li>hspaceï¼šæ°´å¹³æ–¹å‘çš„ç©ºç™½è·ç¦»</li>
<li>vspaceï¼šå‚ç›´æ–¹å‘çš„ç©ºç™½è·ç¦»</li>
</ul>
<h3 id="ä¸‹é¢ä¾¿æ˜¯-marquee-å±æ€§çš„ä¸€äº›åº”ç”¨"><a href="#ä¸‹é¢ä¾¿æ˜¯-marquee-å±æ€§çš„ä¸€äº›åº”ç”¨" class="headerlink" title="ä¸‹é¢ä¾¿æ˜¯ marquee å±æ€§çš„ä¸€äº›åº”ç”¨"></a>ä¸‹é¢ä¾¿æ˜¯ marquee å±æ€§çš„ä¸€äº›åº”ç”¨</h3><h4 id="ä¸€ã€æ»šåŠ¨æ–¹å¼-behavior-ï¼šscrollï¼ˆå¾ªç¯æ»šåŠ¨ï¼‰"><a href="#ä¸€ã€æ»šåŠ¨æ–¹å¼-behavior-ï¼šscrollï¼ˆå¾ªç¯æ»šåŠ¨ï¼‰" class="headerlink" title="ä¸€ã€æ»šåŠ¨æ–¹å¼ behavior ï¼šscrollï¼ˆå¾ªç¯æ»šåŠ¨ï¼‰"></a>ä¸€ã€æ»šåŠ¨æ–¹å¼ behavior ï¼šscrollï¼ˆå¾ªç¯æ»šåŠ¨ï¼‰</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"right"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-47605cbed1e7bf3a.gif?imageMogr2/auto-orient/strip" alt="å¾ªç¯æ»šåŠ¨"></p>
<h4 id="äºŒã€æ»šåŠ¨æ–¹å¼-behaviorï¼šalternateï¼ˆæ¥å›æ»šåŠ¨ï¼‰"><a href="#äºŒã€æ»šåŠ¨æ–¹å¼-behaviorï¼šalternateï¼ˆæ¥å›æ»šåŠ¨ï¼‰" class="headerlink" title="äºŒã€æ»šåŠ¨æ–¹å¼ behaviorï¼šalternateï¼ˆæ¥å›æ»šåŠ¨ï¼‰"></a>äºŒã€æ»šåŠ¨æ–¹å¼ behaviorï¼šalternateï¼ˆæ¥å›æ»šåŠ¨ï¼‰</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"right"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"alternate"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-2ef9e8f7f7097a05.gif?imageMogr2/auto-orient/strip" alt="æ¥å›æ»šåŠ¨"></p>
<h3 id="ä¸‰ã€æ»šåŠ¨æ–¹å‘-directionï¼šupï¼ˆä»ä¸‹åˆ°ä¸Šï¼‰"><a href="#ä¸‰ã€æ»šåŠ¨æ–¹å‘-directionï¼šupï¼ˆä»ä¸‹åˆ°ä¸Šï¼‰" class="headerlink" title="ä¸‰ã€æ»šåŠ¨æ–¹å‘ directionï¼šupï¼ˆä»ä¸‹åˆ°ä¸Šï¼‰"></a>ä¸‰ã€æ»šåŠ¨æ–¹å‘ directionï¼šupï¼ˆä»ä¸‹åˆ°ä¸Šï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"up"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-afc2adaff655f9b5.gif?imageMogr2/auto-orient/strip" alt="ä»ä¸‹åˆ°ä¸Š"></p>
<h3 id="å››ã€æ»šåŠ¨æ–¹å‘-directionï¼šleftï¼ˆä»å³åˆ°å·¦ï¼‰"><a href="#å››ã€æ»šåŠ¨æ–¹å‘-directionï¼šleftï¼ˆä»å³åˆ°å·¦ï¼‰" class="headerlink" title="å››ã€æ»šåŠ¨æ–¹å‘ directionï¼šleftï¼ˆä»å³åˆ°å·¦ï¼‰"></a>å››ã€æ»šåŠ¨æ–¹å‘ directionï¼šleftï¼ˆä»å³åˆ°å·¦ï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"left"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-59c59ad94d252736.gif?imageMogr2/auto-orient/strip" alt="ä»å³åˆ°å·¦"></p>
<h3 id="äº”ã€æ»šåŠ¨é€Ÿåº¦ï¼ˆscrollamountï¼‰"><a href="#äº”ã€æ»šåŠ¨é€Ÿåº¦ï¼ˆscrollamountï¼‰" class="headerlink" title="äº”ã€æ»šåŠ¨é€Ÿåº¦ï¼ˆscrollamountï¼‰"></a>äº”ã€æ»šåŠ¨é€Ÿåº¦ï¼ˆscrollamountï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"left"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span></span></span><br><span class="line"><span class="tag"><span class="attr">scrollamount</span>=<span class="string">"80px"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-8c084cd3ab2119e7.gif?imageMogr2/auto-orient/strip" alt="æ»šåŠ¨é€Ÿåº¦"></p>
<h3 id="å…­ã€å¾ªç¯æ¬¡æ•°ï¼ˆloopï¼‰"><a href="#å…­ã€å¾ªç¯æ¬¡æ•°ï¼ˆloopï¼‰" class="headerlink" title="å…­ã€å¾ªç¯æ¬¡æ•°ï¼ˆloopï¼‰"></a>å…­ã€å¾ªç¯æ¬¡æ•°ï¼ˆloopï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"left"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span></span></span><br><span class="line"><span class="tag"><span class="attr">scrollamount</span>=<span class="string">"80px"</span></span></span><br><span class="line"><span class="tag"><span class="attr">loop</span>=<span class="string">"5"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-1e7e0b115db0402f.gif?imageMogr2/auto-orient/strip" alt="å¾ªç¯æ¬¡æ•°"></p>
<h3 id="ä¸ƒã€å½“é¼ æ ‡åœç•™åœ¨æ–‡å­—ä¸Šï¼Œæ–‡å­—åœæ­¢æ»šåŠ¨"><a href="#ä¸ƒã€å½“é¼ æ ‡åœç•™åœ¨æ–‡å­—ä¸Šï¼Œæ–‡å­—åœæ­¢æ»šåŠ¨" class="headerlink" title="ä¸ƒã€å½“é¼ æ ‡åœç•™åœ¨æ–‡å­—ä¸Šï¼Œæ–‡å­—åœæ­¢æ»šåŠ¨"></a>ä¸ƒã€å½“é¼ æ ‡åœç•™åœ¨æ–‡å­—ä¸Šï¼Œæ–‡å­—åœæ­¢æ»šåŠ¨</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"left"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span></span></span><br><span class="line"><span class="tag"><span class="attr">scrollamount</span>=<span class="string">"80px"</span></span></span><br><span class="line"><span class="tag"><span class="attr">onmouseover</span>=<span class="string">stop()</span></span></span><br><span class="line"><span class="tag"><span class="attr">onmouseout</span>=<span class="string">start()</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-a9a929dcfc80b834.gif?imageMogr2/auto-orient/strip" alt="å½“é¼ æ ‡åœç•™åœ¨æ–‡å­—ä¸Šï¼Œæ–‡å­—åœæ­¢æ»šåŠ¨"></p>
<h3 id="å…«ã€ç»™æ»šåŠ¨å­—å¹•åŠ è¶…é“¾æ¥"><a href="#å…«ã€ç»™æ»šåŠ¨å­—å¹•åŠ è¶…é“¾æ¥" class="headerlink" title="å…«ã€ç»™æ»šåŠ¨å­—å¹•åŠ è¶…é“¾æ¥"></a>å…«ã€ç»™æ»šåŠ¨å­—å¹•åŠ è¶…é“¾æ¥</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"left"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span></span></span><br><span class="line"><span class="tag"><span class="attr">scrollamount</span>=<span class="string">"80px"</span></span></span><br><span class="line"><span class="tag"><span class="attr">onmouseover</span>=<span class="string">stop()</span></span></span><br><span class="line"><span class="tag"><span class="attr">onmouseout</span>=<span class="string">start()</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">#</span>&gt;</span>é‡‘é£ç‰éœ²<span class="tag">&lt;/<span class="name">a</span>&gt;</span>ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-5668ad5af1df16db.gif?imageMogr2/auto-orient/strip" alt="ç»™æ»šåŠ¨å­—å¹•åŠ è¶…é“¾æ¥"></p>
<h3 id="ä¹ã€ç»¼åˆå…¶å®ƒå±æ€§"><a href="#ä¹ã€ç»¼åˆå…¶å®ƒå±æ€§" class="headerlink" title="ä¹ã€ç»¼åˆå…¶å®ƒå±æ€§"></a>ä¹ã€ç»¼åˆå…¶å®ƒå±æ€§</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"left"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span></span></span><br><span class="line"><span class="tag"><span class="attr">scrollamount</span>=<span class="string">"30"</span></span></span><br><span class="line"><span class="tag"><span class="attr">scrolldelay</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag"><span class="attr">loop</span>=<span class="string">"-1"</span></span></span><br><span class="line"><span class="tag"><span class="attr">width</span>=<span class="string">"500"</span></span></span><br><span class="line"><span class="tag"><span class="attr">height</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag"><span class="attr">bgcolor</span>=<span class="string">"#FFCCFF"</span></span></span><br><span class="line"><span class="tag"><span class="attr">hspace</span>=<span class="string">"30"</span></span></span><br><span class="line"><span class="tag"><span class="attr">vspace</span>=<span class="string">"10"</span></span></span><br><span class="line"><span class="tag"><span class="attr">onmouseover</span>=<span class="string">this.stop()</span></span></span><br><span class="line"><span class="tag"><span class="attr">onmouseout</span>=<span class="string">start()</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">#</span>&gt;</span>é‡‘é£ç‰éœ²<span class="tag">&lt;/<span class="name">a</span>&gt;</span>ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-d8ef46a6806d1d63.gif?imageMogr2/auto-orient/strip" alt="ç»¼åˆå…¶å®ƒå±æ€§"></p>
<p>å°ç»“ï¼šè¯•äº† HTML å®ç°æ–‡å­—æ»šåŠ¨æ•ˆæœä¹‹åï¼Œå‘ç°æ¯” iOS ç®€å•æ–¹ä¾¿è®¸å¤šï¼Œä»¥ååœ¨å·¥ä½œä¹‹ä½™ä¼šå¤šå­¦å­¦å‰ç«¯çŸ¥è¯†ï¼Œæ±‚å¤§ç¥å¸¦å“ˆğŸ˜€ï¼</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/Markdown å¸¸ç”¨è¯­æ³•/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/Markdown å¸¸ç”¨è¯­æ³•/" itemprop="url">
                  Markdown å¸¸ç”¨è¯­æ³•
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>åˆæœ‰æœ‹å‹å…¥å‘ç¨‹åºçŒ¿è¿™ä¸€ç¥åœ£è€Œåˆä¼Ÿå¤§çš„èŒä¸šï¼Œé—®å†™åšå®¢ç”¨ <a href="https://zh.wikipedia.org/wiki/Markdown" target="_blank" rel="noopener">Markdown</a> è¯­æ³•æ€ä¹ˆæ ·ï¼Œè¡¨ç¤ºå¤§åŠ›èµåŒ ï¼Œä¸€ç›´ä»¥æ¥éƒ½è§‰å¾— Markdown è¯­æ³•è¶…çº§ç®€å•æ–¹ä¾¿ï¼Œè¿™ä¸¤å¤©å¹´ååˆšä¸Šç­ï¼Œé—²æ¥æ— äº‹ï¼Œäºæ˜¯æ•´ç†ä¸‹å¹³å¸¸ç”¨åˆ°çš„ Markdown è¯­æ³•ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æœ‰éœ€è¦çš„é“å‹ã€‚</p>
</blockquote>
<h3 id="ä¸€ã€æ ‡é¢˜"><a href="#ä¸€ã€æ ‡é¢˜" class="headerlink" title="ä¸€ã€æ ‡é¢˜"></a>ä¸€ã€æ ‡é¢˜</h3><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ‡é¢˜å‰é¢åŠ  # å·ï¼Œä¸€ä¸ª # ä»£è¡¨æ˜¯ä¸€çº§æ ‡é¢˜</span></span><br><span class="line"># ä¸€çº§æ ‡é¢˜</span><br><span class="line">## äºŒçº§æ ‡é¢˜</span><br><span class="line">### ä¸‰çº§æ ‡é¢˜</span><br><span class="line">#### å››çº§æ ‡é¢˜</span><br><span class="line">##### äº”çº§æ ‡é¢˜</span><br><span class="line">###### å…­çº§æ ‡é¢˜</span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<h1 id="ä¸€çº§æ ‡é¢˜"><a href="#ä¸€çº§æ ‡é¢˜" class="headerlink" title="ä¸€çº§æ ‡é¢˜"></a>ä¸€çº§æ ‡é¢˜</h1><h2 id="äºŒçº§æ ‡é¢˜"><a href="#äºŒçº§æ ‡é¢˜" class="headerlink" title="äºŒçº§æ ‡é¢˜"></a>äºŒçº§æ ‡é¢˜</h2><h3 id="ä¸‰çº§æ ‡é¢˜"><a href="#ä¸‰çº§æ ‡é¢˜" class="headerlink" title="ä¸‰çº§æ ‡é¢˜"></a>ä¸‰çº§æ ‡é¢˜</h3><h4 id="å››çº§æ ‡é¢˜"><a href="#å››çº§æ ‡é¢˜" class="headerlink" title="å››çº§æ ‡é¢˜"></a>å››çº§æ ‡é¢˜</h4><h5 id="äº”çº§æ ‡é¢˜"><a href="#äº”çº§æ ‡é¢˜" class="headerlink" title="äº”çº§æ ‡é¢˜"></a>äº”çº§æ ‡é¢˜</h5><h6 id="å…­çº§æ ‡é¢˜"><a href="#å…­çº§æ ‡é¢˜" class="headerlink" title="å…­çº§æ ‡é¢˜"></a>å…­çº§æ ‡é¢˜</h6><h3 id="äºŒã€åŒºå—å¼•ç”¨"><a href="#äºŒã€åŒºå—å¼•ç”¨" class="headerlink" title="äºŒã€åŒºå—å¼•ç”¨"></a>äºŒã€åŒºå—å¼•ç”¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// `&gt;`åæœ‰ 1 ä¸ªç©ºæ ¼</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> å¼•ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ä¸€çº§å¼•ç”¨</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> &gt; äºŒçº§å¼•ç”¨</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> &gt; &gt; ä¸‰çº§å¼•ç”¨</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> &gt; &gt; &gt; å››çº§å¼•ç”¨</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> &gt; &gt; &gt; &gt; äº”çº§å¼•ç”¨</span></span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<blockquote>
<p>å¼•ç”¨</p>
</blockquote>
<blockquote>
<p>ä¸€çº§å¼•ç”¨</p>
<blockquote>
<p>äºŒçº§å¼•ç”¨</p>
<blockquote>
<p>ä¸‰çº§å¼•ç”¨</p>
<blockquote>
<p>å››çº§å¼•ç”¨</p>
<blockquote>
<p>äº”çº§å¼•ç”¨</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<h3 id="ä¸‰ã€å¼ºè°ƒ"><a href="#ä¸‰ã€å¼ºè°ƒ" class="headerlink" title="ä¸‰ã€å¼ºè°ƒ"></a>ä¸‰ã€å¼ºè°ƒ</h3><p>ä¸‰ä¸ª <code>*</code> æˆ– <code>_</code> ä»£è¡¨æ–œä½“åŠ ç²—ï¼Œä¸¤ä¸ª <code>*</code> æˆ– <code>_</code> ä»£è¡¨åŠ ç²—ï¼Œä¸€ä¸ª <code>*</code> æˆ– <code>_</code> ä»£è¡¨æ–œä½“ï¼Œ<code>~~</code> ä»£è¡¨åˆ é™¤ã€‚</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="strong">***æ–œä½“åŠ ç²—æ–‡æœ¬**</span>* æˆ–è€… <span class="strong">___æ–œä½“åŠ ç²—æ–‡æœ¬__</span>_</span><br><span class="line"></span><br><span class="line"><span class="strong">**åŠ ç²—æ–‡æœ¬**</span> æˆ–è€… <span class="strong">__åŠ ç²—æ–‡æœ¬__</span></span><br><span class="line"></span><br><span class="line"><span class="emphasis">*æ–œä½“æ–‡æœ¬*</span>  æˆ–è€…<span class="emphasis">_æ–œä½“æ–‡æœ¬_</span></span><br><span class="line"></span><br><span class="line">~~åˆ é™¤æ–‡æœ¬~~</span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<p><strong><em>æ–œä½“åŠ ç²—æ–‡æœ¬</em></strong> æˆ–è€… <strong><em>æ–œä½“åŠ ç²—æ–‡æœ¬</em></strong></p>
<p><strong>åŠ ç²—æ–‡æœ¬</strong> æˆ–è€… <strong>åŠ ç²—æ–‡æœ¬</strong></p>
<p><em>æ–œä½“æ–‡æœ¬</em>  æˆ–è€…<em>æ–œä½“æ–‡æœ¬</em></p>
<p><del>åˆ é™¤æ–‡æœ¬</del></p>
<p>å½“ç„¶ä»¥ä¸Šå‡ ç§è¿˜å¯ä»¥äº¤å‰ä½¿ç”¨ï¼Œæ¯”å¦‚<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~~*<span class="strong">*åˆ é™¤åŠ ç²—æ–‡æœ¬*</span><span class="strong">*~~</span></span><br><span class="line"><span class="strong"></span></span><br><span class="line"><span class="strong">~~*</span>*<span class="strong">*åˆ é™¤æ–œä½“åŠ ç²—æ–‡æœ¬*</span>*<span class="strong">*~~</span></span><br></pre></td></tr></table></figure></p>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<p><del><strong>åˆ é™¤åŠ ç²—æ–‡æœ¬</strong></del></p>
<p><del><strong><em>åˆ é™¤æ–œä½“åŠ ç²—æ–‡æœ¬</em></strong></del></p>
<h3 id="å››ã€åˆ—è¡¨"><a href="#å››ã€åˆ—è¡¨" class="headerlink" title="å››ã€åˆ—è¡¨"></a>å››ã€åˆ—è¡¨</h3><p>Markdown æ”¯æŒæœ‰åºåˆ—è¡¨å’Œæ— åºåˆ—è¡¨ã€‚<br>æ— åºåˆ—è¡¨ä½¿ç”¨ <code>*</code> ã€<code>-</code>ã€å’Œ <code>+</code> ä½œä¸ºåˆ—è¡¨æ ‡è®°ï¼š<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">* </span>åŒ—äº¬</span><br><span class="line"><span class="bullet">* </span>æµ·æ·€åŒº</span><br><span class="line"><span class="bullet">* </span>äº”é“å£</span><br><span class="line"><span class="bullet">* </span>ä¸Šæµ·</span><br><span class="line"><span class="bullet">* </span>é»„æµ¦åŒº</span><br><span class="line"><span class="bullet">* </span>å¤–æ»©</span><br><span class="line"><span class="bullet">* </span>å¹¿å·</span><br><span class="line"><span class="bullet">* </span>å¹¿å·</span><br><span class="line"><span class="bullet">* </span>å¹¿å·</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="bullet">- </span>åŒ—äº¬</span><br><span class="line"><span class="bullet">- </span>æµ·æ·€åŒº</span><br><span class="line"><span class="bullet">- </span>äº”é“å£</span><br><span class="line"><span class="bullet">- </span>ä¸Šæµ·</span><br><span class="line"><span class="bullet">- </span>é»„æµ¦åŒº</span><br><span class="line"><span class="bullet">- </span>å¤–æ»©</span><br><span class="line"><span class="bullet">- </span>å¹¿å·</span><br><span class="line"><span class="bullet">- </span>å¹¿å·</span><br><span class="line"><span class="bullet">- </span>å¹¿å·</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="bullet">+ </span>åŒ—äº¬</span><br><span class="line"><span class="bullet">+ </span>æµ·æ·€åŒº</span><br><span class="line"><span class="bullet">+ </span>äº”é“å£</span><br><span class="line"><span class="bullet">+ </span>ä¸Šæµ·</span><br><span class="line"><span class="bullet">+ </span>é»„æµ¦åŒº</span><br><span class="line"><span class="bullet">+ </span>å¤–æ»©</span><br><span class="line"><span class="bullet">+ </span>å¹¿å·</span><br><span class="line"><span class="bullet">+ </span>å¹¿å·</span><br><span class="line"><span class="bullet">+ </span>å¹¿å·</span><br></pre></td></tr></table></figure></p>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<ul>
<li>åŒ—äº¬</li>
<li>æµ·æ·€åŒº</li>
<li>äº”é“å£</li>
<li>ä¸Šæµ·</li>
<li>é»„æµ¦åŒº</li>
<li>å¤–æ»©</li>
<li>å¹¿å·</li>
<li>å¹¿å·</li>
<li>å¹¿å·</li>
</ul>
<p>æœ‰åºåˆ—è¡¨åˆ™ä½¿ç”¨æ•°å­—åŠ è‹±æ–‡å¥ç‚¹ <code>.</code> æ¥è¡¨ç¤ºï¼š<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1. </span>åŒ—äº¬</span><br><span class="line"><span class="bullet">2. </span>ä¸Šæµ·</span><br><span class="line"><span class="bullet">3. </span>å¹¿å·</span><br></pre></td></tr></table></figure></p>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<ol>
<li>åŒ—äº¬</li>
<li>ä¸Šæµ·</li>
<li>å¹¿å·</li>
</ol>
<p>###äº”ã€åˆ†éš”çº¿</p>
<p>å¯ä»¥ç”¨ä¸‰ä¸ªæˆ–ä¸‰ä¸ªä»¥ä¸Šçš„ <code>*</code> ã€<code>-</code>ã€æˆ– <code>_</code> æ¥å»ºç«‹åˆ†éš”çº¿<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">******</span></span><br><span class="line"><span class="string">___</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></p>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<hr>
<hr>
<hr>
<h3 id="å…­ã€é“¾æ¥"><a href="#å…­ã€é“¾æ¥" class="headerlink" title="å…­ã€é“¾æ¥"></a>å…­ã€é“¾æ¥</h3><p>Markdown æ”¯æŒä¸‰ç§å½¢å¼çš„é“¾æ¥è¯­æ³•ï¼š è¡Œå†…å¼å’Œå‚è€ƒå¼å’Œè‡ªåŠ¨é“¾æ¥ã€‚</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¡Œå†…å¼é“¾æ¥ï¼š[<span class="string">_ä»¥æ¢¦ä¸ºé©¬</span>](<span class="link">http://www.jianshu.com/u/4f54fbd2ea5f</span>)</span><br><span class="line"></span><br><span class="line">å‚è€ƒå¼é“¾æ¥ï¼š[<span class="string">_ä»¥æ¢¦ä¸ºé©¬</span>][<span class="symbol">url</span>]</span><br><span class="line"></span><br><span class="line">// url ä¸ºé“¾æ¥æ ‡è®°</span><br><span class="line">[<span class="symbol">url</span>]: <span class="link">http://www.jianshu.com/u/4f54fbd2ea5f</span></span><br><span class="line"></span><br><span class="line">è‡ªåŠ¨é“¾æ¥ï¼š<span class="xml"><span class="tag">&lt;<span class="name">http:</span>//<span class="attr">www.jianshu.com</span>/<span class="attr">u</span>/<span class="attr">4f54fbd2ea5f</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<p>è¡Œå†…å¼é“¾æ¥ï¼š<a href="http://www.jianshu.com/u/4f54fbd2ea5f" target="_blank" rel="noopener">_ä»¥æ¢¦ä¸ºé©¬</a></p>
<p>å‚è€ƒå¼é“¾æ¥ï¼š<a href="http://www.jianshu.com/u/4f54fbd2ea5f" target="_blank" rel="noopener">_ä»¥æ¢¦ä¸ºé©¬</a></p>
<p>è‡ªåŠ¨é“¾æ¥ï¼š<a href="http://www.jianshu.com/u/4f54fbd2ea5f" target="_blank" rel="noopener">http://www.jianshu.com/u/4f54fbd2ea5f</a></p>
<h3 id="ä¸ƒã€å›¾ç‰‡"><a href="#ä¸ƒã€å›¾ç‰‡" class="headerlink" title="ä¸ƒã€å›¾ç‰‡"></a>ä¸ƒã€å›¾ç‰‡</h3><p>Markdown æ’å…¥å›¾ç‰‡çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œåˆ†ä¸ºè¡Œå†…å¼å’Œå‚è€ƒå¼ï¼Œä½†ä¸¤è€…éƒ½æ— æ³•è°ƒæ•´å›¾ç‰‡å¤§å°ï¼Œå› æ­¤å»ºè®®åœ¨æ’å…¥å›¾ç‰‡ä¹‹å‰å…ˆè°ƒæ•´å¥½å›¾ç‰‡çš„å¤§å°</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¡Œå†…å¼æ’å…¥å›¾ç‰‡ï¼š![<span class="string">å›¾ç‰‡æè¿°</span>](<span class="link">http://upload.jianshu.io/users/upload_avatars/2665449/2a2822209b0d.jpeg?imageMogr2/auto-orient/strip|imageView2/1/w/240/h/240</span>)</span><br><span class="line">å‚è€ƒå¼æ’å…¥å›¾ç‰‡ï¼š![<span class="string">å›¾ç‰‡æè¿°</span>][<span class="symbol">image</span>]</span><br><span class="line">[<span class="symbol">image</span>]: <span class="link">http://upload.jianshu.io/users/upload_avatars/2665449/2a2822209b0d.jpeg?imageMogr2/auto-orient/strip|imageView2/1/w/240/h/240</span></span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<p>è¿™æ˜¯è¡Œå†…å¼æ’å…¥å›¾ç‰‡ï¼š [å›¾ç‰‡ä¸Šä¼ å¤±è´¥â€¦(image-62463-1514895850682)]</p>
<p>è¿™æ˜¯å‚è€ƒå¼æ’å…¥å›¾ç‰‡ï¼š![å‚è€ƒå¼æ’å…¥å›¾ç‰‡][image]<br>[image]: <a href="http://upload.jianshu.io/users/upload_avatars/2665449/2a2822209b0d.jpeg?imageMogr2/auto-orient/strip|imageView2/1/w/240/h/240" target="_blank" rel="noopener">http://upload.jianshu.io/users/upload_avatars/2665449/2a2822209b0d.jpeg?imageMogr2/auto-orient/strip|imageView2/1/w/240/h/240</a></p>
<h3 id="å…«ã€ä»£ç "><a href="#å…«ã€ä»£ç " class="headerlink" title="å…«ã€ä»£ç "></a>å…«ã€ä»£ç </h3><h5 id="ä»£ç åˆ†ä¸ºè¡Œå†…ä»£ç å’Œä»£ç æ¡†"><a href="#ä»£ç åˆ†ä¸ºè¡Œå†…ä»£ç å’Œä»£ç æ¡†" class="headerlink" title="ä»£ç åˆ†ä¸ºè¡Œå†…ä»£ç å’Œä»£ç æ¡†"></a>ä»£ç åˆ†ä¸ºè¡Œå†…ä»£ç å’Œä»£ç æ¡†</h5><ul>
<li>è¡Œå†…ä»£ç å°±æ˜¯ç”¨ä¸¤ä¸ª`æŠŠéœ€è¦æ·»åŠ è¡Œå†…ä»£ç çš„åŒºåŸŸåŒ…èµ·æ¥ã€‚</li>
</ul>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯è¡Œå†…ä»£ç ï¼š`<span class="literal">self</span>.<span class="built_in">table</span>View.delegate = <span class="literal">self</span>`</span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<p>è¿™æ˜¯è¡Œå†…ä»£ç ï¼š<code>self.tableView.delegate = self</code></p>
<ul>
<li>ä»£ç æ¡†å°±æ˜¯ç”¨ä¸¤ä¸ª <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<p>è¿™æ˜¯ä»£ç æ¡†ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">self.tableView.delegate = self;</span><br><span class="line">self.tableView.dataSource = self;</span><br><span class="line">self.tableView.showsVerticalScrollIndicator = NO;</span><br><span class="line">self.tableView.separatorStyle = UITableViewCellSeparatorStyleNone;</span><br><span class="line">```</span><br></pre></td></tr></table></figure></p>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<p>è¿™æ˜¯ä»£ç æ¡†ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">self.tableView.delegate = self;</span><br><span class="line">self.tableView.dataSource = self;</span><br><span class="line">self.tableView.showsVerticalScrollIndicator = NO;</span><br><span class="line">self.tableView.separatorStyle = UITableViewCellSeparatorStyleNone;</span><br></pre></td></tr></table></figure></p>
<h3 id="ä¹ã€è¡¨æ ¼"><a href="#ä¹ã€è¡¨æ ¼" class="headerlink" title="ä¹ã€è¡¨æ ¼"></a>ä¹ã€è¡¨æ ¼</h3><ul>
<li>è¡¨æ ¼å¯¹é½æ–¹å¼æœ‰ä¸‰ç§ï¼š</li>
<li>å±…å·¦ï¼š<code>:----</code></li>
<li>å±…ä¸­ï¼š<code>:----:</code>æˆ–<code>-----</code></li>
<li>å±…å³ï¼š<code>----:</code></li>
</ul>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|<span class="string">æ ‡é¢˜</span>|<span class="string">æ ‡é¢˜</span>|<span class="string">æ ‡é¢˜</span>|</span><br><span class="line">|<span class="string">:---</span>|<span class="string">:---:</span>|<span class="string">---:</span>|</span><br><span class="line">|<span class="string">å±…å·¦å±…å·¦å±…å·¦å±…å·¦</span>|<span class="string">å±…ä¸­</span>|<span class="string">å±…å³</span>|</span><br><span class="line">|<span class="string">å±…å·¦</span>|<span class="string">å±…ä¸­å±…ä¸­å±…ä¸­å±…ä¸­</span>|<span class="string">å±…å³</span>|</span><br><span class="line">|<span class="string">å±…å·¦</span>|<span class="string">å±…ä¸­</span>|<span class="string">å±…å³å±…å³å±…å³å±…å³</span>|</span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:left">æ ‡é¢˜</th>
<th style="text-align:center">æ ‡é¢˜</th>
<th style="text-align:right">æ ‡é¢˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">å±…å·¦å±…å·¦å±…å·¦å±…å·¦</td>
<td style="text-align:center">å±…ä¸­</td>
<td style="text-align:right">å±…å³</td>
</tr>
<tr>
<td style="text-align:left">å±…å·¦</td>
<td style="text-align:center">å±…ä¸­å±…ä¸­å±…ä¸­å±…ä¸­</td>
<td style="text-align:right">å±…å³</td>
</tr>
<tr>
<td style="text-align:left">å±…å·¦</td>
<td style="text-align:center">å±…ä¸­</td>
<td style="text-align:right">å±…å³å±…å³å±…å³å±…å³</td>
</tr>
</tbody>
</table>
<h3 id="åã€è„šæ³¨"><a href="#åã€è„šæ³¨" class="headerlink" title="åã€è„šæ³¨"></a>åã€è„šæ³¨</h3><p>ä½¿ç”¨[^]æ¥å®šä¹‰è„šæ³¨ï¼š</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯ä¸€ä¸ªè„šæ³¨ [^1]</span><br><span class="line"></span><br><span class="line">[<span class="symbol">^1</span>]: <span class="link">è¿™æ˜¯ä¸€ä¸ªè„šæ³¨</span></span><br></pre></td></tr></table></figure>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š</p>
<p>è¿™æ˜¯ä¸€ä¸ªè„šæ³¨ <a href="è¿™æ˜¯ä¸€ä¸ªè„šæ³¨">^1</a></p>
<p>###åä¸€ã€é«˜çº§æŠ€å·§</p>
<ul>
<li>HTML æ ‡ç­¾</li>
<li>ä»£ç å—   <code>&lt;pre&gt;ä»£ç å—&lt;/pre&gt;</code><br><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š<pre>ä»£ç å—</pre></li>
<li>ç²—æ–œä½“ <code>&lt;b&gt; Markdown åŠ ç²— *æ–œä½“* &lt;/b&gt;</code><br><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š<br><b> Markdown åŠ ç²— <em>æ–œä½“</em> </b></li>
<li>ä¸‹åˆ’çº¿   <code>&lt;u&gt;ä¸‹åˆ’çº¿&lt;/u&gt;</code><br><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š<br><u>ä¸‹åˆ’çº¿</u></li>
</ul>
<p>Markdown ä¸­ HTML æ ‡ç­¾è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚<code>&lt;kdb&gt;</code> <code>&lt;i&gt;</code> <code>&lt;em&gt;</code> <code>&lt;sup&gt;</code> <code>&lt;sub&gt;</code> <code>&lt;br&gt;</code> <code>&lt;p&gt;</code>ç­‰ç­‰ï¼Œæœ‰å…´è¶£çš„ç«¥é‹å¯ä»¥è¯•è¯•ã€‚</p>
<ul>
<li>ç¬¦å·è½¬ä¹‰<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">\_</span>ä¸æƒ³è¿™é‡Œçš„æ–‡æœ¬å˜æ–œä½“<span class="symbol">\_</span></span><br><span class="line"><span class="symbol">\*</span><span class="symbol">\*</span>ä¸æƒ³è¿™é‡Œçš„æ–‡æœ¬åŠ ç²—<span class="symbol">\*</span><span class="symbol">\*</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>æ•ˆæœé¢„è§ˆ</strong>ï¼š<br>_ä¸æƒ³è¿™é‡Œçš„æ–‡æœ¬å˜æ–œä½“_<br>**ä¸æƒ³è¿™é‡Œçš„æ–‡æœ¬åŠ ç²—**</p>
<h3 id="ç»“æŸè¯­ï¼š"><a href="#ç»“æŸè¯­ï¼š" class="headerlink" title="ç»“æŸè¯­ï¼š"></a>ç»“æŸè¯­ï¼š</h3><p>Markdown çš„å¸¸ç”¨è¯­æ³•åŸºæœ¬ä¸Šéƒ½åœ¨è¿™é‡Œäº†ï¼Œå¦å¤–å†æ¨èä¸€æ¬¾å…è´¹ä¸”ååˆ†å¥½ç”¨çš„ Markdown ç¼–è¾‘å™¨ <a href="http://25.io/mou/" target="_blank" rel="noopener">Mou</a>ï¼ˆMac OS X ä¸Šï¼‰ã€‚</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOS å¼€å‘ - Swift å…¨é¢ç³»ç»Ÿçš„å­¦ä¹ ï¼ˆæŒç»­æ›´æ–°...ï¼‰/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOS å¼€å‘ - Swift å…¨é¢ç³»ç»Ÿçš„å­¦ä¹ ï¼ˆæŒç»­æ›´æ–°...ï¼‰/" itemprop="url">
                  iOS å¼€å‘ - Swift å…¨é¢ç³»ç»Ÿçš„å­¦ä¹ ï¼ˆæŒç»­æ›´æ–°...ï¼‰
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>æœ€è¿‘é¡¹ç›®ä¸ç®—ç´§ï¼Œäºæ˜¯å°±å­¦äº†å­¦ Swift ï¼Œçœ‹äº†ä¸€å¤§ç¥å†™çš„é¡¹ç›®<a href="https://github.com/hrscy/DanTangï¼Œå¾ˆå—ç›Šï¼Œæ„Ÿè°¢å¼€æºï¼å¦å¤–è‡ªå·±ä¹Ÿå†™äº†ä¸€äº›åŸºç¡€ä»£ç ï¼Œåˆ†äº«å‡ºæ¥ï¼Œç¬¬ä¸€æ˜¯å¸Œæœ›å¾—åˆ°åŒè¡Œå‰è¾ˆçš„æŒ‡å¯¼ï¼Œç¬¬äºŒæ˜¯å¸Œæœ›å¯¹éœ€è¦çš„æœ‹å‹æœ‰æ‰€å¸®åŠ©ã€‚" target="_blank" rel="noopener">https://github.com/hrscy/DanTangï¼Œå¾ˆå—ç›Šï¼Œæ„Ÿè°¢å¼€æºï¼å¦å¤–è‡ªå·±ä¹Ÿå†™äº†ä¸€äº›åŸºç¡€ä»£ç ï¼Œåˆ†äº«å‡ºæ¥ï¼Œç¬¬ä¸€æ˜¯å¸Œæœ›å¾—åˆ°åŒè¡Œå‰è¾ˆçš„æŒ‡å¯¼ï¼Œç¬¬äºŒæ˜¯å¸Œæœ›å¯¹éœ€è¦çš„æœ‹å‹æœ‰æ‰€å¸®åŠ©ã€‚</a></p>
</blockquote>
<h5 id="å…ˆåˆ†äº«ä¸€äº›å­¦ä¹ èµ„æ–™ï¼š"><a href="#å…ˆåˆ†äº«ä¸€äº›å­¦ä¹ èµ„æ–™ï¼š" class="headerlink" title="å…ˆåˆ†äº«ä¸€äº›å­¦ä¹ èµ„æ–™ï¼š"></a>å…ˆåˆ†äº«ä¸€äº›å­¦ä¹ èµ„æ–™ï¼š</h5><ul>
<li>å­¦ä¹ ç½‘ç«™ï¼š</li>
<li><p>è‹¹æœå®˜æ–¹ä¸ºå¼€å‘è€…æä¾›çš„ Swift å­¦ä¹ èµ„æº: <a href="https://developer.apple.com/swift/resources/" target="_blank" rel="noopener">https://developer.apple.com/swift/resources/</a></p>
</li>
<li><p>å®˜æ–¹çš„ API Design: <a href="https://swift.org/documentation/api-design-guidelines/" target="_blank" rel="noopener">https://swift.org/documentation/api-design-guidelines/</a></p>
</li>
<li><p>å­¦ä¹ ä¹¦ç±ï¼š</p>
</li>
<li><p>TheSwiftProgrammingLanguage(Swift3): é“¾æ¥:<a href="http://pan.baidu.com/s/1jIopBwi" target="_blank" rel="noopener">http://pan.baidu.com/s/1jIopBwi</a>  å¯†ç :dqho</p>
</li>
<li><p>The Swift Programming Language ä¸­æ–‡ç‰ˆ: é“¾æ¥:<a href="http://pan.baidu.com/s/1slpxtTj" target="_blank" rel="noopener">http://pan.baidu.com/s/1slpxtTj</a>  å¯†ç :xay1</p>
</li>
<li><p>å…¶å®ƒå­¦ä¹ èµ„æ–™</p>
</li>
<li><a href="https://github.com/Tim9Liu9/TimLiu-iOS/blob/master/Swift.md#swift" target="_blank" rel="noopener">https://github.com/Tim9Liu9/TimLiu-iOS/blob/master/Swift.md#swift</a></li>
<li><a href="https://github.com/ipader/SwiftGuide" target="_blank" rel="noopener">https://github.com/ipader/SwiftGuide</a></li>
</ul>
<hr>
<p><strong>ç»ƒä¹ çš„ demo åœ°å€ï¼š</strong> <a href="https://github.com/liuzhongning/NNMintFurniture" target="_blank" rel="noopener">https://github.com/liuzhongning/NNMintFurniture</a></p>
<ul>
<li>ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹åŠŸèƒ½ï¼š</li>
<li>å¤šé¡µé¢æ»‘åŠ¨è§†å›¾ï¼ˆåˆ†é¡µæ§åˆ¶å™¨ï¼‰</li>
<li>å›¾ç‰‡è½®æ’­</li>
<li>å¯¼èˆªæ æ¸å˜</li>
<li>ç€‘å¸ƒæµç»ƒä¹ </li>
<li>UIScrollView ç»ƒä¹ </li>
<li>ç…§ç›¸åŠŸèƒ½ï¼Œæ›´æ¢å¤´åƒ</li>
<li>äºŒç»´ç æ‰«æåŠè¯†åˆ«</li>
<li>éšæœºå›¾ç‰‡éªŒè¯ç å°è£…</li>
<li>åœ†å½¢è¾“å…¥æ¡†å°è£…</li>
<li>ç¬¬ä¸‰æ–¹åº“ SnapKit ç”¨æ³•</li>
<li>â€¦â€¦â€¦â€¦</li>
</ul>
<hr>
<blockquote>
<p>ç»ƒä¹  demo çš„ç®€å•ä»‹ç»ï¼Œå‰æ–¹é«˜èƒ½é¢„è­¦ï¼Œå¤§é‡å›¾ç‰‡è¯·æ³¨æ„æ‰‹æœºæµé‡ï¼</p>
</blockquote>
<h4 id="ä¸€ã€å¤šé¡µé¢æ»‘åŠ¨è§†å›¾ï¼ˆåˆ†é¡µæ§åˆ¶å™¨ï¼‰"><a href="#ä¸€ã€å¤šé¡µé¢æ»‘åŠ¨è§†å›¾ï¼ˆåˆ†é¡µæ§åˆ¶å™¨ï¼‰" class="headerlink" title="ä¸€ã€å¤šé¡µé¢æ»‘åŠ¨è§†å›¾ï¼ˆåˆ†é¡µæ§åˆ¶å™¨ï¼‰"></a>ä¸€ã€å¤šé¡µé¢æ»‘åŠ¨è§†å›¾ï¼ˆåˆ†é¡µæ§åˆ¶å™¨ï¼‰</h4><p><img src="http://upload-images.jianshu.io/upload_images/2665449-32882dd38dd1bc87.gif?imageMogr2/auto-orient/strip" alt="å¤šé¡µé¢æ»‘åŠ¨è§†å›¾"></p>
<ul>
<li>æ ¸å¿ƒä»£ç </li>
</ul>
<figure class="highlight roboconf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">// MARK: ç‚¹å‡»äº†æ ‡ç­¾æ </span><br><span class="line">func titlesClick(button: UIButton) &#123;</span><br><span class="line"><span class="attribute">selectedButton!.isEnabled = true</span></span><br><span class="line"><span class="attribute">selectedButton!.setTitleColor(UIColor.gray, for</span>: <span class="variable">.normal</span>)</span><br><span class="line">button<span class="variable">.isEnabled</span> = false</span><br><span class="line">selectedButton = button</span><br><span class="line">selectedButton?<span class="variable">.setTitleColor</span>(UIColor<span class="variable">.red</span>, for: <span class="variable">.normal</span>)</span><br><span class="line"></span><br><span class="line">var offset = contentView!<span class="variable">.contentOffset</span></span><br><span class="line">offset<span class="variable">.x</span> = CGFloat(button<span class="variable">.tag</span>) * (contentView?<span class="variable">.frame</span><span class="variable">.size</span><span class="variable">.width</span>)!</span><br><span class="line">contentView!<span class="variable">.setContentOffset</span>(offset, animated: true)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// MARK: ç‚¹å‡»äº†å³è¾¹æœç´¢æ¡†</span><br><span class="line">func rightBarButtonClick() &#123;</span><br><span class="line">navigationController?<span class="variable">.pushViewController</span>(NNSearchController(), animated: true)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// MARK: ç‚¹å‡»äº†ç®­å¤´</span><br><span class="line">func arrowButtonClick(button: UIButton) &#123;</span><br><span class="line">UIView<span class="variable">.animate</span>(withDuration: 0.25) &#123;</span><br><span class="line">button<span class="variable">.imageView</span>?<span class="variable">.transform</span> = button<span class="variable">.imageView</span>!<span class="variable">.transform</span><span class="variable">.rotated</span>(by: CGFloat(Double<span class="variable">.pi</span>))</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// MARK: - UIScrollViewDelegate ä»£ç†</span><br><span class="line">// MARK: scrollViewDidEndScrollingAnimation</span><br><span class="line">func scrollViewDidEndScrollingAnimation(_ scrollView: UIScrollView) &#123;</span><br><span class="line">let index = Int(scrollView<span class="variable">.contentOffset</span><span class="variable">.x</span> / scrollView<span class="variable">.frame</span><span class="variable">.size</span><span class="variable">.width</span>)</span><br><span class="line">// å–å‡ºå­æ§åˆ¶å™¨</span><br><span class="line">let vc = childViewControllers[index]</span><br><span class="line">vc<span class="variable">.view</span><span class="variable">.frame</span><span class="variable">.origin</span><span class="variable">.x</span> = scrollView<span class="variable">.contentOffset</span><span class="variable">.x</span></span><br><span class="line">vc<span class="variable">.view</span><span class="variable">.frame</span><span class="variable">.origin</span><span class="variable">.y</span> = 0</span><br><span class="line">// è®¾ç½®æ§åˆ¶å™¨çš„ view çš„ height å€¼ä¸ºæ•´ä¸ªå±å¹•çš„é«˜åº¦</span><br><span class="line">vc<span class="variable">.view</span><span class="variable">.frame</span><span class="variable">.size</span><span class="variable">.height</span> = scrollView<span class="variable">.frame</span><span class="variable">.size</span><span class="variable">.height</span></span><br><span class="line">scrollView<span class="variable">.addSubview</span>(vc<span class="variable">.view</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// MARK: scrollViewDidEndDecelerating</span><br><span class="line">func scrollViewDidEndDecelerating(_ scrollView: UIScrollView) &#123;</span><br><span class="line">scrollViewDidEndScrollingAnimation(scrollView)</span><br><span class="line">// å½“å‰ç´¢å¼•</span><br><span class="line">let index = Int(scrollView<span class="variable">.contentOffset</span><span class="variable">.x</span> / scrollView<span class="variable">.frame</span><span class="variable">.size</span><span class="variable">.width</span>)</span><br><span class="line">// ç‚¹å‡» Button</span><br><span class="line">let button = titlesView<span class="variable">.subviews</span>[index] as! UIButton</span><br><span class="line">titlesClick(button: button)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="äºŒã€å›¾ç‰‡è½®æ’­"><a href="#äºŒã€å›¾ç‰‡è½®æ’­" class="headerlink" title="äºŒã€å›¾ç‰‡è½®æ’­"></a>äºŒã€å›¾ç‰‡è½®æ’­</h4><p><img src="http://upload-images.jianshu.io/upload_images/2665449-0e923b9e52af87c1.gif?imageMogr2/auto-orient/strip" alt="å›¾ç‰‡è½®æ’­"></p>
<ul>
<li>æ ¸å¿ƒä»£ç ï¼š</li>
</ul>
<p><strong>è½®æ’­å›¾çš„å°è£…</strong><br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: - æ‡’åŠ è½½è½®æ’­è§†å›¾</span></span><br><span class="line"><span class="keyword">private</span> lazy var <span class="string">shufflingFigureView :</span> NNShufflingFigureView = &#123;</span><br><span class="line">let frame = CGRect(<span class="string">x:</span> <span class="number">0</span>, <span class="string">y:</span> <span class="number">0</span>, <span class="string">width:</span> NNScreenWidth, <span class="string">height:</span> <span class="number">180</span>)</span><br><span class="line">let imageView = [<span class="string">"shuffling1"</span>, <span class="string">"shuffling2"</span>, <span class="string">"shuffling3"</span>, <span class="string">"shuffling4"</span>]</span><br><span class="line">let shufflingFigureView = NNShufflingFigureView(<span class="string">frame:</span> frame, <span class="string">images:</span> imageView <span class="keyword">as</span> NSArray, <span class="string">autoPlay:</span> <span class="literal">true</span>, <span class="string">delay:</span> <span class="number">3</span>, <span class="string">isFromNet:</span> <span class="literal">false</span>)</span><br><span class="line">shufflingFigureView.delegate = self</span><br><span class="line"><span class="keyword">return</span> shufflingFigureView</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure></p>
<p><strong>é€šè¿‡ä»£ç†å¤„ç†å›¾ç‰‡çš„ç‚¹å‡»äº‹ä»¶</strong><br><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: - è½®æ’­ä»£ç†æ–¹æ³•ï¼Œå¤„ç†è½®æ’­å›¾çš„ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">NNItemTableViewController</span>: <span class="title">NNShufflingFigureViewDelegate</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addShufflingFigureView</span><span class="params">(addShufflingFigureView: NNShufflingFigureView, iconClick index: NSInteger)</span></span> &#123;</span><br><span class="line"><span class="built_in">print</span>(index)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="ä¸‰ã€å¯¼èˆªæ æ¸å˜"><a href="#ä¸‰ã€å¯¼èˆªæ æ¸å˜" class="headerlink" title="ä¸‰ã€å¯¼èˆªæ æ¸å˜"></a>ä¸‰ã€å¯¼èˆªæ æ¸å˜</h4><p><img src="http://upload-images.jianshu.io/upload_images/2665449-b6506cb5fab324c0.gif?imageMogr2/auto-orient/strip" alt="å¯¼èˆªæ æ¸å˜"></p>
<ul>
<li>æ ¸å¿ƒä»£ç </li>
</ul>
<p><strong>é¡µé¢æ»šåŠ¨æ—¶è°ƒç”¨</strong><br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// MARK: - UIScrollViewDelegate æ»šåŠ¨é¡µé¢æ—¶è°ƒç”¨</span><br><span class="line">extension NNItemTableViewController &#123;</span><br><span class="line">override func scrollViewDidScroll(_ scrollView: UIScrollView) &#123;</span><br><span class="line"><span class="keyword">if</span> <span class="attr">type</span> == tableViewType.haveHeader &#123;</span><br><span class="line">return</span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">currentPostion</span> = scrollView.contentOffset.y</span><br><span class="line"><span class="keyword">if</span> currentPostion &gt; <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">if</span> currentPostion - lastPosition &gt;= <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">if</span> topBool &#123;</span><br><span class="line"><span class="attr">topBool</span> = <span class="literal">false</span></span><br><span class="line"><span class="attr">bottomBool</span> = <span class="literal">true</span></span><br><span class="line"><span class="attr">stopPosition</span> = currentPostion + <span class="number">64</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">lastPosition</span> = currentPostion</span><br><span class="line">navigationController?.navigationBar.<span class="attr">alpha</span> = <span class="number">1</span> - currentPostion / <span class="number">500</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> bottomBool &#123;</span><br><span class="line"><span class="attr">bottomBool</span> = <span class="literal">false</span></span><br><span class="line"><span class="attr">topBool</span> = <span class="literal">true</span></span><br><span class="line"><span class="attr">stopPosition</span> = currentPostion + <span class="number">64</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="attr">lastPosition</span> = currentPostion</span><br><span class="line">navigationController?.navigationBar.<span class="attr">alpha</span> = (stopPosition - currentPostion) / <span class="number">200</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="å››ã€ç€‘å¸ƒæµç»ƒä¹ "><a href="#å››ã€ç€‘å¸ƒæµç»ƒä¹ " class="headerlink" title="å››ã€ç€‘å¸ƒæµç»ƒä¹ "></a>å››ã€ç€‘å¸ƒæµç»ƒä¹ </h4><p><img src="http://upload-images.jianshu.io/upload_images/2665449-c47f2e1053e05065.gif?imageMogr2/auto-orient/strip" alt="ç€‘å¸ƒæµç»ƒä¹ "></p>
<ul>
<li>æ ¸å¿ƒä»£ç </li>
</ul>
<p><strong>åŸºç¡€è®¾ç½®</strong><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸ƒå±€</span></span><br><span class="line">let layout = NNItemCollectionViewFlowLayout()</span><br><span class="line"><span class="comment">// åˆ›å»ºcollectionView</span></span><br><span class="line">let collectionView = UICollectionView.init(frame: view<span class="selector-class">.bounds</span>, collectionViewLayout: layout)</span><br><span class="line">view.addSubview(collectionView)</span><br><span class="line">collectionView<span class="selector-class">.dataSource</span> = self</span><br><span class="line">collectionView<span class="selector-class">.delegate</span> = self</span><br><span class="line">collectionView<span class="selector-class">.backgroundColor</span> = UIColor.white</span><br><span class="line">collectionView.register(UICollectionViewCell<span class="selector-class">.self</span>, forCellWithReuseIdentifier: NNItemCollectionViewControllerID)</span><br></pre></td></tr></table></figure></p>
<p><strong>è‡ªå®šä¹‰ UICollectionViewFlowLayout</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: - æ›´æ–°å¸ƒå±€</span></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">prepare</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">super</span>.prepare()</span><br><span class="line"><span class="comment">// æ¸…é™¤æ‰€æœ‰çš„å¸ƒå±€å±æ€§</span></span><br><span class="line">attrsArray.removeAll()</span><br><span class="line">columnHeightsAry.removeAll()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> <span class="number">0</span> ..&lt; columnCountDefault &#123;</span><br><span class="line">columnHeightsAry.append(edgeInsetsDefault.top)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sections : <span class="type">Int</span> = (collectionView?.numberOfSections)!</span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> <span class="number">0</span> ..&lt; sections &#123;</span><br><span class="line"><span class="keyword">let</span> <span class="built_in">count</span> : <span class="type">Int</span> = (collectionView?.numberOfItems(inSection: num))!</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span> ..&lt; <span class="built_in">count</span> &#123;</span><br><span class="line"><span class="keyword">let</span> indexpath : <span class="type">NSIndexPath</span> = <span class="type">NSIndexPath</span>.<span class="keyword">init</span>(item: i, section: num)</span><br><span class="line"><span class="keyword">let</span> attrs = layoutAttributesForItem(at: indexpath <span class="keyword">as</span> <span class="type">IndexPath</span>)!</span><br><span class="line">attrsArray.append(attrs)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: - cell å¯¹åº”çš„å¸ƒå±€å±æ€§</span></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutAttributesForItem</span><span class="params">(at indexPath: IndexPath)</span></span> -&gt; <span class="type">UICollectionViewLayoutAttributes</span>? &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> attrs = <span class="type">UICollectionViewLayoutAttributes</span>.<span class="keyword">init</span>(forCellWith: indexPath)</span><br><span class="line"><span class="keyword">let</span> collectionWidth = collectionView?.frame.size.width</span><br><span class="line"><span class="comment">// è·å¾—æ‰€æœ‰ item çš„å®½åº¦</span></span><br><span class="line"><span class="keyword">let</span> itemW = (collectionWidth! - edgeInsetsDefault.<span class="keyword">left</span> - edgeInsetsDefault.<span class="keyword">right</span> - <span class="type">CGFloat</span>(columnCountDefault-<span class="number">1</span>) * columnMargin) / <span class="type">CGFloat</span>(columnCountDefault)</span><br><span class="line"><span class="keyword">let</span> itemH = <span class="number">50</span> + arc4random_uniform(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¾å‡ºé«˜åº¦æœ€çŸ­é‚£ä¸€åˆ—</span></span><br><span class="line"><span class="keyword">var</span> dextColum : <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> minH = columnHeightsAry[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span> ..&lt; columnCountDefault&#123;</span><br><span class="line"><span class="comment">// å–å‡ºç¬¬ i åˆ—çš„é«˜åº¦</span></span><br><span class="line"><span class="keyword">let</span> columnH = columnHeightsAry[i]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> minH &gt; columnH &#123;</span><br><span class="line">minH = columnH</span><br><span class="line">dextColum = i</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> x = edgeInsetsDefault.<span class="keyword">left</span> + <span class="type">CGFloat</span>(dextColum) * (itemW + columnMargin)</span><br><span class="line"><span class="keyword">var</span> y = minH</span><br><span class="line"><span class="keyword">if</span> y != edgeInsetsDefault.top&#123;</span><br><span class="line">y = y + itemMargin</span><br><span class="line">&#125;</span><br><span class="line">attrs.frame = <span class="type">CGRect</span>(x: x, y: y, width: itemW, height: <span class="type">CGFloat</span>(itemH))</span><br><span class="line"><span class="comment">// æ›´æ–°æœ€çŸ­é‚£åˆ—é«˜åº¦</span></span><br><span class="line">columnHeightsAry[dextColum] = attrs.frame.maxY</span><br><span class="line"><span class="keyword">return</span> attrs</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="äº”ã€UIScrollView-ç»ƒä¹ "><a href="#äº”ã€UIScrollView-ç»ƒä¹ " class="headerlink" title="äº”ã€UIScrollView ç»ƒä¹ "></a>äº”ã€UIScrollView ç»ƒä¹ </h4><p><img src="http://upload-images.jianshu.io/upload_images/2665449-f96ca085518cc164.gif?imageMogr2/auto-orient/strip" alt="UIScrollView ç»ƒä¹ "></p>
<ul>
<li>æ ¸å¿ƒä»£ç </li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: - æ”¾å¤§ç¼©å°</span></span><br><span class="line"><span class="comment">// MARK: æ”¾å¤§</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">amplificationBtnClick</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> zoomScale = scrollView.zoomScale <span class="comment">// å½“å‰ç¼©æ”¾</span></span><br><span class="line">zoomScale += <span class="number">0.1</span></span><br><span class="line"><span class="keyword">if</span> zoomScale &gt;= scrollView.maximumZoomScale &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">self</span>.scrollView.setZoomScale(zoomScale, animated: <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: ç¼©å°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">narrowDownBtnClick</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> zoomScale = scrollView.zoomScale <span class="comment">// å½“å‰ç¼©æ”¾</span></span><br><span class="line">zoomScale -= <span class="number">0.1</span></span><br><span class="line"><span class="keyword">if</span> zoomScale &lt;= scrollView.minimumZoomScale &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">self</span>.scrollView.setZoomScale(zoomScale, animated: <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: - NNItemBtnViewDelegate ä¸Šä¸‹å·¦å³ç‚¹å‡»ä»£ç†</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">NNItemScrollView</span> </span>&#123;</span><br><span class="line"><span class="comment">// MARK: å‘å·¦</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">leftBtnClickDelegate</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> point = <span class="keyword">self</span>.scrollView.contentOffset</span><br><span class="line">point.x += <span class="number">100</span></span><br><span class="line">point.x = point.x &gt;= <span class="keyword">self</span>.scrollView.contentSize.width ? <span class="number">0</span> : point.x</span><br><span class="line">scrollView.setContentOffset(point, animated: <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: å‘å³</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">rightBtnClickDelegate</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> point = <span class="keyword">self</span>.scrollView.contentOffset</span><br><span class="line">point.x -= <span class="number">100</span></span><br><span class="line">point.x = point.x &lt;= -<span class="type">NNScreenWidth</span> ? <span class="number">0</span> : point.x</span><br><span class="line">scrollView.setContentOffset(point, animated: <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: å‘ä¸Š</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">topBtnClickDelegate</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> point = <span class="keyword">self</span>.scrollView.contentOffset</span><br><span class="line">point.y += <span class="number">50</span></span><br><span class="line">point.y = point.y &gt;= <span class="keyword">self</span>.scrollView.contentSize.height ? <span class="number">0</span> : point.y</span><br><span class="line">scrollView.setContentOffset(point, animated: <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: å‘ä¸‹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">bottomBtnClickDelegate</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> point = <span class="keyword">self</span>.scrollView.contentOffset</span><br><span class="line">point.y -= <span class="number">50</span></span><br><span class="line">point.y = point.y &lt;= -<span class="type">NNScreenHeight</span> ? <span class="number">0</span> : point.y</span><br><span class="line">scrollView.setContentOffset(point, animated: <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å…­ã€ç…§ç›¸åŠŸèƒ½ï¼Œæ›´æ¢å¤´åƒï¼ˆå»ºè®®ç”¨çœŸæœºï¼‰"><a href="#å…­ã€ç…§ç›¸åŠŸèƒ½ï¼Œæ›´æ¢å¤´åƒï¼ˆå»ºè®®ç”¨çœŸæœºï¼‰" class="headerlink" title="å…­ã€ç…§ç›¸åŠŸèƒ½ï¼Œæ›´æ¢å¤´åƒï¼ˆå»ºè®®ç”¨çœŸæœºï¼‰"></a>å…­ã€ç…§ç›¸åŠŸèƒ½ï¼Œæ›´æ¢å¤´åƒï¼ˆå»ºè®®ç”¨çœŸæœºï¼‰</h4><p><img src="http://upload-images.jianshu.io/upload_images/2665449-eedef65d59cce265.gif?imageMogr2/auto-orient/strip" alt="ç…§ç›¸åŠŸèƒ½ï¼Œæ›´æ¢å¤´åƒ"></p>
<ul>
<li>æ ¸å¿ƒä»£ç </li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: - ç‚¹å‡»å¤´åƒæŒ‰é’®ï¼Œæ›´æ¢å¤´åƒ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">changePicture</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">let</span> alertcontroller = <span class="type">UIAlertController</span>(title: <span class="string">"è¯·é€‰æ‹©ç›¸ç‰‡"</span>, message: <span class="literal">nil</span>, preferredStyle: .actionSheet)</span><br><span class="line"><span class="keyword">let</span> alertaction = <span class="type">UIAlertAction</span>(title: <span class="string">"ä»ç›¸å†Œé€‰å–"</span>, style: .destructive) &#123; (action) <span class="keyword">in</span></span><br><span class="line"><span class="keyword">let</span> imagePicker = <span class="type">UIImagePickerController</span>()</span><br><span class="line">imagePicker.delegate = <span class="keyword">self</span></span><br><span class="line">imagePicker.sourceType = .photoLibrary</span><br><span class="line">imagePicker.allowsEditing = <span class="literal">true</span></span><br><span class="line"><span class="keyword">self</span>.present(imagePicker, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> alertaction2 = <span class="type">UIAlertAction</span>(title: <span class="string">"æ‹ç…§"</span>, style: .destructive) &#123; (action) <span class="keyword">in</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="type">UIImagePickerController</span>.isSourceTypeAvailable(.camera)) &#123;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"è®¾å¤‡ä¸æ”¯æŒç›¸æœº"</span>)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> imagePicker = <span class="type">UIImagePickerController</span>()</span><br><span class="line">imagePicker.delegate = <span class="keyword">self</span></span><br><span class="line">imagePicker.sourceType = .camera</span><br><span class="line">imagePicker.allowsEditing = <span class="literal">true</span></span><br><span class="line"><span class="keyword">self</span>.present(imagePicker, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> alertAction3 = <span class="type">UIAlertAction</span>(title: <span class="string">"å–æ¶ˆ"</span>, style: .cancel) &#123; (action) <span class="keyword">in</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"å–æ¶ˆ"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">alertcontroller.addAction(alertaction)</span><br><span class="line">alertcontroller.addAction(alertaction2)</span><br><span class="line">alertcontroller.addAction(alertAction3)</span><br><span class="line">present(alertcontroller, animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: - UIImagePickerControllerDelegate</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">imagePickerController</span><span class="params">(<span class="number">_</span> picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : Any])</span></span> &#123;</span><br><span class="line"><span class="keyword">let</span> image = info[<span class="type">UIImagePickerControllerOriginalImage</span>] <span class="keyword">as</span>! <span class="type">UIImage</span></span><br><span class="line">imageView.image = image</span><br><span class="line"><span class="keyword">self</span>.dismiss(animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ä¸ƒã€äºŒç»´ç æ‰«æåŠè¯†åˆ«ï¼ˆå»ºè®®ç”¨çœŸæœºï¼‰"><a href="#ä¸ƒã€äºŒç»´ç æ‰«æåŠè¯†åˆ«ï¼ˆå»ºè®®ç”¨çœŸæœºï¼‰" class="headerlink" title="ä¸ƒã€äºŒç»´ç æ‰«æåŠè¯†åˆ«ï¼ˆå»ºè®®ç”¨çœŸæœºï¼‰"></a>ä¸ƒã€äºŒç»´ç æ‰«æåŠè¯†åˆ«ï¼ˆå»ºè®®ç”¨çœŸæœºï¼‰</h4><p><img src="http://upload-images.jianshu.io/upload_images/2665449-2bdb11d7ef7db000.gif?imageMogr2/auto-orient/strip" alt="äºŒç»´ç æ‰«æåŠè¯†åˆ«"></p>
<ul>
<li>æ ¸å¿ƒä»£ç </li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: - æ‰«æè®¾å¤‡è®¾ç½®</span></span><br><span class="line">func setupScanSession() &#123;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line"><span class="comment">// è®¾ç½®æ•æ‰è®¾å¤‡</span></span><br><span class="line">let device = <span class="built_in">AVCaptureDevice</span>.defaultDevice(withMediaType: <span class="built_in">AVMediaTypeVideo</span>)</span><br><span class="line"><span class="comment">// è®¾ç½®è®¾å¤‡è¾“å…¥è¾“å‡º</span></span><br><span class="line">let input = try <span class="built_in">AVCaptureDeviceInput</span>(device: device)</span><br><span class="line">let output = <span class="built_in">AVCaptureMetadataOutput</span>()</span><br><span class="line">output.setMetadataObjectsDelegate(<span class="keyword">self</span>, queue: DispatchQueue.main)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®ä¼šè¯</span></span><br><span class="line">let  scanSession = <span class="built_in">AVCaptureSession</span>()</span><br><span class="line">scanSession.canSetSessionPreset(<span class="built_in">AVCaptureSessionPresetHigh</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> scanSession.canAddInput(input) &#123;</span><br><span class="line">scanSession.addInput(input)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> scanSession.canAddOutput(output) &#123;</span><br><span class="line">scanSession.addOutput(output)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®æ‰«æç±»å‹(äºŒç»´ç å’Œæ¡å½¢ç )</span></span><br><span class="line">output.metadataObjectTypes = [</span><br><span class="line"><span class="built_in">AVMetadataObjectTypeQRCode</span>,</span><br><span class="line"><span class="built_in">AVMetadataObjectTypeCode39Code</span>,</span><br><span class="line"><span class="built_in">AVMetadataObjectTypeCode128Code</span>,</span><br><span class="line"><span class="built_in">AVMetadataObjectTypeCode39Mod43Code</span>,</span><br><span class="line"><span class="built_in">AVMetadataObjectTypeEAN13Code</span>,</span><br><span class="line"><span class="built_in">AVMetadataObjectTypeEAN8Code</span>,</span><br><span class="line"><span class="built_in">AVMetadataObjectTypeCode93Code</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢„è§ˆå›¾å±‚</span></span><br><span class="line">let scanPreviewLayer = <span class="built_in">AVCaptureVideoPreviewLayer</span>(session:scanSession)</span><br><span class="line">scanPreviewLayer!.videoGravity = <span class="built_in">AVLayerVideoGravityResizeAspectFill</span></span><br><span class="line">scanPreviewLayer!.frame = view.layer.bounds</span><br><span class="line"></span><br><span class="line">view.layer.insertSublayer(scanPreviewLayer!, at: <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®æ‰«æåŒºåŸŸ</span></span><br><span class="line">NotificationCenter.default.addObserver(forName: <span class="built_in">NSNotification</span>.Name.AVCaptureInputPortFormatDescriptionDidChange, object: <span class="literal">nil</span>, queue: <span class="literal">nil</span>, using: &#123; (noti) <span class="keyword">in</span></span><br><span class="line">output.rectOfInterest = (scanPreviewLayer?.metadataOutputRectOfInterest(<span class="keyword">for</span>:<span class="keyword">self</span>.scanImageView.frame))!</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// ä¿å­˜ä¼šè¯</span></span><br><span class="line"><span class="keyword">self</span>.scanSession = scanSession</span><br><span class="line"></span><br><span class="line">&#125; catch &#123;</span><br><span class="line"><span class="comment">// æ‘„åƒå¤´ä¸å¯ç”¨</span></span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>æ‰«æå®Œæˆåè°ƒç”¨</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: - AVCaptureMetadataOutputObjectsDelegate æ‰«ææ•æ‰å®Œæˆ</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">NNScanCodeController</span> : <span class="title">AVCaptureMetadataOutputObjectsDelegate</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">captureOutput</span><span class="params">(<span class="number">_</span> captureOutput: AVCaptureOutput!, didOutputMetadataObjects metadataObjects: [Any]!, from connection: AVCaptureConnection!)</span></span> &#123;</span><br><span class="line"><span class="comment">// åœæ­¢æ‰«æ</span></span><br><span class="line">scanLine.layer.removeAllAnimations()</span><br><span class="line">scanSession!.stopRunning()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰«å®Œå®Œæˆ</span></span><br><span class="line"><span class="keyword">if</span> metadataObjects.<span class="built_in">count</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> resultObj = metadataObjects.first <span class="keyword">as</span>? <span class="type">AVMetadataMachineReadableCodeObject</span> &#123;</span><br><span class="line"><span class="built_in">print</span>(resultObj.stringValue)</span><br><span class="line">scanResult.text = <span class="string">"æ‰«æç»“æœ:"</span> + resultObj.stringValue</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è¯†åˆ«éªŒè¯ç ï¼Œä»ç›¸å†Œä¸­é€‰æ‹©</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: - UIImagePickerControllerDelegate, UINavigationControllerDelegate</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">NNScanCodeController</span> : <span class="title">UIImagePickerControllerDelegate</span> , <span class="title">UINavigationControllerDelegate</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">imagePickerController</span><span class="params">(<span class="number">_</span> picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : Any])</span></span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯å¦èƒ½å–åˆ°å›¾ç‰‡</span></span><br><span class="line"><span class="keyword">guard</span> <span class="keyword">let</span> image = info[<span class="type">UIImagePickerControllerOriginalImage</span>] <span class="keyword">as</span>? <span class="type">UIImage</span> <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è½¬æˆciimage</span></span><br><span class="line"><span class="keyword">guard</span> <span class="keyword">let</span> ciimage = <span class="type">CIImage</span>(image: image) <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä»é€‰ä¸­çš„å›¾ç‰‡ä¸­è¯»å–äºŒç»´ç </span></span><br><span class="line"><span class="comment">// åˆ›å»ºæ¢æµ‹å™¨</span></span><br><span class="line"><span class="keyword">let</span> detector = <span class="type">CIDetector</span>(ofType: <span class="type">CIDetectorTypeQRCode</span>, context: <span class="literal">nil</span>, options: [<span class="type">CIDetectorAccuracy</span> : <span class="type">CIDetectorAccuracyLow</span>])</span><br><span class="line"><span class="keyword">let</span> resoult = (detector?.features(<span class="keyword">in</span>: ciimage))!</span><br><span class="line">scanResult.text = <span class="string">"æ— æ³•è¯†åˆ«"</span></span><br><span class="line"><span class="keyword">for</span> result <span class="keyword">in</span> resoult &#123;</span><br><span class="line"><span class="keyword">guard</span> (result <span class="keyword">as</span>! <span class="type">CIQRCodeFeature</span>).messageString != <span class="literal">nil</span> <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">scanResult.text = <span class="string">"æ‰«æç»“æœ:"</span> + (result <span class="keyword">as</span>! <span class="type">CIQRCodeFeature</span>).messageString!</span><br><span class="line">&#125;</span><br><span class="line">picker.dismiss(animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å…«ã€éšæœºå›¾ç‰‡éªŒè¯ç å°è£…"><a href="#å…«ã€éšæœºå›¾ç‰‡éªŒè¯ç å°è£…" class="headerlink" title="å…«ã€éšæœºå›¾ç‰‡éªŒè¯ç å°è£…"></a>å…«ã€éšæœºå›¾ç‰‡éªŒè¯ç å°è£…</h4><p><img src="http://upload-images.jianshu.io/upload_images/2665449-7660d135f12c9d38.gif?imageMogr2/auto-orient/strip" alt="éšæœºå›¾ç‰‡éªŒè¯ç å°è£…"></p>
<ul>
<li>æ ¸å¿ƒä»£ç <figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: - ç»˜åˆ¶å›¾å½¢éªŒè¯ç </span></span><br><span class="line">override func draw(_ <span class="built_in">rect</span>: CGRect) &#123;</span><br><span class="line"><span class="built_in">if</span> charString.isEmpty &#123;</span><br><span class="line"><span class="built_in">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let textString:<span class="keyword">String</span> = charString</span><br><span class="line">let charSize = textString.substring(to: textString.startIndex).<span class="built_in">size</span>(attributes: [NSFontAttributeName : UIFont.systemFont(ofSize: <span class="number">14</span>)])</span><br><span class="line">let <span class="built_in">width</span> = <span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">width</span> / CGFloat(charCount) - charSize.<span class="built_in">width</span> - <span class="number">15</span>;</span><br><span class="line">let hight = <span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">height</span> - charSize.<span class="built_in">height</span>;</span><br><span class="line">var <span class="built_in">point</span>: CGPoint</span><br><span class="line"></span><br><span class="line">var pointX: CGFloat</span><br><span class="line">var pointY: CGFloat</span><br><span class="line"><span class="built_in">for</span> i in <span class="number">0.</span>.&lt;textString.characters.count &#123;</span><br><span class="line">let <span class="keyword">char</span> = CGFloat(i)</span><br><span class="line">pointX = (CGFloat)(arc4random() % UInt32(Float(<span class="built_in">width</span>))) + <span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">width</span> / (CGFloat)(textString.characters.count) * <span class="keyword">char</span></span><br><span class="line">pointY = (CGFloat)(arc4random() % UInt32(Float(hight)))</span><br><span class="line"><span class="built_in">point</span> = CGPoint(x: pointX, y: pointY)</span><br><span class="line">let charStr = textString[textString.index(textString.startIndex, offsetBy:i)]</span><br><span class="line">let <span class="keyword">string</span> = <span class="keyword">String</span>(charStr)</span><br><span class="line"><span class="keyword">string</span>.draw(at: <span class="built_in">point</span>,withAttributes:([NSFontAttributeName : UIFont.systemFont(ofSize: <span class="number">14</span>)]))</span><br><span class="line">&#125;</span><br><span class="line">drawLine(<span class="built_in">rect</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: - ç»˜åˆ¶å¹²æ‰°çº¿</span></span><br><span class="line">func drawLine(_ <span class="built_in">rect</span>: CGRect) &#123;</span><br><span class="line">let context = UIGraphicsGetCurrentContext()</span><br><span class="line">context!.setLineWidth(<span class="number">1.0</span>)</span><br><span class="line">var pointX = <span class="number">0.0</span></span><br><span class="line">var pointY = <span class="number">0.0</span></span><br><span class="line"><span class="built_in">for</span> _ in <span class="number">0.</span>.&lt;lineCount &#123;</span><br><span class="line">context!.setStrokeColor(randomColor().cgColor)</span><br><span class="line">pointX = Double(arc4random() % UInt32(Float(<span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">width</span>)))</span><br><span class="line">pointY = Double(arc4random() % UInt32(Float(<span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">height</span>)))</span><br><span class="line">context?.<span class="built_in">move</span>(to: CGPoint(x: pointX, y: pointY))</span><br><span class="line">pointX = Double(CGFloat(arc4random() % UInt32(Float(<span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">width</span>))))</span><br><span class="line">pointY = Double(CGFloat(arc4random() % UInt32(Float(<span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">height</span>))))</span><br><span class="line">context?.addLine(to: CGPoint(x: pointX, y: pointY))</span><br><span class="line">context!.strokePath()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>OCç‰ˆæœ¬ï¼šiOSå¼€å‘ - éšæœºå›¾ç‰‡éªŒè¯ç å°è£…-<a href="http://www.jianshu.com/p/936d2e06fd26" target="_blank" rel="noopener">http://www.jianshu.com/p/936d2e06fd26</a></strong></p>
<h4 id="ä¹ã€åœ†å½¢è¾“å…¥æ¡†å°è£…"><a href="#ä¹ã€åœ†å½¢è¾“å…¥æ¡†å°è£…" class="headerlink" title="ä¹ã€åœ†å½¢è¾“å…¥æ¡†å°è£…"></a>ä¹ã€åœ†å½¢è¾“å…¥æ¡†å°è£…</h4><p><img src="http://upload-images.jianshu.io/upload_images/2665449-47ebc91140d2ea1c.gif?imageMogr2/auto-orient/strip" alt="åœ†å½¢è¾“å…¥æ¡†å°è£…"></p>
<ul>
<li>æ ¸å¿ƒä»£ç </li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: - ç›‘å¬æ–‡æœ¬è¾“å…¥ æ ¸å¿ƒæ“ä½œ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">textFieldDidChange</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> &#123;</span><br><span class="line"><span class="keyword">let</span> i = textField.text?.characters.<span class="built_in">count</span></span><br><span class="line"><span class="keyword">if</span> i! &gt; labelCount &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> i == <span class="number">0</span> &#123;</span><br><span class="line">((labelArr.object(at: <span class="number">0</span>)) <span class="keyword">as</span>! <span class="type">UILabel</span>).text = <span class="string">""</span></span><br><span class="line">((labelArr.object(at: <span class="number">0</span>)) <span class="keyword">as</span>! <span class="type">UILabel</span>).layer.borderColor = defaultColor.cgColor</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">((labelArr.object(at: (i! - <span class="number">1</span>))) <span class="keyword">as</span>! <span class="type">UILabel</span>).text = (textField.text! <span class="keyword">as</span> <span class="type">NSString</span>).substring(with: <span class="type">NSMakeRange</span>(i! - <span class="number">1</span>, <span class="number">1</span>))</span><br><span class="line">((labelArr.object(at: (i! - <span class="number">1</span>))) <span class="keyword">as</span>! <span class="type">UILabel</span>).layer.borderColor = changedColor.cgColor</span><br><span class="line">((labelArr.object(at: (i! - <span class="number">1</span>))) <span class="keyword">as</span>! <span class="type">UILabel</span>).textColor = changedColor</span><br><span class="line"><span class="keyword">if</span> labelCount &gt; i! &#123;</span><br><span class="line">((labelArr.object(at: (i!))) <span class="keyword">as</span>! <span class="type">UILabel</span>).text = <span class="string">""</span></span><br><span class="line">((labelArr.object(at: (i!))) <span class="keyword">as</span>! <span class="type">UILabel</span>).layer.borderColor = defaultColor.cgColor</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: - setupUI</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setupUI</span><span class="params">()</span></span> &#123;</span><br><span class="line">setupTextField()</span><br><span class="line"><span class="keyword">var</span> labelX = <span class="type">CGFloat</span>()</span><br><span class="line"><span class="keyword">let</span> labelY : <span class="type">CGFloat</span> = <span class="number">0.0</span></span><br><span class="line"><span class="keyword">let</span> labelWidth = <span class="keyword">self</span>.width / <span class="type">CGFloat</span>(labelCount)</span><br><span class="line"><span class="keyword">let</span> sideLength = labelWidth &lt; <span class="keyword">self</span>.height ? labelWidth : <span class="keyword">self</span>.height</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span>..&lt;labelCount &#123;</span><br><span class="line"><span class="keyword">if</span> i == <span class="number">0</span> &#123;</span><br><span class="line">labelX = <span class="number">0</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">labelX = <span class="type">CGFloat</span>(i) * (sideLength + labelDistance)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> label = <span class="type">UILabel</span>(frame: <span class="type">CGRect</span>(x: labelX, y: labelY, width: sideLength, height: sideLength))</span><br><span class="line"><span class="keyword">self</span>.addSubview(label)</span><br><span class="line">label.textAlignment = <span class="type">NSTextAlignment</span>.center</span><br><span class="line">label.layer.borderColor = <span class="type">UIColor</span>.black.cgColor</span><br><span class="line">label.layer.borderWidth = <span class="number">1.0</span></span><br><span class="line">label.layer.cornerRadius = sideLength / <span class="number">2.0</span></span><br><span class="line">labelArr.add(label)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: - UITextFieldDelegate</span></span><br><span class="line"><span class="comment">// MARK: ç›‘å¬è¾“å…¥æ¡†</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">textField</span><span class="params">(<span class="number">_</span> textField: UITextField, shouldChangeCharactersIn range: NSRange, replacementString string: String)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line"><span class="comment">// å…è®¸åˆ é™¤</span></span><br><span class="line"><span class="keyword">if</span> (string.characters.<span class="built_in">count</span> == <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (textField.text?.characters.<span class="built_in">count</span>)! &gt;= labelCount &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// MARK: å›è½¦æ”¶èµ·é”®ç›˜</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">textFieldShouldReturn</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">textField.resignFirstResponder()</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>OCç‰ˆæœ¬ï¼šiOSå¼€å‘ - åœ†å½¢éªŒè¯ç (æˆ–å¯†ç )è¾“å…¥æ¡†çš„å°è£…-<a href="http://www.jianshu.com/p/fce6bd4038eb" target="_blank" rel="noopener">http://www.jianshu.com/p/fce6bd4038eb</a></strong></p>
<h4 id="åã€ç¬¬ä¸‰æ–¹åº“-SnapKit-ç”¨æ³•"><a href="#åã€ç¬¬ä¸‰æ–¹åº“-SnapKit-ç”¨æ³•" class="headerlink" title="åã€ç¬¬ä¸‰æ–¹åº“ SnapKit ç”¨æ³•"></a>åã€ç¬¬ä¸‰æ–¹åº“ SnapKit ç”¨æ³•</h4><p><img src="http://upload-images.jianshu.io/upload_images/2665449-5e2952f51add8ded.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç¬¬ä¸‰æ–¹åº“ SnapKit ç”¨æ³•"></p>
<ul>
<li>ç¤ºä¾‹ä»£ç <figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">func addRedView() &#123;</span><br><span class="line">redView<span class="selector-class">.backgroundColor</span> = UIColor.red</span><br><span class="line">view.addSubview(redView)</span><br><span class="line"></span><br><span class="line"><span class="comment">// redView è·ç¦»çˆ¶è§†å›¾å››æ¡è¾¹çš„è·ç¦»éƒ½æ˜¯ 50</span></span><br><span class="line">redView<span class="selector-class">.snp</span><span class="selector-class">.makeConstraints</span> &#123; (make) <span class="keyword">in</span></span><br><span class="line">make<span class="selector-class">.edges</span><span class="selector-class">.equalTo</span>(view).inset(<span class="number">50</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func addBlueView() &#123;</span><br><span class="line">blueView<span class="selector-class">.backgroundColor</span> = UIColor.blue</span><br><span class="line">view.addSubview(blueView)</span><br><span class="line"></span><br><span class="line"><span class="comment">// blueView å·¦è¾¹è·ç¦»çˆ¶è§†å›¾ä¸º 0ï¼›ä¸Šè¾¹è·ç¦»çˆ¶è§†å›¾ä¸º 0ï¼›size æ˜¯(50ï¼Œ50)</span></span><br><span class="line">blueView<span class="selector-class">.snp</span><span class="selector-class">.makeConstraints</span> &#123; (make) <span class="keyword">in</span></span><br><span class="line">make<span class="selector-class">.left</span><span class="selector-class">.equalTo</span>(<span class="number">0</span>)</span><br><span class="line">make<span class="selector-class">.top</span><span class="selector-class">.equalTo</span>(<span class="number">0</span>)</span><br><span class="line">make<span class="selector-class">.size</span><span class="selector-class">.equalTo</span>(CGSize(<span class="attribute">width</span>: <span class="number">50</span>, height: <span class="number">50</span>))</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func addBlackView() &#123;</span><br><span class="line">blackView<span class="selector-class">.backgroundColor</span> = UIColor.black</span><br><span class="line">view.addSubview(blackView)</span><br><span class="line"></span><br><span class="line"><span class="comment">// blackView å·¦è¾¹å’Œ redView çš„å³è¾¹è·ç¦»ä¸º 0ï¼›å¤§å°ä¸ blueView ç›¸åŒï¼›ä¸”ä¸ blueView ä¸Šå¯¹é½</span></span><br><span class="line">blackView<span class="selector-class">.snp</span><span class="selector-class">.makeConstraints</span> &#123; (make) <span class="keyword">in</span></span><br><span class="line">make<span class="selector-class">.left</span><span class="selector-class">.equalTo</span>(redView<span class="selector-class">.snp</span><span class="selector-class">.right</span>)</span><br><span class="line">make<span class="selector-class">.size</span><span class="selector-class">.equalTo</span>(blueView)</span><br><span class="line">make<span class="selector-class">.top</span><span class="selector-class">.equalTo</span>(blueView)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func addCyanView() &#123;</span><br><span class="line">cyanView<span class="selector-class">.backgroundColor</span> = UIColor.cyan</span><br><span class="line">view.addSubview(cyanView)</span><br><span class="line"></span><br><span class="line"><span class="comment">// cyanView ä¸ blueView å·¦å¯¹é½ï¼›cyanView çš„é¡¶éƒ¨è·ç¦» redView çš„åº•éƒ¨ 10ï¼›cyanView çš„é«˜æ˜¯40ï¼›cyanView ä¸ blueView ç­‰å®½</span></span><br><span class="line">cyanView<span class="selector-class">.snp</span><span class="selector-class">.makeConstraints</span> &#123; (make) <span class="keyword">in</span></span><br><span class="line">make<span class="selector-class">.trailing</span><span class="selector-class">.equalTo</span>(blueView)</span><br><span class="line">make<span class="selector-class">.top</span><span class="selector-class">.equalTo</span>(redView<span class="selector-class">.snp</span><span class="selector-class">.bottom</span>).offset(<span class="number">10</span>)</span><br><span class="line">make<span class="selector-class">.height</span><span class="selector-class">.equalTo</span>(<span class="number">40</span>)</span><br><span class="line">make<span class="selector-class">.width</span><span class="selector-class">.equalTo</span>(blueView)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func addYellowView() &#123;</span><br><span class="line">yellowView<span class="selector-class">.backgroundColor</span> = UIColor.yellow</span><br><span class="line">view.addSubview(yellowView)</span><br><span class="line"></span><br><span class="line"><span class="comment">// yellowView é¡¶éƒ¨ä¸ redView çš„åº•éƒ¨å¯¹é½ï¼›yellowView ä¸ blackView å·¦å¯¹é½ï¼›yellowView ä¸ blueView ç›¸åŒå¤§å°</span></span><br><span class="line">yellowView<span class="selector-class">.snp</span><span class="selector-class">.makeConstraints</span> &#123; (make) <span class="keyword">in</span></span><br><span class="line">make<span class="selector-class">.top</span><span class="selector-class">.equalTo</span>(redView<span class="selector-class">.snp</span><span class="selector-class">.bottom</span>)</span><br><span class="line">make<span class="selector-class">.trailing</span><span class="selector-class">.equalTo</span>(blackView)</span><br><span class="line">make<span class="selector-class">.size</span><span class="selector-class">.equalTo</span>(blueView)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func addWhiteView() &#123;</span><br><span class="line">whiteView<span class="selector-class">.backgroundColor</span> = UIColor.white</span><br><span class="line">redView.addSubview(whiteView)</span><br><span class="line"></span><br><span class="line"><span class="comment">// whiteView çš„çˆ¶è§†å›¾æ˜¯ redViewï¼Œè·ç¦»çˆ¶è§†å›¾å››æ¡è¾¹çš„è·ç¦»åˆ†åˆ«æ˜¯ï¼ˆ30ï¼Œ10ï¼Œ30ï¼Œ10ï¼‰</span></span><br><span class="line"></span><br><span class="line">whiteView<span class="selector-class">.snp</span><span class="selector-class">.makeConstraints</span> &#123; (make) <span class="keyword">in</span></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ç§æ–¹å¼</span></span><br><span class="line">make<span class="selector-class">.edges</span><span class="selector-class">.equalTo</span>(redView).inset(UIEdgeInsets(<span class="attribute">top</span>: <span class="number">30</span>, left: <span class="number">10</span>, bottom: <span class="number">30</span>, right: <span class="number">10</span>))</span><br><span class="line"><span class="comment">// ç¬¬äºŒç§æ–¹å¼</span></span><br><span class="line"><span class="comment">//            make.top.equalTo(redView).offset(30)</span></span><br><span class="line"><span class="comment">//            make.left.equalTo(redView).offset(10)</span></span><br><span class="line"><span class="comment">//            make.bottom.equalTo(redView).offset(-30)</span></span><br><span class="line"><span class="comment">//            make.right.equalTo(redView).offset(-10)</span></span><br><span class="line"><span class="comment">// ç¬¬ä¸‰ç§æ–¹å¼</span></span><br><span class="line"><span class="comment">//            make.top.left.bottom.right.equalTo(redView).inset(UIEdgeInsets(top: 30, left: 10, bottom: 30, right: 10))</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h5 id="è¯¦æƒ…ä»£ç ï¼Œè¯·ç§»æ­¥åˆ°-https-github-com-liuzhongning-NNMintFurniture-ä¸­æŸ¥çœ‹ï¼Œå¦‚æœ‰ç–‘é—®æˆ–æœ‰å»ºè®®çš„åœ°æ–¹ï¼Œæ¬¢è¿è®¨è®ºã€‚å¦å¤–ä»£ç ä¸­æœ‰ä¸€ä¸ªåä¸º-guide-swift-çš„ç±»ï¼Œç®€å•æ ‡å‡ºäº†ä»£ç çš„ç»“æ„ï¼Œæ›´æ–¹ä¾¿é˜…è¯»ã€‚"><a href="#è¯¦æƒ…ä»£ç ï¼Œè¯·ç§»æ­¥åˆ°-https-github-com-liuzhongning-NNMintFurniture-ä¸­æŸ¥çœ‹ï¼Œå¦‚æœ‰ç–‘é—®æˆ–æœ‰å»ºè®®çš„åœ°æ–¹ï¼Œæ¬¢è¿è®¨è®ºã€‚å¦å¤–ä»£ç ä¸­æœ‰ä¸€ä¸ªåä¸º-guide-swift-çš„ç±»ï¼Œç®€å•æ ‡å‡ºäº†ä»£ç çš„ç»“æ„ï¼Œæ›´æ–¹ä¾¿é˜…è¯»ã€‚" class="headerlink" title="è¯¦æƒ…ä»£ç ï¼Œè¯·ç§»æ­¥åˆ° https://github.com/liuzhongning/NNMintFurniture ä¸­æŸ¥çœ‹ï¼Œå¦‚æœ‰ç–‘é—®æˆ–æœ‰å»ºè®®çš„åœ°æ–¹ï¼Œæ¬¢è¿è®¨è®ºã€‚å¦å¤–ä»£ç ä¸­æœ‰ä¸€ä¸ªåä¸º guide.swift çš„ç±»ï¼Œç®€å•æ ‡å‡ºäº†ä»£ç çš„ç»“æ„ï¼Œæ›´æ–¹ä¾¿é˜…è¯»ã€‚"></a>è¯¦æƒ…ä»£ç ï¼Œè¯·ç§»æ­¥åˆ° <a href="https://github.com/liuzhongning/NNMintFurniture" target="_blank" rel="noopener">https://github.com/liuzhongning/NNMintFurniture</a> ä¸­æŸ¥çœ‹ï¼Œå¦‚æœ‰ç–‘é—®æˆ–æœ‰å»ºè®®çš„åœ°æ–¹ï¼Œæ¬¢è¿è®¨è®ºã€‚å¦å¤–ä»£ç ä¸­æœ‰ä¸€ä¸ªåä¸º <code>guide.swift</code> çš„ç±»ï¼Œç®€å•æ ‡å‡ºäº†ä»£ç çš„ç»“æ„ï¼Œæ›´æ–¹ä¾¿é˜…è¯»ã€‚</h5><h5 id="ä¼šæŒç»­æ›´æ–°â€¦â€¦"><a href="#ä¼šæŒç»­æ›´æ–°â€¦â€¦" class="headerlink" title="ä¼šæŒç»­æ›´æ–°â€¦â€¦"></a>ä¼šæŒç»­æ›´æ–°â€¦â€¦</h5>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOS å¼€å‘ -ã€Š52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(1)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOS å¼€å‘ -ã€Š52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(1)/" itemprop="url">
                  iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(1)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><strong>ã€ŠEffective Objective-C 2.0: ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹æ˜¯ä¸€æœ¬éå¸¸ç»å…¸çš„ OC ä¹¦ç±ã€‚è¿™æœ¬ä¹¦ä»è¯­æ³•ã€æ¥å£ä¸ API è®¾è®¡ã€å†…å­˜ç®¡ç†ã€æ¡†æ¶ç­‰ 7 å¤§æ–¹é¢æ€»ç»“å’Œæ¢è®¨äº† OC ç¼–ç¨‹ä¸­çš„ 52 ä¸ªç‰¹æ€§ä¸é™·é˜±ï¼Œå¾ˆå€¼å¾—è¯»ã€‚</strong></p>
</blockquote>
<h5 id="æ–‡ç« å…±åˆ†ä¸ºä¸‰ç¯‡ï¼š"><a href="#æ–‡ç« å…±åˆ†ä¸ºä¸‰ç¯‡ï¼š" class="headerlink" title="æ–‡ç« å…±åˆ†ä¸ºä¸‰ç¯‡ï¼š"></a>æ–‡ç« å…±åˆ†ä¸ºä¸‰ç¯‡ï¼š</h5><p>ç¬¬ä¸€ç¯‡ï¼š<a href="https://www.jianshu.com/p/6985ec0666cb" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(1)</a><br>ç¬¬äºŒç¯‡ï¼š<a href="https://www.jianshu.com/p/72b5525e82e3" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(2)</a><br>ç¬¬ä¸‰ç¯‡ï¼š<a href="https://www.jianshu.com/p/43fb6ccea4b2" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(3)</a></p>
<h5 id="æ–‡ç« ç›®å½•ï¼š"><a href="#æ–‡ç« ç›®å½•ï¼š" class="headerlink" title="æ–‡ç« ç›®å½•ï¼š"></a>æ–‡ç« ç›®å½•ï¼š</h5><blockquote>
<p>ç¬¬ 1 ç« ï¼šç†Ÿæ‚‰ OC<br>ç¬¬ 2 ç« ï¼šå¯¹è±¡ã€æ¶ˆæ¯ã€è¿è¡ŒæœŸ<br>ç¬¬ 3 ç« ï¼šæ¥å£ä¸ API è®¾è®¡<br>ç¬¬ 4 ç« ï¼šåè®®ä¸åˆ†ç±»<br>ç¬¬ 5 ç« ï¼šå†…å­˜ç®¡ç†<br>ç¬¬ 6 ç« ï¼šå—ä¸å¤§ä¸­æ¢æ´¾å‘ï¼ˆblock ä¸ GCDï¼‰<br>ç¬¬ 7 ç« ï¼šç³»ç»Ÿæ¡†æ¶</p>
</blockquote>
<h2 id="ç¬¬-1-ç« ï¼šç†Ÿæ‚‰-OC"><a href="#ç¬¬-1-ç« ï¼šç†Ÿæ‚‰-OC" class="headerlink" title="ç¬¬ 1 ç« ï¼šç†Ÿæ‚‰ OC"></a>ç¬¬ 1 ç« ï¼šç†Ÿæ‚‰ OC</h2><h4 id="ç¬¬-1-æ¡-åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶"><a href="#ç¬¬-1-æ¡-åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶" class="headerlink" title="ç¬¬ 1 æ¡ - åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶"></a>ç¬¬ 1 æ¡ - åœ¨ç±»çš„å¤´æ–‡ä»¶ä¸­å°½é‡å°‘å¼•å…¥å…¶ä»–å¤´æ–‡ä»¶</h4><p>OC ä¸­åº”å°½é‡é¿å…åœ¨å¤´æ–‡ä»¶ä¸­å¼•ç”¨å…¶ä»–ç±»ï¼Œå³æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸¤ä¸ªç±»ï¼Œ<code>NNListViewController</code> ä»¥åŠ <code>NNHomeViewController</code>ï¼Œåº”é¿å…åœ¨ <code>NNListViewController.h</code> ä¸­å¼•ç”¨ <code>NNHomeViewController</code>ï¼Œå¦‚æœéè¦åœ¨ <code>NNListViewController.h</code> ä¸­å¼•å…¥ <code>NNHomeViewController</code>ï¼Œå¦‚ä¸‹é¢ä»£ç ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NNListViewController</span> : <span class="title">UIViewController</span></span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *age;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) NNHomeViewController *homeVC;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶ç¨‹åºä¼šæŠ¥é”™ï¼Œå› ä¸º <code>NNHomeViewController</code> ç±»å¹¶ä¸å¯è§ï¼Œè¿™æ—¶å¸¸è§çš„åšæ³•æ˜¯åœ¨ <code>NNListViewController.h</code> ä¸­åŠ å…¥ä¸‹é¢è¿™è¡Œä»£ç </p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">import</span> <span class="string">"NNHomeViewController.h"</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§æ–¹æ³•å¯è¡Œï¼Œä½†æ˜¯ä¸å¤Ÿä¼˜é›…ã€‚åœ¨ç¼–è¯‘ <code>NNListViewController</code> ç±»æ—¶ï¼Œä¸éœ€è¦çŸ¥é“ <code>NNHomeViewController</code> ç±»çš„å…¨éƒ¨ç»†èŠ‚ï¼Œåªéœ€è¦çŸ¥é“æœ‰ä¸€ä¸ªç±»åå« <code>NNHomeViewController</code> å°±å¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="class"><span class="keyword">class</span> <span class="title">NNHomeViewController</span>;</span></span><br></pre></td></tr></table></figure>
<p>è¿™å«åš<strong>â€œå‘å‰å£°æ˜â€è¯¥ç±»</strong>ã€‚ç°åœ¨ <code>NNListViewController.h</code> å˜æˆäº†è¿™æ ·ï¼š<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@class</span> <span class="title">NNHomeViewController</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NNListViewController</span> : <span class="title">UIViewController</span></span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *name;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *age;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">strong</span>) NNHomeViewController *homeVC;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p><code>NNListViewController</code> çš„å®ç°æ–‡ä»¶éœ€è¦å¼•å…¥ <code>NNHomeViewController.h</code>ï¼Œå› ä¸ºè‹¥è¦ä½¿ç”¨åè€…ï¼Œå°±å¿…é¡»çŸ¥é“å…¶æ‰€æœ‰æ¥å£ç»†èŠ‚ã€‚äºæ˜¯ <code>NNListViewController.m</code> å°±æ˜¯ï¼š</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">import</span> <span class="string">"NNListViewController.h"</span></span><br><span class="line">#<span class="keyword">import</span> <span class="string">"NNHomeViewController.h"</span></span><br><span class="line"></span><br><span class="line">@<span class="keyword">implementation</span> NNListViewController</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<ul>
<li>åˆ©ç”¨å‘å‰å£°æ˜è¿™ç§å†™æ³•ï¼Œæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š</li>
</ul>
<ol>
<li>å‡å°‘ç¼–è¯‘æ—¶é—´ã€‚åœ¨å¤´æ–‡ä»¶ä¸­ä½¿ç”¨å‘å‰å£°æ˜ï¼Œä¸ä¼šå¼•å…¥ <code>NNHomeViewController</code> ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œåªåœ¨ç¡®æœ‰éœ€è¦çš„æ—¶å€™æ‰å¼•å…¥ï¼Œè¿™æ ·ä¼šç¼©å‡ç¼–è¯‘æ—¶é—´ã€‚</li>
<li>è§£å†³äº†ä¸¤ä¸ªç±»äº’ç›¸å¼•ç”¨çš„é—®é¢˜ã€‚å‡è®¾ <code>NNHomeViewController</code> ç±»ä¸ <code>NNListViewController</code> ç±»äº’ç›¸å¼•ç”¨ï¼Œä½¿ç”¨ <code>#import</code> è€Œé <code>#include</code> æŒ‡ä»¤è™½ç„¶ä¸ä¼šé€ æˆæ­»å¾ªç¯ï¼Œä½†ä¼šä½¿ä¸¤ä¸ªç±»é‡Œæœ‰ä¸€ä¸ªæ— æ³•è¢«æ­£ç¡®ç¼–è¯‘ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä½¿ç”¨å‘å‰å£°æ˜ï¼Œå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</li>
</ol>
<h4 id="ç¬¬-2-æ¡-å¤šç”¨å­—é¢é‡è¯­æ³•ï¼Œå°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•"><a href="#ç¬¬-2-æ¡-å¤šç”¨å­—é¢é‡è¯­æ³•ï¼Œå°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•" class="headerlink" title="ç¬¬ 2 æ¡ - å¤šç”¨å­—é¢é‡è¯­æ³•ï¼Œå°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•"></a>ç¬¬ 2 æ¡ - å¤šç”¨å­—é¢é‡è¯­æ³•ï¼Œå°‘ç”¨ä¸ä¹‹ç­‰ä»·çš„æ–¹æ³•</h4><p>ç¼–å†™ OC ä»£ç æ€»ä¼šç”¨åˆ°å‡ ä¸ªç±»ï¼Œ<code>NSString</code>ã€<code>NSArray</code>ã€<code>NSNumber</code>ã€<code>NSDictionary</code>ï¼Œä»ç±»åä¸Šå³å¯çœ‹å‡ºå„è‡ªæ‰€è¡¨è¾¾çš„æ•°æ®ç»“æ„ã€‚<code>NSString</code> å¯¹è±¡æœ‰ä¸€ç§ç®€å•çš„åˆ›å»ºæ–¹å¼ï¼Œå«åšâ€œå­—ç¬¦ä¸²å­—é¢é‡â€ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">NSString string</span> = @<span class="string">"Liu Zhong Ning"</span>;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸ç”¨è¿™ç§è¯­æ³•ï¼Œå°±è¦ä»¥å¸¸è§çš„<code>alloc</code> åŠ <code>init</code> æ–¹æ³•æ¥åˆ†é…å¹¶åˆå§‹åŒ– <code>NSString</code> å¯¹è±¡äº†ã€‚åŒæ ·ä¹Ÿèƒ½ç”¨å­—é¢é‡è¯­æ³•å£°æ˜ <code>NSArray</code>ã€<code>NSNumber</code>ã€<code>NSDictionary</code> ç±»çš„å®ä¾‹ã€‚<strong>ä½¿ç”¨å­—é¢é‡è¯­æ³•å¯ä»¥ç¼©å‡ä»£ç é•¿åº¦ï¼Œä½¿å…¶æ›´ä¸ºæ˜“è¯»ã€‚</strong></p>
<ul>
<li><p>éå­—é¢é‡è¯­æ³•ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// NSNumber</span></span><br><span class="line"><span class="built_in">NSNumber</span> *intNumber = [<span class="built_in">NSNumber</span> numberWithInt:<span class="number">1</span>];</span><br><span class="line"><span class="built_in">NSNumber</span> *floatNumber = [<span class="built_in">NSNumber</span> numberWithFloat:<span class="number">6.6</span>f];</span><br><span class="line"><span class="built_in">NSNumber</span> *charNumber = [<span class="built_in">NSNumber</span> numberWithChar:<span class="string">'a'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// NSArray</span></span><br><span class="line"><span class="built_in">NSArray</span> *animals = [<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@"cat"</span>, <span class="string">@"dog"</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">// å–ä¸‹æ ‡</span></span><br><span class="line"><span class="built_in">NSString</span> *dog = [animals objectAtIndex:<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// NSDictionary</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *personDic = [<span class="built_in">NSDictionary</span> dictionaryWithObjectsAndKeys:<span class="string">@"Liu Zhong Ning"</span>, <span class="string">@"name"</span>, <span class="number">25</span>, <span class="string">@"age"</span>, <span class="literal">nil</span>];</span><br><span class="line"><span class="comment">// è®¿é—®å­—å…¸</span></span><br><span class="line"><span class="built_in">NSString</span> *name = [personDic objectForKey:<span class="string">@"name"</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—é¢é‡è¯­æ³•ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// NSNumber</span></span><br><span class="line"><span class="built_in">NSNumber</span> *intNumber = @<span class="number">1</span>;</span><br><span class="line"><span class="built_in">NSNumber</span> *floatNumber = @<span class="number">6.6</span>f;</span><br><span class="line"><span class="built_in">NSNumber</span> *charNumber = @<span class="string">'a'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// NSArray</span></span><br><span class="line"><span class="built_in">NSArray</span> *animals = @[<span class="string">@"cat"</span>, <span class="string">@"dog"</span>];</span><br><span class="line"><span class="comment">// å–ä¸‹æ ‡</span></span><br><span class="line"><span class="built_in">NSString</span> *dog = animals[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// NSDictionary</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *personDic = @&#123;<span class="string">@"name"</span> : <span class="string">@"Liu Zhong Ning"</span>,</span><br><span class="line"><span class="string">@"age"</span> : @<span class="number">25</span>&#125;;</span><br><span class="line"><span class="comment">// è®¿é—®å­—å…¸</span></span><br><span class="line"><span class="built_in">NSString</span> *name = personDic[<span class="string">@"name"</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ³¨æ„ç‚¹ï¼šç”¨å­—é¢é‡è¯­æ³•åˆ›å»ºæ•°ç»„æˆ–å­—å…¸æ—¶ï¼Œè‹¥å€¼ä¸­æœ‰ <code>nil</code>ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å› æ­¤ï¼ŒåŠ¡å¿…ç¡®ä¿å€¼é‡Œä¸åŒ…å« <code>nil</code>ã€‚</p>
</li>
</ul>
<h4 id="ç¬¬-3-æ¡-å¤šç”¨ç±»å‹å¸¸é‡ï¼Œå°‘ç”¨-define-é¢„å¤„ç†æŒ‡ä»¤"><a href="#ç¬¬-3-æ¡-å¤šç”¨ç±»å‹å¸¸é‡ï¼Œå°‘ç”¨-define-é¢„å¤„ç†æŒ‡ä»¤" class="headerlink" title="ç¬¬ 3 æ¡ - å¤šç”¨ç±»å‹å¸¸é‡ï¼Œå°‘ç”¨ #define é¢„å¤„ç†æŒ‡ä»¤"></a>ç¬¬ 3 æ¡ - å¤šç”¨ç±»å‹å¸¸é‡ï¼Œå°‘ç”¨ #define é¢„å¤„ç†æŒ‡ä»¤</h4><ul>
<li>å®šä¹‰å¸¸é‡æ—¶ï¼Œæœ‰æ—¶ä¼šç”¨è¿™ç§æ–¹æ³•ï¼š</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ANIMATION_DURATION 0.3</span></span><br></pre></td></tr></table></figure>
<p>ç”¨é¢„å¤„ç†æŒ‡ä»¤ä¹Ÿå¯ä»¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼Œä½†è¿™æ ·å®šä¹‰å‡ºæ¥çš„å¸¸é‡ <strong>æ²¡æœ‰ç±»å‹ä¿¡æ¯</strong>ï¼›<br>å¦å¤–ï¼Œé¢„å¤„ç†è¿‡ç¨‹ä¼šæŠŠç¢°åˆ°çš„æ‰€æœ‰ <code>ANIMATION_DURATION</code> æ¢æˆ 0.3ï¼Œè¿™æ ·çš„è¯ï¼Œå‡è®¾æ­¤æŒ‡ä»¤å£°æ˜åœ¨æŸå¤´æ–‡ä»¶ï¼Œé‚£ä¹ˆ <strong>æ‰€æœ‰å¼•å…¥äº†è¿™ä¸ªå¤´æ–‡ä»¶çš„ä»£ç ï¼Œå…¶<code>ANIMATION_DURATION</code> éƒ½ä¼šè¢«æ›¿æ¢</strong>ã€‚æœ‰ä¸ªåŠæ³•æ¯”ç”¨é¢„å¤„ç†æŒ‡ä»¤æ¥å®šä¹‰å¸¸é‡æ›´å¥½ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="built_in">NSTimeInterval</span> kAnimationDuration = <span class="number">0.3</span>;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å‡ºï¼Œä¸Šé¢æ–¹å¼å®šä¹‰çš„å¸¸é‡åŒ…å«ç±»å‹ä¿¡æ¯ï¼Œå¯çŸ¥è¯¥å¸¸é‡ç±»å‹ä¸º <code>NSTimeInterval</code>ï¼Œè¿™ç§æ–¹å¼èƒ½ä»¤é˜…è¯»ä»£ç çš„äººæ›´æ˜“ç†è§£å…¶æ„å›¾ã€‚å¦å¤–è¿˜åº”æ³¨æ„å¸¸é‡åç§°ï¼šè‹¥å¸¸é‡åªç”¨åœ¨å®ç°æ–‡ä»¶ï¼Œåˆ™åœ¨å‰é¢åŠ å­—æ¯ <code>k</code>ï¼›è‹¥å¸¸é‡åœ¨ç±»ä¹‹å¤–å¯è§ï¼Œåˆ™é€šå¸¸ä»¥ç±»åä¸ºå‰ç¼€ã€‚</p>
<p><strong>å˜é‡ä¸€å®šè¦åŒæ—¶ç”¨ <code>static</code> ä¸ <code>const</code> æ¥å£°æ˜ã€‚å¦‚æœè¯•å›¾ä¿®æ”¹ç”± <code>const</code> ä¿®é¥°ç¬¦æ‰€å£°æ˜çš„å˜é‡ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚è€Œ <code>static</code> ä¿®é¥°ç¬¦æ„å‘³ç€è¯¥å˜é‡ä»…åœ¨å®šä¹‰æ­¤å˜é‡çš„å®ç°æ–‡ä»¶ä¸­å¯è§ã€‚</strong>å¦‚æœä¸åŠ  <code>static</code>ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šä¸ºå®ƒåˆ›å»ºä¸€ä¸ªâ€œå¤–éƒ¨ç¬¦å·â€ï¼Œæ­¤æ—¶è‹¥å¦ä¸€ä¸ªç±»ä¸­ä¹Ÿå£°æ˜äº†åŒåå˜é‡ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°±ä¼šæŠ›å‡ºä¸€æ¡é”™è¯¯æ¶ˆæ¯ã€‚</p>
<ul>
<li>è¦ç‚¹ï¼š</li>
<li><strong>ä¸è¦ç”¨é¢„å¤„ç†æŒ‡ä»¤å®šä¹‰å¸¸é‡ã€‚</strong>è¿™æ ·å®šä¹‰å‡ºæ¥çš„å¸¸é‡ä¸å«ç±»å‹ä¿¡æ¯ï¼Œç¼–è¯‘å™¨åªæ˜¯ä¼šåœ¨ç¼–è¯‘å‰æ‰§è¡ŒæŸ¥æ‰¾ä¸æ›¿æ¢æ“ä½œã€‚å³ä½¿æœ‰äººé‡æ–°å®šä¹‰äº†å¸¸é‡å€¼ï¼Œç¼–è¯‘å™¨ä¹Ÿä¸ä¼šäº§ç”Ÿè­¦å‘Šä¿¡æ¯ï¼Œè¿™å°†å¯¼è‡´åº”ç”¨ç¨‹åºä¸­çš„å¸¸é‡å€¼ä¸ä¸€è‡´ã€‚</li>
<li><strong>åœ¨å®ç°æ–‡ä»¶ä¸­ä½¿ç”¨ <code>static const</code> å®šä¹‰â€œåªåœ¨ç¼–è¯‘å•å…ƒå†…å¯è§çš„å¸¸é‡â€ã€‚</strong>ç”±äºæ­¤ç±»å¸¸é‡ä¸å†å…¨å±€ç¬¦å·è¡¨ä¸­ï¼Œæ‰€ä»¥æ— é¡»ä¸ºå…¶åç§°åŠ å‰ç¼€ã€‚</li>
</ul>
<h4 id="ç¬¬-4-æ¡-ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€ã€é€‰é¡¹ã€çŠ¶æ€ç "><a href="#ç¬¬-4-æ¡-ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€ã€é€‰é¡¹ã€çŠ¶æ€ç " class="headerlink" title="ç¬¬ 4 æ¡ - ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€ã€é€‰é¡¹ã€çŠ¶æ€ç "></a>ç¬¬ 4 æ¡ - ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€ã€é€‰é¡¹ã€çŠ¶æ€ç </h4><ul>
<li><strong>æšä¸¾æ˜¯ä¸€ç§å¸¸é‡å‘½åæ–¹å¼ã€‚å½“ä¸€ä¸ªå¯¹è±¡å¦‚æœæœ‰å¤šç§çŠ¶æ€æ—¶ï¼Œå°±å¯ä»¥å®šä¹‰ä¸ºä¸€ä¸ªæšä¸¾é›†ã€‚</strong></li>
</ul>
<p>æ¯”å¦‚<code>UITableView</code> ä¸­çš„ <code>UITableViewStyle</code> å°±æ˜¯ä¸€ä¸ªæšä¸¾ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="built_in">NS_ENUM</span>(<span class="built_in">NSInteger</span>, <span class="built_in">UITableViewStyle</span>) &#123;</span><br><span class="line"><span class="built_in">UITableViewStylePlain</span>,          <span class="comment">// regular table view</span></span><br><span class="line"><span class="built_in">UITableViewStyleGrouped</span>         <span class="comment">// preferences style table view</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>ç”±äºæ¯ç§çŠ¶æ€éƒ½ç”¨ä¸€ä¸ªä¾¿äºç†è§£çš„å€¼æ¥è¡¨ç¤ºï¼Œæ‰€ä»¥è¿™æ ·å†™å‡ºæ¥çš„ä»£ç æ›´æ˜“è¯»æ‡‚ã€‚ç¼–è¯‘å™¨ä¼šä¸ºæšä¸¾åˆ†é…ä¸€ä¸ªç‹¬æœ‰çš„ç¼–å·ï¼Œä» <code>0</code> å¼€å§‹ï¼Œæ¯ä¸ªæšä¸¾é€’å¢ <code>1</code>ã€‚</strong></p>
<ul>
<li>åœ¨ switch ä¸­ä½¿ç”¨æšä¸¾ï¼š</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> : <span class="built_in">NSUInteger</span> &#123;</span><br><span class="line">NNAccountStateInitial = <span class="number">0</span>,        <span class="comment">// åˆå§‹</span></span><br><span class="line">NNAccountStateWaitReviewed,       <span class="comment">// å¾…å®¡æ ¸</span></span><br><span class="line">NNAccountStatePassed,             <span class="comment">// å·²é€šè¿‡</span></span><br><span class="line">NNAccountStateNoPassed,           <span class="comment">// æœªé€šè¿‡</span></span><br><span class="line">NNAccountStateDeactivated,        <span class="comment">// åœç”¨</span></span><br><span class="line">NNAccountStateFreeze,             <span class="comment">// å†»ç»“</span></span><br><span class="line">&#125; NNAccountState;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">switch</span> (<span class="keyword">self</span>.accountState) &#123;</span><br><span class="line"><span class="keyword">case</span> NNAccountStateInitial:</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> NNAccountStateWaitReviewed:</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> NNAccountStatePassed:</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> NNAccountStateNoPassed:</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> NNAccountStateDeactivated:</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> NNAccountStateFreeze:</span><br><span class="line"></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è¦ç‚¹ï¼š</li>
<li>åº”è¯¥ç”¨æšä¸¾è¡¨ç¤ºçŠ¶æ€ï¼Œç»™è¿™äº›å€¼èµ·ä¸ªæ˜“æ‡‚çš„åå­—ã€‚</li>
<li>åœ¨å¤„ç†æšä¸¾ç±»å‹çš„ <code>switch</code> è¯­å¥ä¸­ï¼Œä¸è¦å®ç° <code>default</code> åˆ†æ”¯ï¼Œè¿™æ ·ï¼ŒåŠ å…¥æ–°æšä¸¾ä¹‹åï¼Œç¼–è¯‘å™¨å°±ä¼šæç¤ºå¼€å‘è€…ï¼š<code>switch</code> è¯­å¥å¹¶æœªå¤„ç†æ‰€æœ‰çš„æšä¸¾ã€‚</li>
</ul>
<h2 id="ç¬¬-2-ç« ï¼šå¯¹è±¡ã€æ¶ˆæ¯ã€è¿è¡ŒæœŸ"><a href="#ç¬¬-2-ç« ï¼šå¯¹è±¡ã€æ¶ˆæ¯ã€è¿è¡ŒæœŸ" class="headerlink" title="ç¬¬ 2 ç« ï¼šå¯¹è±¡ã€æ¶ˆæ¯ã€è¿è¡ŒæœŸ"></a>ç¬¬ 2 ç« ï¼šå¯¹è±¡ã€æ¶ˆæ¯ã€è¿è¡ŒæœŸ</h2><h4 id="ç¬¬-5-æ¡-åœ¨å¯¹è±¡å†…éƒ¨å°½é‡ç›´æ¥è®¿é—®å®ä¾‹å˜é‡"><a href="#ç¬¬-5-æ¡-åœ¨å¯¹è±¡å†…éƒ¨å°½é‡ç›´æ¥è®¿é—®å®ä¾‹å˜é‡" class="headerlink" title="ç¬¬ 5 æ¡ - åœ¨å¯¹è±¡å†…éƒ¨å°½é‡ç›´æ¥è®¿é—®å®ä¾‹å˜é‡"></a>ç¬¬ 5 æ¡ - åœ¨å¯¹è±¡å†…éƒ¨å°½é‡ç›´æ¥è®¿é—®å®ä¾‹å˜é‡</h4><p>è¯·çœ‹ä¸‹è¾¹è¿™ä¸ªç±»ã€‚</p>
<p>.h æ–‡ä»¶<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NNListViewController</span> : <span class="title">UIViewController</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *lastName;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *firstName;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)fullName;</span><br><span class="line">- (<span class="keyword">void</span>)setFullName:(<span class="built_in">NSString</span> *)fullName;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p>.m æ–‡ä»¶<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NNListViewController</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">[<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)fullName &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@ %@"</span>, <span class="keyword">self</span>.firstName, <span class="keyword">self</span>.lastName];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setFullName:(<span class="built_in">NSString</span> *)fullName &#123;</span><br><span class="line"><span class="built_in">NSArray</span> *compoents = [fullName componentsSeparatedByString:<span class="string">@" "</span>];</span><br><span class="line"><span class="keyword">self</span>.firstName = [compoents objectAtIndex:<span class="number">0</span>];</span><br><span class="line"><span class="keyword">self</span>.firstName = [compoents objectAtIndex:<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p>åœ¨ fullName çš„è·å–æ–¹æ³•ä¸è®¾ç½®æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ç‚¹è¯­æ³•ï¼Œé€šè¿‡å­˜å–æ–¹æ³•æ¥è®¿é—®ç›¸å…³çš„å®ä¾‹å˜é‡ã€‚ç°åœ¨å‡è®¾é‡å†™è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸ç»ç”±å­˜å–æ–¹æ³•ï¼Œè€Œæ˜¯ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ï¼š</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (NSString *)fullName &#123;</span><br><span class="line"><span class="keyword">return</span> [NSString <span class="string">stringWithFormat:</span>@<span class="string">"%@ %@"</span>, _firstName, _lastName];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)<span class="string">setFullName:</span>(NSString *)fullName &#123;</span><br><span class="line">NSArray *compoents = [fullName <span class="string">componentsSeparatedByString:</span>@<span class="string">" "</span>];</span><br><span class="line">_firstName = [compoents <span class="string">objectAtIndex:</span><span class="number">0</span>];</span><br><span class="line">_firstName = [compoents <span class="string">objectAtIndex:</span><span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è¿™ä¸¤ç§å†™æ³•æœ‰å‡ ä¸ªåŒºåˆ«ï¼š</li>
<li>ç”±äºä¸ç»è¿‡ <code>OC</code> æ–¹æ³•æ´¾å‘æ­¥éª¤ï¼Œæ‰€ä»¥ç›´æ¥è®¿é—®å®ä¾‹å˜é‡çš„é€Ÿåº¦å½“ç„¶æ¯”è¾ƒå¿«ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨æ‰€ç”Ÿæˆçš„ä»£ç ä¼šç›´æ¥è®¿é—®ä¿å­˜å¯¹è±¡å®ä¾‹å˜é‡çš„é‚£å—å†…å­˜ã€‚</li>
<li>ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ä¸ä¼šè°ƒç”¨å…¶â€œè®¾ç½®æ–¹æ³•â€ï¼Œè¿™å°±ç»•è¿‡äº†ä¸ºç›¸å…³å±æ€§æ‰€å®šä¹‰çš„â€œå†…å­˜ç®¡ç†è¯­ä¹‰â€ã€‚æ¯”æ–¹è¯´ï¼Œå¦‚æœåœ¨ <code>ARC</code> ä¸‹ç›´æ¥è®¿é—®ä¸€ä¸ªå£°æ˜ä¸º <code>copy</code> çš„å±æ€§ï¼Œé‚£ä¹ˆå¹¶ä¸ä¼šæ‹·è´è¯¥å±æ€§ï¼Œåªä¼šä¿ç•™æ–°å€¼å¹¶é‡Šæ”¾æ—§å€¼ã€‚</li>
<li>å¦‚æœç›´æ¥è®¿é—®å®ä¾‹å˜é‡ï¼Œé‚£ä¹ˆä¸ä¼šè§¦å‘â€œé”®å€¼è§‚æµ‹â€é€šçŸ¥ï¼Œè¿™æ ·åšæ˜¯å¦ä¼šäº§ç”Ÿé—®é¢˜ï¼Œè¿˜å–å†³äºå…·ä½“çš„å¯¹è±¡è¡Œä¸ºã€‚</li>
<li>é€šè¿‡å±æ€§æ¥è®¿é—®æœ‰åŠ©äºæ’æŸ¥ä¸ä¹‹ç›¸å…³çš„é”™è¯¯ï¼Œå› ä¸ºå¯ä»¥ç»™â€œè·å–æ–¹æ³•â€æˆ–â€œè®¾ç½®æ–¹æ³•â€ä¸­æ–°å¢â€œæ–­ç‚¹â€ï¼Œç›‘æ§è¯¥å±æ€§çš„è°ƒç”¨è€…åŠå…¶è®¿é—®æ—¶æœºã€‚</li>
</ul>
<h4 id="ç¬¬-6-æ¡-ç†è§£â€œå¯¹è±¡ç­‰åŒæ€§â€è¿™ä¸€æ¦‚å¿µ"><a href="#ç¬¬-6-æ¡-ç†è§£â€œå¯¹è±¡ç­‰åŒæ€§â€è¿™ä¸€æ¦‚å¿µ" class="headerlink" title="ç¬¬ 6 æ¡ - ç†è§£â€œå¯¹è±¡ç­‰åŒæ€§â€è¿™ä¸€æ¦‚å¿µ"></a>ç¬¬ 6 æ¡ - ç†è§£â€œå¯¹è±¡ç­‰åŒæ€§â€è¿™ä¸€æ¦‚å¿µ</h4><p>æ ¹æ®â€œç­‰åŒæ€§â€æ¥æ¯”è¾ƒå¯¹è±¡æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„åŠŸèƒ½ï¼Œè¯·çœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼Œå¹¶æ€è€ƒä¼šè¾“å‡ºä»€ä¹ˆï¼š<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NSString *foo = @<span class="string">"Badger 123"</span><span class="comment">;</span></span><br><span class="line">NSString *<span class="keyword">bar </span>= [NSString stringWithFormat:@<span class="string">"Badger %d"</span>, <span class="number">123</span>]<span class="comment">;</span></span><br><span class="line"><span class="keyword">BOOL </span>equalA = (foo == <span class="keyword">bar);</span></span><br><span class="line"><span class="keyword">BOOL </span>equalB = [foo isEqual:<span class="keyword">bar];</span></span><br><span class="line"><span class="keyword">BOOL </span>equalC = [foo isEqualToString:<span class="keyword">bar];</span></span><br><span class="line"><span class="keyword">NSLog(@"equalA </span>= %d, equalB = %d, equalC = %d<span class="string">", equalA, equalB, equalC);</span></span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œæ˜¯è¾“å‡ºç»“æœï¼š<code>equalA = 0, equalB = 1, equalC = 1</code></p>
<p>å¤§å®¶å¯ä»¥çœ‹åˆ° == ä¸ç­‰åŒæ€§åˆ¤æ–­æ–¹æ³•ä¹‹é—´çš„å·®åˆ«(== æ“ä½œç¬¦åªæ˜¯æ¯”è¾ƒäº†ä¸¤ä¸ªæŒ‡é’ˆï¼Œè€Œä¸æ˜¯æŒ‡é’ˆæ‰€æŒ‡çš„å¯¹è±¡)ï¼ŒNSString å®ç°äº†ä¸€ä¸ªè‡ªå·±ç‹¬æœ‰çš„åˆ¤æ–­æ–¹æ³•ï¼ŒisEqualToStringã€‚è°ƒç”¨è¯¥æ–¹æ³•æ¯”è°ƒç”¨ isEqual æ–¹æ³•å¿«ï¼Œåè€…è¿˜è¦æ‰§è¡Œé¢å¤–çš„æ­¥éª¤ï¼Œå› æ­¤å®ƒä¸çŸ¥é“å—æµ‹å¯¹è±¡çš„ç±»å‹ã€‚</p>
<h4 id="ç¬¬-7-æ¡-ä»¥â€œç±»æ—æ¨¡å¼â€éšè—å®ç°ç»†èŠ‚"><a href="#ç¬¬-7-æ¡-ä»¥â€œç±»æ—æ¨¡å¼â€éšè—å®ç°ç»†èŠ‚" class="headerlink" title="ç¬¬ 7 æ¡ - ä»¥â€œç±»æ—æ¨¡å¼â€éšè—å®ç°ç»†èŠ‚"></a>ç¬¬ 7 æ¡ - ä»¥â€œç±»æ—æ¨¡å¼â€éšè—å®ç°ç»†èŠ‚</h4><p>â€œç±»æ—â€æ˜¯ä¸€ç§å¾ˆæœ‰ç”¨çš„æ¨¡å¼ï¼Œå¯ä»¥éšè—â€œæŠ½è±¡åŸºç±»â€èƒŒåçš„å®ç°ç»†èŠ‚ã€‚<code>OC</code> çš„ç³»ç»Ÿæ¡†æ¶ä¸­æ™®éä½¿ç”¨æ­¤æ¨¡å¼ã€‚æ¯”å¦‚åˆ›å»º <code>UIButton</code> æ—¶éœ€è¦è°ƒç”¨ä¸‹é¢è¿™ä¸ªæ–¹æ³•ï¼š<br><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ (instance<span class="keyword">type</span>)buttonWithType:(<span class="type">UIButtonType</span>)buttonType;</span><br></pre></td></tr></table></figure></p>
<p>è¯¥æ–¹æ³•æ‰€è¿”å›çš„å¯¹è±¡ï¼Œå…¶ç±»å‹å–å†³äºä¼ å…¥çš„æŒ‰é’®ç±»å‹ï¼Œç„¶è€Œï¼Œä¸ç®¡è¿”å›ä»€ä¹ˆç±»å‹çš„å¯¹è±¡ï¼Œå®ƒä»¬éƒ½ç»§æ‰¿è‡ªåŒä¸€ä¸ªåŸºç±»ï¼š<code>UIButton</code>ã€‚è¿™ä¹ˆåšçš„æ„ä¹‰åœ¨äºï¼š<code>UIButton</code> ç±»çš„ä½¿ç”¨è€…æ— é¡»å…³å¿ƒåˆ›å»ºå‡ºæ¥çš„æŒ‰é’®å…·ä½“å±äºå“ªä¸ªå­ç±»ï¼Œä¹Ÿä¸ç”¨è€ƒè™‘æŒ‰é’®çš„ç»˜åˆ¶æ–¹å¼ç­‰å®ç°ç»†èŠ‚ã€‚</p>
<ul>
<li>ä¸¾ä¾‹åˆ›å»ºç±»æ—</li>
</ul>
<p>.h æ–‡ä»¶<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> : <span class="built_in">NSUInteger</span> &#123;</span><br><span class="line">NNAccountStateInitial = <span class="number">0</span>,        <span class="comment">// åˆå§‹</span></span><br><span class="line">NNAccountStateWaitReviewed,       <span class="comment">// å¾…å®¡æ ¸</span></span><br><span class="line">NNAccountStatePassed,             <span class="comment">// å·²é€šè¿‡</span></span><br><span class="line">NNAccountStateNoPassed,           <span class="comment">// æœªé€šè¿‡</span></span><br><span class="line">NNAccountStateDeactivated,        <span class="comment">// åœç”¨</span></span><br><span class="line">NNAccountStateFreeze,             <span class="comment">// å†»ç»“</span></span><br><span class="line">&#125; NNAccountState;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NNHomeViewController</span> : <span class="title">UIViewController</span></span></span><br><span class="line"></span><br><span class="line">+ (NNHomeViewController *)accountWithState:(NNAccountState)state;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p>.m æ–‡ä»¶<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">+ (NNHomeViewController *)<span class="string">accountWithState:</span>(NNAccountState)state &#123;</span><br><span class="line"><span class="keyword">switch</span> (state) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">NNAccountStateInitial:</span></span><br><span class="line"><span class="comment">// åšæ“ä½œ</span></span><br><span class="line"><span class="keyword">return</span> [[NNHomeViewController alloc] init];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">NNAccountStateWaitReviewed:</span></span><br><span class="line"><span class="comment">// åšæ“ä½œ</span></span><br><span class="line"><span class="keyword">return</span> [[NNHomeViewController alloc] init];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">NNAccountStatePassed:</span></span><br><span class="line"><span class="comment">// åšæ“ä½œ</span></span><br><span class="line"><span class="keyword">return</span> [[NNHomeViewController alloc] init];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">NNAccountStateNoPassed:</span></span><br><span class="line"><span class="comment">// åšæ“ä½œ</span></span><br><span class="line"><span class="keyword">return</span> [[NNHomeViewController alloc] init];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">NNAccountStateDeactivated:</span></span><br><span class="line"><span class="comment">// åšæ“ä½œ</span></span><br><span class="line"><span class="keyword">return</span> [[NNHomeViewController alloc] init];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="string">NNAccountStateFreeze:</span></span><br><span class="line"><span class="comment">// åšæ“ä½œ</span></span><br><span class="line"><span class="keyword">return</span> [[NNHomeViewController alloc] init];</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>Cocoa é‡Œçš„ç±»æ—<br>ç³»ç»Ÿæ¡†æ¶ä¸­æœ‰è®¸å¤šç±»æ—ã€‚å¤§éƒ¨åˆ†<code>collection</code> ç±»éƒ½æ˜¯ç±»æ—ï¼Œä¾‹å¦‚ <code>NSArray</code> ä¸å…¶å¯å˜ç‰ˆæœ¬ <code>NSMutableArray</code>ã€‚è¿™æ ·çœ‹æ¥ï¼Œå®é™…ä¸Šæœ‰ä¸¤ä¸ªæŠ½è±¡åŸºç±»ï¼Œä¸€ä¸ªç”¨äºä¸å¯å˜æ•°ç»„ï¼Œä¸€ä¸ªç”¨äºå¯å˜æ•°ç»„ã€‚å°½ç®¡å…·å¤‡å…¬å…±æ¥å£çš„ç±»æœ‰ä¸¤ä¸ªï¼Œä½†ä»ç„¶å¯ä»¥åˆèµ·æ¥ç®—ä½œä¸€ä¸ªç±»æ—ã€‚ä¸å¯å˜çš„ç±»å®šä¹‰äº†å¯¹æ‰€æœ‰æ•°ç»„éƒ½é€šç”¨çš„æ–¹æ³•ï¼Œè€Œå¯å˜çš„ç±»åˆ™å®šä¹‰äº†é‚£äº›åªé€‚ç”¨äºå¯å˜æ•°ç»„çš„æ–¹æ³•ã€‚ä¸¤ä¸ªç±»å…±å±äºä¸€ç±»æ—ï¼Œè¿™æ„å‘³ç€äºŒè€…åœ¨å®ç°å„è‡ªç±»å‹çš„æ•°ç»„æ—¶å¯ä»¥å…±ç”¨å®ç°ä»£ç ï¼Œæ­¤å¤–ï¼Œè¿˜èƒ½å¤ŸæŠŠå¯å˜æ•°ç»„å¤åˆ¶ä¸ºä¸å¯å˜æ•°ç»„ï¼Œåä¹‹äº¦ç„¶ã€‚</p>
</li>
<li><p>è¯·çœ‹ä¸‹é¢è¿™å¥ä»£ç :</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">id</span> maybeAnArray;</span><br><span class="line"><span class="comment">// å¯ä»¥å¯¹ maybeAnArray èµ‹ä»»ä½•å€¼</span></span><br><span class="line"><span class="keyword">if</span> ([maybeAnArray <span class="keyword">class</span>] == [<span class="built_in">NSArray</span> <span class="keyword">class</span>]) &#123; <span class="comment">// åˆ¤æ–­æ°¸è¿œä¸ä¼šä¸ºçœŸ</span></span><br><span class="line"><span class="comment">// ä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>è§£æä»£ç ï¼š<code>NSArray</code> æ˜¯ä¸ªç±»æ—ï¼Œ<code>[maybeAnArray class]</code> æ‰€è¿”å›çš„ç»ä¸å¯èƒ½æ˜¯ <code>NSArray</code> æœ¬èº«ï¼Œå› ä¸ºç”± <code>NSArray</code> çš„åˆå§‹åŒ–æ–¹æ³•æ‰€è¿”å›çš„é‚£ä¸ªå®ä¾‹å…¶ç±»å‹æ˜¯éšè—åœ¨ç±»æ—å…¬å…±æ¥å£åé¢çš„æŸä¸ªå†…éƒ¨ç±»å‹ã€‚<br>ä¸è¿‡ä»ç„¶æœ‰åŠæ³•å¯ä»¥åˆ¤æ–­å‡ºæŸä¸ªå®ä¾‹æ‰€å±çš„ç±»æ˜¯å¦ä½äºç±»æ—ä¹‹ä¸­ã€‚è‹¥æƒ³åˆ¤æ–­æŸå¯¹è±¡æ˜¯å¦ä½äºç±»æ—ä¸­ï¼Œä¸è¦ç›´æ¥æ£€æµ‹ä¸¤ä¸ªç±»å¯¹è±¡æ˜¯å¦ç›¸åŒï¼Œè€Œåº”è¯¥é‡‡ç”¨ä¸‹åˆ—ä»£ç ï¼š<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">id maybeAnArray;</span><br><span class="line"><span class="comment">// å¯¹ maybeAnArray èµ‹ä»»ä½•å€¼</span></span><br><span class="line"><span class="keyword">if</span> ([maybeAnArray <span class="string">isKindOfClass:</span>[NSArray <span class="class"><span class="keyword">class</span>]]) &#123;</span></span><br><span class="line"><span class="comment">// ä¼šæ‰§è¡Œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="ç¬¬-8-æ¡ï¼šåœ¨æ—¢æœ‰ç±»ä¸­ä½¿ç”¨å…³è”å¯¹è±¡å­˜æ”¾è‡ªå®šä¹‰æ•°æ®"><a href="#ç¬¬-8-æ¡ï¼šåœ¨æ—¢æœ‰ç±»ä¸­ä½¿ç”¨å…³è”å¯¹è±¡å­˜æ”¾è‡ªå®šä¹‰æ•°æ®" class="headerlink" title="ç¬¬ 8 æ¡ï¼šåœ¨æ—¢æœ‰ç±»ä¸­ä½¿ç”¨å…³è”å¯¹è±¡å­˜æ”¾è‡ªå®šä¹‰æ•°æ®"></a>ç¬¬ 8 æ¡ï¼šåœ¨æ—¢æœ‰ç±»ä¸­ä½¿ç”¨å…³è”å¯¹è±¡å­˜æ”¾è‡ªå®šä¹‰æ•°æ®</h4><p>åœ¨ OC ä¸­å¯ä»¥é€šè¿‡ Category ç»™ä¸€ä¸ªç°æœ‰çš„ç±»æ·»åŠ å±æ€§ï¼Œä½†å´ä¸èƒ½æ·»åŠ å®ä¾‹å˜é‡ï¼Œè¿™ä¼¼ä¹æˆä¸ºäº† OC çš„ä¸€ä¸ªçŸ­æ¿ã€‚å€¼å¾—åº†å¹¸çš„æ˜¯ï¼Œ<code>OC</code> ä¸­æœ‰ä¸€é¡¹å¼ºå¤§çš„ç‰¹æ€§å¯ä»¥è§£å†³æ­¤é—®é¢˜ï¼Œè¿™å°±æ˜¯å…³è”å¯¹è±¡<code>ï¼ˆAssociated Objectï¼‰</code>ã€‚</p>
<ul>
<li><p>çœ‹ä¸‹è¿™å‡ ä¸ªæ–¹æ³•ï¼š</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éœ€è¦å¯¼å…¥å¤´æ–‡ä»¶</span></span><br><span class="line"><span class="meta">#import &lt;objc/runtime.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¹æ®ç»™å®šçš„é”®å’Œç­–ç•¥ä¸ºæŸå¯¹è±¡è®¾ç½®å…³è”å¯¹è±¡å€¼</span></span><br><span class="line"><span class="function">OBJC_EXPORT <span class="keyword">void</span> <span class="title">objc_setAssociatedObject</span>(<span class="params">id <span class="keyword">object</span>, <span class="keyword">const</span> <span class="keyword">void</span> *key, id <span class="keyword">value</span>, objc_AssociationPolicy policy</span>)</span>;</span><br><span class="line"><span class="comment">// æ ¹æ®ç»™å®šçš„é”®ä»æŸå¯¹è±¡è·å–ç›¸åº”çš„å…³è”å¯¹è±¡å€¼</span></span><br><span class="line"><span class="function">OBJC_EXPORT id <span class="title">objc_getAssociatedObject</span>(<span class="params">id <span class="keyword">object</span>, <span class="keyword">const</span> <span class="keyword">void</span> *key</span>)</span>;</span><br><span class="line"><span class="comment">// ç§»é™¤æŒ‡å®šå¯¹è±¡çš„å…¨éƒ¨å…³è”å¯¹è±¡</span></span><br><span class="line"><span class="function">OBJC_EXPORT <span class="keyword">void</span> <span class="title">objc_removeAssociatedObjects</span>(<span class="params">id <span class="keyword">object</span></span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è§£æä»£ç ï¼š<code>id object</code>ç»™è°è®¾ç½®å…³è”å¯¹è±¡ï¼›<code>const void *key</code>å…³è”å¯¹è±¡å”¯ä¸€çš„ key ï¼Œè·å–æ—¶ä¼šç”¨åˆ°çš„ä¸»é”®ï¼›<code>id value</code>å…³è”å¯¹è±¡ï¼›<code>objc_AssociationPolicy</code>å…³è”ç­–ç•¥ï¼Œå…³è”ç­–ç•¥ä»¥ä¸‹å‡ ç§ï¼š</p>
</li>
</ul>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">typedef OBJC_ENUM(uintptr_t, objc_AssociationPolicy) &#123;</span><br><span class="line">OBJC_ASSOCIATION_ASSIGN = <span class="number">0</span>,           <span class="comment">/**&lt; Specifies a weak reference to the associated object. */</span></span><br><span class="line">OBJC_ASSOCIATION_RETAIN_NONATOMIC = <span class="number">1</span>, <span class="comment">/**&lt; Specifies a strong reference to the associated object.</span></span><br><span class="line"><span class="comment">*   The association is not made atomically. */</span></span><br><span class="line">OBJC_ASSOCIATION_COPY_NONATOMIC = <span class="number">3</span>,   <span class="comment">/**&lt; Specifies that the associated object is copied.</span></span><br><span class="line"><span class="comment">*   The association is not made atomically. */</span></span><br><span class="line">OBJC_ASSOCIATION_RETAIN = <span class="number">01401</span>,       <span class="comment">/**&lt; Specifies a strong reference to the associated object.</span></span><br><span class="line"><span class="comment">*   The association is made atomically. */</span></span><br><span class="line">OBJC_ASSOCIATION_COPY = <span class="number">01403</span>          <span class="comment">/**&lt; Specifies that the associated object is copied.</span></span><br><span class="line"><span class="comment">*   The association is made atomically. */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å…³è”å¯¹è±¡æœ‰å¾ˆå¤šç»†èŠ‚å¾ˆå¤šå‘éœ€è¦æ³¨æ„ï¼Œæƒ³äº†è§£æ›´å¤šå…³è”å¯¹è±¡çš„ç«¥é‹è¯·çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="http://blog.csdn.net/shaobo8910/article/details/47748727" target="_blank" rel="noopener">Objective-C Associated Objects çš„å®ç°åŸç†ã€‚</a></p>
<h4 id="ç¬¬-9-æ¡ï¼šç†è§£-objc-msgSend-çš„ä½œç”¨"><a href="#ç¬¬-9-æ¡ï¼šç†è§£-objc-msgSend-çš„ä½œç”¨" class="headerlink" title="ç¬¬ 9 æ¡ï¼šç†è§£ objc_msgSend çš„ä½œç”¨"></a>ç¬¬ 9 æ¡ï¼šç†è§£ objc_msgSend çš„ä½œç”¨</h4><p>åœ¨ OC ä¸­ï¼Œå¦‚æœå‘æŸä¸ªå¯¹è±¡ä¼ é€’æ¶ˆæ¯ï¼Œé‚£å°±ä¼šåœ¨è¿è¡Œæ—¶ä½¿ç”¨åŠ¨æ€ç»‘å®š<code>ï¼ˆdynamic bindingï¼‰</code>æœºåˆ¶æ¥å†³å®šéœ€è¦è°ƒç”¨çš„æ–¹æ³•ã€‚ä½†æ˜¯åˆ°äº†åº•å±‚å…·ä½“å®ç°ï¼Œå´æ˜¯æ™®é€šçš„Cè¯­è¨€å‡½æ•°å®ç°çš„ã€‚è¿™ä¸ªå®ç°çš„å‡½æ•°å°±æ˜¯<code>objc_msgSend</code>,è¯¥å‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">void</span> objc_msgSend(id <span class="built_in">self</span>, SEL cmd, <span class="params">...</span>)</span><br></pre></td></tr></table></figure>
<p>ç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨<code>æ¥æ”¶è€…</code>ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨<code>é€‰æ‹©å­</code>ï¼ˆ<code>SELæ˜¯é€‰æ‹©å­çš„ç±»å‹ï¼Œé€‰æ‹©å­å³æ–¹æ³•åå­—</code>ï¼‰ï¼Œåç»­å‚æ•°å°±æ˜¯æ¶ˆæ¯ä¸­çš„é‚£äº›<code>å‚æ•°</code>ï¼Œå…¶é¡ºåºä¸å˜ã€‚</p>
<ul>
<li>ä¸¾ä¸ªä¾‹å­:</li>
</ul>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">id returnValue</span> = [someObject messageName:parameter];</span><br></pre></td></tr></table></figure>
<p>ä»£ç è§£æï¼š<code>objc_msgSend</code> å‡½æ•°ä¼šä¾æ®æ¥æ”¶è€…ä¸é€‰æ‹©å­çš„ç±»å‹æ¥è°ƒç”¨é€‚å½“çš„æ–¹æ³•ã€‚å‡½æ•°é¦–å…ˆä¼šåœ¨æ¥æ”¶è€…æ‰€å±çš„ç±»ä¸­æœå¯»å…¶æ–¹æ³•åˆ—è¡¨ï¼Œå¦‚æœèƒ½æ‰¾åˆ°è¿™ä¸ªè·Ÿé€‰æ‹©å­åç§°ç›¸åŒçš„æ–¹æ³•ï¼Œå°±è·³è½¬è‡³å…¶å®ç°ä»£ç ã€‚è‹¥æ˜¯å½“å‰ç±»æ²¡æ‰¾åˆ°ï¼Œé‚£å°±æ²¿ç€ç»§æ‰¿ä½“ç³»å‘ä¸ŠæŸ¥æ‰¾ï¼Œç­‰æ‰¾åˆ°åˆé€‚æ–¹æ³•ä¹‹åå†è·³è½¬ ï¼Œå¦‚æœæœ€ç»ˆè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œé‚£å°±è¿›å…¥æ¶ˆæ¯è½¬å‘çš„æµç¨‹å»è¿›è¡Œå¤„ç†äº†ã€‚</p>
<h3 id="ç¬¬-10-æ¡ï¼šç†è§£æ¶ˆæ¯è½¬å‘æœºåˆ¶"><a href="#ç¬¬-10-æ¡ï¼šç†è§£æ¶ˆæ¯è½¬å‘æœºåˆ¶" class="headerlink" title="ç¬¬ 10 æ¡ï¼šç†è§£æ¶ˆæ¯è½¬å‘æœºåˆ¶"></a>ç¬¬ 10 æ¡ï¼šç†è§£æ¶ˆæ¯è½¬å‘æœºåˆ¶</h3><p><strong>å½“å¯¹è±¡æ¥æ”¶åˆ°æ— æ³•è§£è¯»çš„æ¶ˆæ¯åï¼Œå°±ä¼šå¯åŠ¨â€œæ¶ˆæ¯è½¬å‘â€<code>ï¼ˆmessage forwardingï¼‰</code>æœºåˆ¶</strong>ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»£ç åœ¨æ¶ˆæ¯è½¬å‘çš„è¿‡ç¨‹ä¸­å‘Šè¯‰å¯¹è±¡åº”è¯¥å¦‚ä½•å¤„ç†æœªçŸ¥çš„æ¶ˆæ¯ï¼Œç³»ç»Ÿé»˜è®¤æ˜¯æŠ›å‡ºå¼‚å¸¸ï¼Œæ§åˆ¶å°ç»™å‡ºæç¤ºä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unrecognized selector sent <span class="keyword">to</span><span class="built_in"> instance </span>0x7f8c8a70a380</span><br></pre></td></tr></table></figure>
<p><strong>æ¶ˆæ¯è½¬å‘æœºåˆ¶æ‰€è®²çš„å°±æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ä¹Ÿå°±æ˜¯æ¶ˆæ¯è½¬å‘è¿‡ç¨‹ä¸­ç»è¿‡çš„ä¸€äº›æ­¥éª¤ã€‚</strong></p>
<h5 id="æ¶ˆæ¯è½¬å‘æœºåˆ¶åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š"><a href="#æ¶ˆæ¯è½¬å‘æœºåˆ¶åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š" class="headerlink" title="æ¶ˆæ¯è½¬å‘æœºåˆ¶åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š"></a>æ¶ˆæ¯è½¬å‘æœºåˆ¶åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š</h5><ul>
<li>ç¬¬ä¸€é˜¶æ®µå…ˆå¾è¯¢æ¥æ”¶è€…ï¼Œæ‰€å±çš„ç±»ï¼Œçœ‹å…¶æ˜¯å¦èƒ½åŠ¨æ€æ·»åŠ æ–¹æ³•ï¼Œä»¥å¤„ç†å½“å‰è¿™ä¸ªâ€œæœªçŸ¥çš„é€‰æ‹©å­â€<code>ï¼ˆunknown selectorï¼‰</code>ï¼Œè¿™å«åšâ€œåŠ¨æ€æ–¹æ³•è§£æâ€<code>ï¼ˆdynamic method resolutionï¼‰</code>ã€‚</li>
<li>ç¬¬äºŒé˜¶æ®µæ¶‰åŠâ€œå®Œæ•´çš„æ¶ˆæ¯è½¬å‘æœºåˆ¶â€<code>ï¼ˆfull forwarding mechanismï¼‰</code>ã€‚å¦‚æœè¿è¡ŒæœŸç³»ç»Ÿå·²ç»æŠŠç¬¬ä¸€é˜¶æ®µæ‰§è¡Œå®Œäº†ï¼Œé‚£ä¹ˆæ¥æ”¶è€…è‡ªå·±å°±æ— æ³•å†ä»¥åŠ¨æ€æ–°å¢æ–¹æ³•çš„æ‰‹æ®µæ¥å“åº”åŒ…å«è¯¥é€‰æ‹©å­çš„æ¶ˆæ¯äº†ã€‚æ­¤æ—¶ï¼Œè¿è¡ŒæœŸç³»ç»Ÿä¼šè¯·æ±‚æ¥æ”¶è€…ä»¥å…¶ä»–æ‰‹æ®µæ¥å¤„ç†ä¸æ¶ˆæ¯ç›¸å…³çš„æ–¹æ³•è°ƒç”¨ã€‚è¿™åˆç»†åˆ†ä¸ºä¸¤å°æ­¥ã€‚</li>
<li>é¦–å…ˆï¼Œè¯·æ¥æ”¶è€…çœ‹çœ‹æœ‰æ²¡æœ‰å…¶ä»–å¯¹è±¡èƒ½å¤„ç†è¿™æ¡æ¶ˆæ¯ã€‚</li>
<li><p>è‹¥æœ‰ï¼Œåˆ™è¿è¡ŒæœŸç³»ç»Ÿä¼šæŠŠæ¶ˆæ¯è½¬ç»™é‚£ä¸ªå¯¹è±¡ï¼Œäºæ˜¯æ¶ˆæ¯è½¬å‘è¿‡ç¨‹ç»“æŸï¼Œä¸€åˆ‡å¦‚å¸¸ã€‚è‹¥æ²¡æœ‰â€œå¤‡æ´çš„æ¥æ”¶è€…â€<code>ï¼ˆreplacement receiverï¼‰</code>ï¼Œåˆ™å¯åŠ¨å®Œæ•´çš„æ¶ˆæ¯è½¬å‘æœºåˆ¶ï¼Œè¿è¡ŒæœŸç³»ç»Ÿä¼šæŠŠä¸æ¶ˆæ¯æœ‰å…³çš„å…¨éƒ¨ç»†èŠ‚éƒ½å°è£…åˆ° <code>NSInvocation</code> å¯¹è±¡ä¸­ï¼Œå†ç»™æ¥æ”¶è€…æœ€åä¸€æ¬¡æœºä¼šï¼Œä»¤å…¶è®¾æ³•è§£å†³å½“å‰è¿˜æœªå¤„ç†çš„è¿™æ¡æ¶ˆæ¯ã€‚</p>
</li>
<li><p>æ¶ˆæ¯è½¬å‘å…¨æµç¨‹ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/2665449-22dab42fdda6386d.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ¶ˆæ¯è½¬å‘å…¨æµç¨‹"></p>
</li>
</ul>
<h3 id="ç¬¬-11-æ¡ï¼šç”¨â€œæ–¹æ³•è°ƒé…æŠ€æœ¯â€è°ƒè¯•â€œé»‘ç›’æ–¹æ³•â€"><a href="#ç¬¬-11-æ¡ï¼šç”¨â€œæ–¹æ³•è°ƒé…æŠ€æœ¯â€è°ƒè¯•â€œé»‘ç›’æ–¹æ³•â€" class="headerlink" title="ç¬¬ 11 æ¡ï¼šç”¨â€œæ–¹æ³•è°ƒé…æŠ€æœ¯â€è°ƒè¯•â€œé»‘ç›’æ–¹æ³•â€"></a>ç¬¬ 11 æ¡ï¼šç”¨â€œæ–¹æ³•è°ƒé…æŠ€æœ¯â€è°ƒè¯•â€œé»‘ç›’æ–¹æ³•â€</h3><p>è¿™æ¡è®²çš„ä¸»è¦å†…å®¹å°±æ˜¯æ–¹æ³•è°ƒé…<code>( Method Swizzling)</code>ï¼Œé€šè¿‡è¿è¡Œæ—¶ç”¨å¦å¤–ä¸€ç§æ–¹æ³•å®ç°æ¥æ›¿æ¢æ‰åŸæœ‰çš„æ–¹æ³•å®ç°ï¼Œå¾€å¾€è¢«åº”ç”¨åœ¨å‘åŸæœ‰å®ç°ä¸­æ·»åŠ æ–°åŠŸèƒ½ï¼Œæ‰“å°ä¿¡æ¯ç­‰ã€‚</p>
<ul>
<li>å¦‚ä½•äº’æ¢ä¸¤ä¸ªæ–¹æ³•å®ç°ï¼Ÿå…·ä½“ä¸»è¦ç”¨ä¸‹é¢ä¸¤ä¸ªæ–¹æ³•</li>
</ul>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class_getInstanceMethod(<span class="keyword">Class</span> _Nullable cls, SEL _Nonnull name)</span><br><span class="line">method_exchangeImplementations(<span class="function"><span class="keyword">Method</span> _<span class="title">Nonnull</span> <span class="title">m1</span>, <span class="title">Method</span> _<span class="title">Nonnull</span> <span class="title">m2</span>)</span></span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆæˆ‘ä»¬å†™ä¸€ä¸ªåˆ†ç±»ï¼Œæ¯”å¦‚ä¸º<code>NSString</code>å†™ä¸€ä¸ªâ€œåˆ†ç±»â€<code>ï¼ˆcategoryï¼‰</code>ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"NSString+extension.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;objc/runtime.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NSString</span> (<span class="title">extension</span>)</span></span><br><span class="line"></span><br><span class="line">+ (<span class="keyword">void</span>)load &#123;</span><br><span class="line">Method oldMethod = class_getInstanceMethod([<span class="built_in">NSString</span> <span class="keyword">class</span>], <span class="keyword">@selector</span>(lowercaseString));</span><br><span class="line">Method newMethod = class_getInstanceMethod([<span class="built_in">NSString</span> <span class="keyword">class</span>], <span class="keyword">@selector</span>(new_lowercaseString));</span><br><span class="line">method_exchangeImplementations(oldMethod, newMethod);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)new_lowercaseString &#123;</span><br><span class="line"><span class="built_in">NSString</span> *lowerString = [<span class="keyword">self</span> new_myLowercaseString];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@ - %@"</span>, <span class="keyword">self</span>, lowerString);</span><br><span class="line"><span class="keyword">return</span> lowerString;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>è§£æä»£ç ï¼š<code>+ (void)load</code>ä¸­ä¼šè°ƒæ¢<code>lowercaseString</code>æ–¹æ³•ä¸<code>new_lowercaseString</code>æ–¹æ³•ï¼›åœ¨æ–¹æ³•<code>- (NSString *)new_lowercaseString</code>ä¸­ï¼Œ<code>[self new_myLowercaseString]</code>ï¼Œæˆ‘ä»¬è°ƒç”¨<code>new_myLowercaseString</code>æ–¹æ³•ï¼Œæ­¤æ—¶ä¸ä¼šå¼•èµ·æ­»å¾ªç¯ï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•æ˜¯ä¸<code>lowercaseString</code>æ–¹æ³•è°ƒæ¢çš„ã€‚</p>
<p>æ­¤æ—¶æˆ‘ä»¬åœ¨<code>NSString</code>å®ä¾‹ä¸­è°ƒç”¨<code>lowercaseString</code>æ–¹æ³•ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">[<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"><span class="built_in">NSString</span> *string = <span class="string">@"Talk is cheap, Show me the code."</span>;</span><br><span class="line"><span class="built_in">NSString</span> *lowercaseString = [string lowercaseString];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>, lowercaseString);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰“å°æ•ˆæœå›¾å¦‚ä¸‹ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/2665449-fc0ce6698f16a1a5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ‰“å°æ•ˆæœå›¾"></p>
<p>é€šè¿‡æ­¤æ–¹æ¡ˆï¼Œå¼€å‘è€…å¯ä»¥ä¸ºé‚£äº›â€œå®Œå…¨ä¸çŸ¥é“å…¶å…·ä½“å®ç°çš„â€<code>ï¼ˆcompletely opaqueï¼Œâ€œå®Œå…¨ä¸é€æ˜çš„â€ï¼‰</code>é»‘ç›’æ–¹æ³•å¢åŠ æ—¥å¿—è®°å½•åŠŸèƒ½ï¼Œè¿™éå¸¸æœ‰åŠ©äºç¨‹åºè°ƒè¯•ã€‚ç„¶è€Œï¼Œæ­¤åšæ³•åªåœ¨è°ƒè¯•ç¨‹åºæ—¶æœ‰ç”¨ã€‚å¾ˆå°‘æœ‰äººåœ¨è°ƒè¯•ç¨‹åºä¹‹å¤–çš„åœºåˆç”¨ä¸Šè¿°â€œæ–¹æ³•è°ƒé…æŠ€æœ¯â€æ¥æ°¸ä¹…æ”¹åŠ¨æŸä¸ªç±»çš„åŠŸèƒ½ã€‚ä¸èƒ½ä»…ä»…å› ä¸º<code>OC</code>è¯­è¨€é‡Œæœ‰è¿™ä¸ªç‰¹æ€§å°±ä¸€å®šè¦ç”¨å®ƒã€‚è‹¥æ˜¯æ»¥ç”¨ï¼Œåè€Œä¼šä»¤ä»£ç å˜å¾—ä¸æ˜“è¯»æ‡‚ä¸”éš¾äºç»´æŠ¤ã€‚</p>
<h3 id="ç¬¬-12-æ¡ï¼šç†è§£â€œç±»å¯¹è±¡â€çš„ç”¨æ„"><a href="#ç¬¬-12-æ¡ï¼šç†è§£â€œç±»å¯¹è±¡â€çš„ç”¨æ„" class="headerlink" title="ç¬¬ 12 æ¡ï¼šç†è§£â€œç±»å¯¹è±¡â€çš„ç”¨æ„"></a>ç¬¬ 12 æ¡ï¼šç†è§£â€œç±»å¯¹è±¡â€çš„ç”¨æ„</h3><p><strong>ç±»æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯<code>Class</code> ç±»å‹çš„å¯¹è±¡ï¼Œç®€ç§°â€œç±»å¯¹è±¡â€ã€‚</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">objc_class</span> *<span class="title">Class</span>;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ç±»å‹æŸ¥è¯¢æ–¹æ³•ï¼š</li>
</ul>
<p>å¯ä»¥ç”¨ç±»å‹ä¿¡æ¯æŸ¥è¯¢æ–¹æ³•æ¥æ£€è§†ç±»ç»§æ‰¿ä½“ç³»ã€‚<code>â€œisMemberOfClass:â€</code>èƒ½å¤Ÿåˆ¤æ–­å‡ºå¯¹è±¡æ˜¯å¦ä¸ºæŸä¸ªç‰¹å®šç±»çš„å®ä¾‹ï¼Œè€Œ<code>â€œisKindOfClass:â€</code>åˆ™èƒ½å¤Ÿåˆ¤æ–­å‡ºå¯¹è±¡æ˜¯å¦ä¸ºæŸç±»æˆ–å…¶æ´¾ç”Ÿç±»çš„å®ä¾‹ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableDictionary</span> *dict = [<span class="built_in">NSMutableDictionary</span> new];</span><br><span class="line">[dict isMemberOfClass:[<span class="built_in">NSDictionary</span> <span class="keyword">class</span>]]; <span class="comment">///&lt; NO</span></span><br><span class="line">[dict isMemberOfClass:[<span class="built_in">NSMutableDictionary</span> <span class="keyword">class</span>]]; <span class="comment">///&lt; YES</span></span><br><span class="line">[dict isKindOfClass:[<span class="built_in">NSDictionary</span> <span class="keyword">class</span>]]; <span class="comment">///&lt; YES</span></span><br><span class="line">[dict isKindOfClass:[<span class="built_in">NSArray</span> <span class="keyword">class</span>]]; <span class="comment">///&lt; NO</span></span><br></pre></td></tr></table></figure>
<p>æ¯”è¾ƒç±»å¯¹è±¡æ˜¯å¦ç­‰åŒçš„åŠæ³•æ¥åˆ¤æ–­ï¼Œä½¿ç”¨<code>==æ“ä½œç¬¦</code>ï¼Œè€Œä¸è¦ä½¿ç”¨æ¯”è¾ƒ<code>OC</code>å¯¹è±¡æ—¶å¸¸ç”¨çš„<code>â€œisEqual:â€</code>æ–¹æ³•ã€‚åŸå› åœ¨äºï¼Œç±»å¯¹è±¡æ˜¯<code>â€œå•ä¾‹â€ï¼ˆsingletonï¼‰</code>ï¼Œåœ¨åº”ç”¨ç¨‹åºèŒƒå›´å†…ï¼Œæ¯ä¸ªç±»çš„<code>Class</code>ä»…æœ‰ä¸€ä¸ªå®ä¾‹ã€‚</p>
<ul>
<li>è¦ç‚¹ï¼š</li>
<li>æ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘<code>Class</code> å¯¹è±¡çš„æŒ‡é’ˆï¼Œç”¨ä»¥è¡¨æ˜å…¶ç±»å‹ï¼Œè€Œè¿™äº› <code>Class</code>å¯¹è±¡åˆ™æ„æˆäº†ç±»çš„ç»§æ‰¿ä½“ç³»ã€‚</li>
<li>å¦‚æœå¯¹è±¡ç±»å‹æ— æ³•åœ¨ç¼–è¯‘æœŸç¡®å®šï¼Œé‚£ä¹ˆå°±åº”è¯¥ä½¿ç”¨ç±»å‹ä¿¡æ¯æŸ¥è¯¢æ–¹æ³•æ¥æ¢çŸ¥ã€‚</li>
<li>å°½é‡ä½¿ç”¨ç±»å‹ä¿¡æ¯æŸ¥è¯¢æ–¹æ³•æ¥ç¡®å®šå¯¹è±¡ç±»å‹ï¼Œè€Œä¸è¦ç›´æ¥æ¯”è¾ƒç±»å¯¹è±¡ï¼Œå› ä¸ºæŸäº›å¯¹è±¡å¯èƒ½å®ç°äº†æ¶ˆæ¯è½¬å‘åŠŸèƒ½ã€‚</li>
</ul>
<p><br><br></p>
<hr>
<p>ä¸‹ä¸€ç¯‡ï¼š<a href="https://www.jianshu.com/p/72b5525e82e3" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(2)</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOS å¼€å‘ -ã€Š52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(2)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOS å¼€å‘ -ã€Š52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(2)/" itemprop="url">
                  iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(2)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="æ–‡ç« å…±åˆ†ä¸ºä¸‰ç¯‡ï¼š"><a href="#æ–‡ç« å…±åˆ†ä¸ºä¸‰ç¯‡ï¼š" class="headerlink" title="æ–‡ç« å…±åˆ†ä¸ºä¸‰ç¯‡ï¼š"></a>æ–‡ç« å…±åˆ†ä¸ºä¸‰ç¯‡ï¼š</h5><p>ç¬¬ä¸€ç¯‡ï¼š<a href="https://www.jianshu.com/p/6985ec0666cb" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(1)</a><br>ç¬¬äºŒç¯‡ï¼š<a href="https://www.jianshu.com/p/72b5525e82e3" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(2)</a><br>ç¬¬ä¸‰ç¯‡ï¼š<a href="https://www.jianshu.com/p/43fb6ccea4b2" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(3)</a></p>
<p>æ¥ä¸Šç¯‡ï¼š<a href="https://www.jianshu.com/p/6985ec0666cb" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(1)</a></p>
<hr>
<h2 id="ç¬¬-3-ç« ï¼šæ¥å£ä¸-API-è®¾è®¡"><a href="#ç¬¬-3-ç« ï¼šæ¥å£ä¸-API-è®¾è®¡" class="headerlink" title="ç¬¬ 3 ç« ï¼šæ¥å£ä¸ API è®¾è®¡"></a>ç¬¬ 3 ç« ï¼šæ¥å£ä¸ API è®¾è®¡</h2><h3 id="ç¬¬-13-æ¡ï¼šç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çª"><a href="#ç¬¬-13-æ¡ï¼šç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çª" class="headerlink" title="ç¬¬ 13 æ¡ï¼šç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çª"></a>ç¬¬ 13 æ¡ï¼šç”¨å‰ç¼€é¿å…å‘½åç©ºé—´å†²çª</h3><p><code>OC</code>æ²¡æœ‰å…¶ä»–è¯­è¨€é‚£ç§å†…ç½®çš„å‘½åç©ºé—´æœºåˆ¶ã€‚å› æ­¤æˆ‘ä»¬èµ·åæ—¶è¦è®¾æ³•é¿å…æ½œåœ¨çš„å‘½åå†²çªï¼Œå¦åˆ™å¾ˆå®¹æ˜“é‡åï¼Œå¼•å‘å‘½åå†²çª<code>ï¼ˆnaming clashï¼‰</code>ã€‚é¿å…æ­¤é—®é¢˜çš„å”¯ä¸€æ–¹æ³•å°±æ˜¯å˜ç›¸å®ç°å‘½åç©ºé—´ï¼šä¸ºæ‰€æœ‰åç§°éƒ½åŠ ä¸Šé€‚å½“å‰ç¼€ã€‚æ‰€é€‰å‰ç¼€å¯ä»¥æ˜¯ä¸å…¬å¸ã€åº”ç”¨ç¨‹åºæˆ–äºŒè€…çš†æœ‰å…³è”ä¹‹åã€‚å¦å¤–ï¼Œ<code>Apple</code>å®£ç§°å…¶ä¿ç•™ä½¿ç”¨æ‰€æœ‰â€œä¸¤å­—æ¯å‰ç¼€â€ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬è¿˜æ˜¯ä¸‰ä¸ªå­—æ¯å¼€å¤´æ¯”è¾ƒå¥½ã€‚</p>
<h3 id="ç¬¬-14-æ¡ï¼šæä¾›â€œå…¨èƒ½åˆå§‹åŒ–æ–¹æ³•â€"><a href="#ç¬¬-14-æ¡ï¼šæä¾›â€œå…¨èƒ½åˆå§‹åŒ–æ–¹æ³•â€" class="headerlink" title="ç¬¬ 14 æ¡ï¼šæä¾›â€œå…¨èƒ½åˆå§‹åŒ–æ–¹æ³•â€"></a>ç¬¬ 14 æ¡ï¼šæä¾›â€œå…¨èƒ½åˆå§‹åŒ–æ–¹æ³•â€</h3><p><strong>èƒ½å¤Ÿä¸ºå¯¹è±¡æä¾›å¿…è¦ä¿¡æ¯ä»¥ä¾¿å…¶å®Œæˆå·¥ä½œçš„åˆå§‹åŒ–æ–¹æ³•å«åšâ€œå…¨èƒ½åˆå§‹åŒ–æ–¹æ³•â€ã€‚</strong></p>
<p>å¦‚æœåˆ›å»ºç±»å®ä¾‹çš„æ–¹å¼ä¸æ­¢ä¸€ç§ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±ä¼šæœ‰å¤šä¸ªåˆå§‹åŒ–æ–¹æ³•ã€‚è¿™å½“ç„¶å¾ˆå¥½ï¼Œä¸è¿‡ä»ç„¶è¦åœ¨å…¶ä¸­é€‰å®šä¸€ä¸ªä½œä¸ºå…¨èƒ½åˆå§‹åŒ–æ–¹æ³•ï¼Œä»¤å…¶å®ƒåˆå§‹åŒ–æ–¹æ³•éƒ½æ¥è°ƒç”¨å®ƒã€‚è¿™æ ·çš„è¯ï¼Œå½“åº•å±‚æ•°æ®å­˜å‚¨æœºåˆ¶æ”¹å˜æ—¶ï¼Œåªéœ€ä¿®æ”¹æ­¤æ–¹æ³•çš„ä»£ç å°±å¥½ï¼Œæ— é¡»æ”¹åŠ¨å…¶ä»–åˆå§‹åŒ–æ–¹æ³•ã€‚</p>
<p><code>NSDate</code>å°±æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œå…¶åˆå§‹åŒ–æ–¹æ³•å¦‚ä¸‹ï¼š<br><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">- (instance<span class="keyword">type</span>)init <span class="type">NS_DESIGNATED_INITIALIZER</span>;</span><br><span class="line">- (instance<span class="keyword">type</span>)initWithTimeIntervalSinceReferenceDate:(<span class="type">NSTimeInterval</span>)ti <span class="type">NS_DESIGNATED_INITIALIZER</span>;</span><br><span class="line">- (nullable instance<span class="keyword">type</span>)initWithCoder:(<span class="type">NSCoder</span> *)aDecoder <span class="type">NS_DESIGNATED_INITIALIZER</span>;</span><br><span class="line">- (instance<span class="keyword">type</span>)initWithTimeIntervalSinceNow:(<span class="type">NSTimeInterval</span>)secs;</span><br><span class="line">- (instance<span class="keyword">type</span>)initWithTimeIntervalSince1970:(<span class="type">NSTimeInterval</span>)secs;</span><br><span class="line">- (instance<span class="keyword">type</span>)initWithTimeInterval:(<span class="type">NSTimeInterval</span>)secsToBeAdded sinceDate:(<span class="type">NSDate</span> *)date;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨ä¸Šé¢å‡ ä¸ªåˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œ<code>initWithTimeIntervalSinceReferenceDate:</code>æ˜¯å…¨èƒ½åˆå§‹åŒ–æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶ä½™çš„åˆå§‹åŒ–æ–¹æ³•éƒ½è¦è°ƒç”¨å®ƒã€‚åªæœ‰åœ¨å…¨èƒ½åˆå§‹åŒ–æ–¹æ³•ä¸­ï¼Œæ‰ä¼šå­˜å‚¨å†…éƒ¨æ•°æ®ã€‚</p>
<h3 id="ç¬¬-15-æ¡ï¼šå®ç°-description-æ–¹æ³•"><a href="#ç¬¬-15-æ¡ï¼šå®ç°-description-æ–¹æ³•" class="headerlink" title="ç¬¬ 15 æ¡ï¼šå®ç° description æ–¹æ³•"></a>ç¬¬ 15 æ¡ï¼šå®ç° description æ–¹æ³•</h3><p>è°ƒè¯•ç¨‹åºæ—¶ï¼Œç»å¸¸éœ€è¦æ‰“å°å¹¶æŸ¥çœ‹å¯¹è±¡ä¿¡æ¯ã€‚ä¸€ç§åŠæ³•æ˜¯ç¼–å†™ä»£ç æŠŠå¯¹è±¡çš„å…¨éƒ¨å±æ€§éƒ½è¾“å‡ºåˆ°æ—¥å¿—ä¸­ã€‚ä¸è¿‡æœ€å¸¸ç”¨çš„åšæ³•è¿˜æ˜¯åƒä¸‹é¢è¿™æ ·ï¼š</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NSLog</span>(@<span class="string">"object = %@"</span>, <span class="class"><span class="keyword">object</span>)</span>;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ç›´æ¥æ‰“å°æˆ‘ä»¬çš„å¯¹è±¡å®ƒä¼šè¾“å‡º <code>&lt;Object:0x*****&gt;</code>ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬é‡å†™<code>description</code>çš„æ—¶å€™æ‰å¯èƒ½æ»¡è¶³æˆ‘ä»¬è°ƒè¯•çš„éœ€æ±‚ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSString</span> *)description &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@ : %@, %@"</span>, [<span class="keyword">self</span> <span class="keyword">class</span>], <span class="keyword">self</span>, <span class="string">@"ä½ éœ€è¦çš„å±æ€§"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‹¥æƒ³åœ¨è°ƒè¯•æ—¶æ‰“å°å‡ºæ›´è¯¦å°½çš„å¯¹è±¡æè¿°ä¿¡æ¯ï¼Œåˆ™åº”å®ç° <code>- (NSString *)debugDescription;</code>æ–¹æ³•ï¼Œå†ä¸<code>po</code>å‘½ä»¤ä¸€èµ·ä½¿ç”¨é…åˆè°ƒè¯•ã€‚</p>
<h3 id="ç¬¬-16-æ¡ï¼šå°½é‡ä½¿ç”¨ä¸å¯å˜å¯¹è±¡"><a href="#ç¬¬-16-æ¡ï¼šå°½é‡ä½¿ç”¨ä¸å¯å˜å¯¹è±¡" class="headerlink" title="ç¬¬ 16 æ¡ï¼šå°½é‡ä½¿ç”¨ä¸å¯å˜å¯¹è±¡"></a>ç¬¬ 16 æ¡ï¼šå°½é‡ä½¿ç”¨ä¸å¯å˜å¯¹è±¡</h3><p>è¿™æ¡ä¸»è¦è®²çš„æ˜¯ï¼Œå°½é‡ä½¿ç”¨ä¸å¯å˜çš„å¯¹è±¡ã€‚ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬è®¾è®¡å‡ºæ¥ä¸€ä¸ªç±»ï¼Œå…¶å®æ˜¯ä¸å¸Œæœ›åˆ«äººæ›´æ”¹å…¶å±æ€§çš„ï¼Œå› æ­¤åº”è¯¥å°½é‡æŠŠå¯¹å¤–å…¬å¸ƒå‡ºæ¥çš„å±æ€§è®¾ç½®ä¸ºåªè¯»ï¼Œè€Œä¸”åªåœ¨ç¡®æœ‰å¿…è¦æ—¶æ‰å°†å±æ€§å¯¹å¤–å…¬å¸ƒã€‚</p>
<h3 id="ç¬¬-17-æ¡ï¼šä½¿ç”¨æ¸…æ™°è€Œåè°ƒçš„å‘½åæ–¹å¼"><a href="#ç¬¬-17-æ¡ï¼šä½¿ç”¨æ¸…æ™°è€Œåè°ƒçš„å‘½åæ–¹å¼" class="headerlink" title="ç¬¬ 17 æ¡ï¼šä½¿ç”¨æ¸…æ™°è€Œåè°ƒçš„å‘½åæ–¹å¼"></a>ç¬¬ 17 æ¡ï¼šä½¿ç”¨æ¸…æ™°è€Œåè°ƒçš„å‘½åæ–¹å¼</h3><p>ç±»ã€æ–¹æ³•åŠå˜é‡çš„å‘½åæ˜¯ <code>OC</code> ç¼–ç¨‹çš„é‡è¦ç¯èŠ‚ã€‚è¿™ç‚¹å°±ä¸ç”¨å¤šè¯´äº†ï¼Œå…·ä½“å¯ä»¥çœ‹ä¸‹å®˜æ–¹çš„å‘½åè§„åˆ™ï¼š<a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/CodingGuidelines/CodingGuidelines.html#//apple_ref/doc/uid/10000146-SW1" target="_blank" rel="noopener">Coding Guidelines for Cocoa</a></p>
<h3 id="ç¬¬-18-æ¡ï¼šä¸ºç§æœ‰æ–¹æ³•ååŠ å‰ç¼€"><a href="#ç¬¬-18-æ¡ï¼šä¸ºç§æœ‰æ–¹æ³•ååŠ å‰ç¼€" class="headerlink" title="ç¬¬ 18 æ¡ï¼šä¸ºç§æœ‰æ–¹æ³•ååŠ å‰ç¼€"></a>ç¬¬ 18 æ¡ï¼šä¸ºç§æœ‰æ–¹æ³•ååŠ å‰ç¼€</h3><p>è¿™æ ·æœ‰åŠ©äºè°ƒè¯•ï¼Œä¹Ÿå¾ˆå®¹æ˜“è®©æˆ‘ä»¬å°†å…¬å…±æ–¹æ³•å’Œç§æœ‰æ–¹æ³•åŒºåˆ†å¼€ï¼Œå¦å¤–ä¾¿äºä¿®æ”¹æ–¹æ³•åã€‚ä½†æ˜¯è¦æ³¨æ„ä¸è¦ä½†ç”¨ä¸€ä¸ªä¸‹åˆ’çº¿åšç§æœ‰æ–¹æ³•çš„å‰ç¼€ï¼Œå› ä¸ºè¿™ç§åšæ³•æ˜¯é¢„ç•™ç»™è‹¹æœå…¬å¸çš„ã€‚</p>
<h3 id="ç¬¬-19-æ¡ï¼šç†è§£-Objective-C-é”™è¯¯æ¨¡å‹"><a href="#ç¬¬-19-æ¡ï¼šç†è§£-Objective-C-é”™è¯¯æ¨¡å‹" class="headerlink" title="ç¬¬ 19 æ¡ï¼šç†è§£ Objective-C é”™è¯¯æ¨¡å‹"></a>ç¬¬ 19 æ¡ï¼šç†è§£ Objective-C é”™è¯¯æ¨¡å‹</h3><p>å½“å‰å¾ˆå¤šç§ç¼–ç¨‹è¯­è¨€éƒ½æœ‰å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œ<code>OC</code>ä¹Ÿä¸ä¾‹å¤–ã€‚åœ¨<code>OC</code>ä¸­å¼‚å¸¸åªç”¨äºå¤„ç†<code>ä¸¥é‡é”™è¯¯(fatal error)</code>ï¼Œå‡ºç°<code>â€œä¸é‚£ä¹ˆä¸¥é‡çš„é”™è¯¯(nonfatal error)â€</code>æ—¶ï¼ŒOCè¯­è¨€çš„å¤„ç†æ–¹å¼æ˜¯ï¼šä»¤æ–¹æ³•è¿”å› <code>nil/0</code>ï¼Œæˆ–è€…ä½¿ç”¨<code>NSError</code>ï¼Œä»¥è¡¨æ˜æœ‰é”™è¯¯å‘ç”Ÿã€‚</p>
<h3 id="ç¬¬-20-æ¡ï¼šç†è§£-NSCopying-åè®®"><a href="#ç¬¬-20-æ¡ï¼šç†è§£-NSCopying-åè®®" class="headerlink" title="ç¬¬ 20 æ¡ï¼šç†è§£ NSCopying åè®®"></a>ç¬¬ 20 æ¡ï¼šç†è§£ NSCopying åè®®</h3><p>åœ¨  <code>OC</code> ä¸­ï¼Œæ‹·è´å¯¹è±¡é€šè¿‡<code>copy</code>æ–¹æ³•å®Œæˆï¼Œå¦‚æœæƒ³ä»¤è‡ªå·±çš„ç±»æ”¯æŒæ‹·è´æ“ä½œï¼Œé‚£å°±è¦å®ç°<code>NSCopying</code>åè®®ï¼Œè¯¥åè®®åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼š<br><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- <span class="params">(id)</span>copyWithZone:<span class="params">(NSZone*)</span>zone</span><br></pre></td></tr></table></figure></p>
<p>å½“ç„¶å¦‚æœè¦æ±‚è¿”å›å¯¹è±¡æ˜¯å¯å˜çš„ç±»å‹å°±è¦ç”¨åˆ°<code>NSMutableCopying</code>åè®®ï¼Œç›¸åº”æ–¹æ³•ï¼š</p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- <span class="params">(id)</span>mutableCopyWithZone:<span class="params">(NSZone *)</span>zone</span><br></pre></td></tr></table></figure>
<ul>
<li>åœ¨æ‹·è´å¯¹è±¡æ—¶ï¼Œéœ€è¦æ³¨æ„æ‹·è´æ‰§è¡Œçš„æ˜¯æ·±æ‹·è´è¿˜æ˜¯æµ…æ‹·è´ã€‚</li>
<li>æ·±æ‹·è´çš„æ„æ€å°±æ˜¯ï¼šåœ¨æ‹·è´å¯¹è±¡è‡ªèº«æ—¶ï¼Œä¼šå°†å¯¹è±¡çš„åº•å±‚æ•°æ®ä¹Ÿè¿›è¡Œå¤åˆ¶ã€‚</li>
<li><p>æµ…æ‹·è´æ˜¯åªæ‹·è´å®¹å™¨å¯¹è±¡æœ¬èº«ï¼Œè€Œä¸æ‹·è´å…¶ä¸­æ•°æ®ã€‚<code>Foundation</code> æ¡†æ¶ä¸­æ‰€æœ‰çš„<code>collection</code> ç±»åœ¨é»˜è®¤æƒ…å†µä¸‹éƒ½æ‰§è¡Œæµ…æ‹·è´ã€‚</p>
</li>
<li><p>è¦ç‚¹ï¼š</p>
</li>
<li>è‹¥æƒ³ä»¤è‡ªå·±æ‰€å†™çš„å¯¹è±¡å…·æœ‰æ‹·è´åŠŸèƒ½ï¼Œåˆ™éœ€å®ç°<code>NSCopying</code>åè®®ã€‚</li>
<li>å¦‚æœè‡ªå®šä¹‰çš„å¯¹è±¡åˆ†ä¸ºå¯å˜ç‰ˆæœ¬ä¸ä¸å¯å˜ç‰ˆæœ¬ï¼Œé‚£ä¹ˆå°±è¦åŒæ—¶å®ç°<code>NSCopying</code>ä¸<code>NSMutableCopying</code>åè®®ã€‚</li>
<li>å¤åˆ¶å¯¹è±¡æ—¶éœ€å†³å®šé‡‡ç”¨æµ…æ‹·è´è¿˜æ˜¯æ·±æ‹·è´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åº”è¯¥å°½é‡æ‰§è¡Œæµ…æ‹·è´ã€‚</li>
<li>å¦‚æœä½ æ‰€å†™çš„å¯¹è±¡éœ€è¦æ·±æ‹·è´ï¼Œé‚£ä¹ˆå¯è€ƒè™‘æ–°å¢ä¸€ä¸ªä¸“é—¨æ‰§è¡Œæ·±æ‹·è´çš„æ–¹æ³•ã€‚</li>
</ul>
<h2 id="ç¬¬-4-ç« ï¼šåè®®ä¸åˆ†ç±»"><a href="#ç¬¬-4-ç« ï¼šåè®®ä¸åˆ†ç±»" class="headerlink" title="ç¬¬ 4 ç« ï¼šåè®®ä¸åˆ†ç±»"></a>ç¬¬ 4 ç« ï¼šåè®®ä¸åˆ†ç±»</h2><h3 id="ç¬¬-21-æ¡ï¼šé€šè¿‡å§”æ‰˜ä¸æ•°æ®æºåè®®è¿›è¡Œå¯¹è±¡é—´é€šä¿¡"><a href="#ç¬¬-21-æ¡ï¼šé€šè¿‡å§”æ‰˜ä¸æ•°æ®æºåè®®è¿›è¡Œå¯¹è±¡é—´é€šä¿¡" class="headerlink" title="ç¬¬ 21 æ¡ï¼šé€šè¿‡å§”æ‰˜ä¸æ•°æ®æºåè®®è¿›è¡Œå¯¹è±¡é—´é€šä¿¡"></a>ç¬¬ 21 æ¡ï¼šé€šè¿‡å§”æ‰˜ä¸æ•°æ®æºåè®®è¿›è¡Œå¯¹è±¡é—´é€šä¿¡</h3><p>ç®€å•æ¥è¯´ï¼Œè¿™æ¡è®²çš„æ˜¯ä½¿ç”¨<code>delegate</code>ï¼Œ<code>protocal</code>è¿›è¡Œæ•°æ®ä¼ é€’ã€‚æ­¤æ¨¡å¼å¯å°†æ•°æ®ä¸ä¸šåŠ¡é€»è¾‘è§£è€¦ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼šä¿®é¥°<code>delegate</code>çš„å±æ€§ä¸€å®šè¦å®šä¹‰æˆ<code>weak</code>ï¼Œè€Œé<code>strong</code>ï¼Œå› ä¸ºä¸¤è€…ä¹‹é—´å¿…é¡»ä¸ºâ€œéæ‹¥æœ‰å…³ç³»â€ã€‚</p>
<h3 id="ç¬¬-22-æ¡ï¼šå°†ç±»çš„å®ç°ä»£ç åˆ†æ•£åˆ°ä¾¿äºç®¡ç†çš„æ•°ä¸ªåˆ†ç±»ä¹‹ä¸­"><a href="#ç¬¬-22-æ¡ï¼šå°†ç±»çš„å®ç°ä»£ç åˆ†æ•£åˆ°ä¾¿äºç®¡ç†çš„æ•°ä¸ªåˆ†ç±»ä¹‹ä¸­" class="headerlink" title="ç¬¬ 22 æ¡ï¼šå°†ç±»çš„å®ç°ä»£ç åˆ†æ•£åˆ°ä¾¿äºç®¡ç†çš„æ•°ä¸ªåˆ†ç±»ä¹‹ä¸­"></a>ç¬¬ 22 æ¡ï¼šå°†ç±»çš„å®ç°ä»£ç åˆ†æ•£åˆ°ä¾¿äºç®¡ç†çš„æ•°ä¸ªåˆ†ç±»ä¹‹ä¸­</h3><p>è¿™æ¡è®²çš„æ˜¯ä½¿ç”¨åˆ†ç±»ã€‚ç±»ä¸­ç»å¸¸å®¹æ˜“å¡«æ»¡å„ç§æ–¹æ³•ï¼Œè€Œè¿™äº›æ–¹æ³•çš„ä»£ç åˆ™å…¨éƒ¨å †åœ¨ä¸€ä¸ªå·¨å¤§çš„å®ç°æ–‡ä»¶é‡Œã€‚æœ‰æ—¶è¿™ä¹ˆåšæ˜¯åˆç†çš„ï¼Œå› ä¸ºå³ä¾¿é€šè¿‡é‡æ„æŠŠè¿™ä¸ªç±»æ‰“æ•£ï¼Œæ•ˆæœä¹Ÿä¸ä¼šæ›´å¥½ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡<code>OC</code>çš„â€œåˆ†ç±»â€æœºåˆ¶ï¼Œå°†ç±»ä»£ç æŒ‰é€»è¾‘åˆ’å…¥å‡ ä¸ªåˆ†åŒºä¸­ï¼Œè¿™å¯¹å¼€å‘ä¸è°ƒè¯•éƒ½æœ‰å¥½å¤„ã€‚</p>
<h3 id="ç¬¬-23-æ¡ï¼šæ€»æ˜¯ä¸ºç¬¬ä¸‰æ–¹ç±»çš„åˆ†ç±»åç§°åŠ å‰ç¼€"><a href="#ç¬¬-23-æ¡ï¼šæ€»æ˜¯ä¸ºç¬¬ä¸‰æ–¹ç±»çš„åˆ†ç±»åç§°åŠ å‰ç¼€" class="headerlink" title="ç¬¬ 23 æ¡ï¼šæ€»æ˜¯ä¸ºç¬¬ä¸‰æ–¹ç±»çš„åˆ†ç±»åç§°åŠ å‰ç¼€"></a>ç¬¬ 23 æ¡ï¼šæ€»æ˜¯ä¸ºç¬¬ä¸‰æ–¹ç±»çš„åˆ†ç±»åç§°åŠ å‰ç¼€</h3><p>è¿™æ¡ä¹Ÿå¾ˆå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯ç»™åˆ†ç±»ååŠ å‰ç¼€ï¼Œæ¯”å¦‚<code>NSString</code>åˆ†ç±»ï¼Œ</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@interface</span> NSString (HTTP)</span><br><span class="line"></span><br><span class="line"><span class="variable">@end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ å‰ç¼€</span></span><br><span class="line"><span class="variable">@interface</span> NSString (ABC_HTTP)</span><br><span class="line"></span><br><span class="line"><span class="variable">@end</span></span><br></pre></td></tr></table></figure>
<p>ç»™åˆ†ç±»åŠ ä¸Šå‰ç¼€ï¼Œæ˜“äºåŒºåˆ†ï¼Œå¹¶ä¸”èƒ½é¿å…ä¸å¿…è¦çš„é”™è¯¯ã€‚</p>
<h3 id="ç¬¬-24-æ¡ï¼šå‹¿åœ¨åˆ†ç±»ä¸­å£°æ˜å±æ€§"><a href="#ç¬¬-24-æ¡ï¼šå‹¿åœ¨åˆ†ç±»ä¸­å£°æ˜å±æ€§" class="headerlink" title="ç¬¬ 24 æ¡ï¼šå‹¿åœ¨åˆ†ç±»ä¸­å£°æ˜å±æ€§"></a>ç¬¬ 24 æ¡ï¼šå‹¿åœ¨åˆ†ç±»ä¸­å£°æ˜å±æ€§</h3><p>é™¤äº† <code>Class-continuation</code>åˆ†ç±»ï¼Œå…¶ä»–åˆ†ç±»æ— æ³•å‘ç±»ä¸­æ–°å¢å®ä¾‹å˜é‡ï¼Œè¿™æ ·å°±æ— æ³•æŠŠå®ç°å±æ€§æ‰€éœ€è¦çš„å®ä¾‹å˜é‡åˆæˆå‡ºæ¥ï¼Œå³æ— æ³•ç”Ÿæˆå®ä¾‹å˜é‡ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/2665449-83e1a4ac405c62c7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h3 id="ç¬¬-25-æ¡ï¼šä½¿ç”¨-â€œClass-continuationåˆ†ç±»â€-éšè—å®ç°ç»†èŠ‚"><a href="#ç¬¬-25-æ¡ï¼šä½¿ç”¨-â€œClass-continuationåˆ†ç±»â€-éšè—å®ç°ç»†èŠ‚" class="headerlink" title="ç¬¬ 25 æ¡ï¼šä½¿ç”¨ â€œClass-continuationåˆ†ç±»â€ éšè—å®ç°ç»†èŠ‚"></a>ç¬¬ 25 æ¡ï¼šä½¿ç”¨ â€œClass-continuationåˆ†ç±»â€ éšè—å®ç°ç»†èŠ‚</h3><p><code>Class-continuation</code>åˆ†ç±»å’Œæ™®é€šçš„åˆ†ç±»ä¸åŒï¼Œå®ƒå¿…é¡»å®šä¹‰åœ¨å…¶æ‰€æ¥ç»­çš„é‚£ä¸ªç±»çš„å®ç°æ–‡ä»¶é‡Œã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"NNTestClass.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NNTestClass</span> ()</span></span><br><span class="line"><span class="comment">// å†™ä½ æ‰€éœ€è¦çš„ç§æœ‰å˜é‡æˆ–æ–¹æ³•</span></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NNTestClass</span></span></span><br><span class="line"><span class="comment">// å®ç°</span></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ¡å’Œä¹‹å‰çš„æè¿°ä¹Ÿæœ‰ç‚¹ç±»ä¼¼ï¼Œæ€»ä¹‹å°±æ˜¯åœ¨è¯´å°½é‡ä¸è¦åœ¨å…¬å…±æ¥å£ä¸­æš´éœ²å¤ªå¤šå†…å®¹ï¼Œéšè—å…¶å®ç°ç»†èŠ‚ã€‚</p>
<h3 id="ç¬¬-26-æ¡ï¼šé€šè¿‡åè®®æä¾›åŒ¿åå¯¹è±¡"><a href="#ç¬¬-26-æ¡ï¼šé€šè¿‡åè®®æä¾›åŒ¿åå¯¹è±¡" class="headerlink" title="ç¬¬ 26 æ¡ï¼šé€šè¿‡åè®®æä¾›åŒ¿åå¯¹è±¡"></a>ç¬¬ 26 æ¡ï¼šé€šè¿‡åè®®æä¾›åŒ¿åå¯¹è±¡</h3><ul>
<li>åè®®å¯ä»¥åœ¨æŸç§ç¨‹åº¦ä¸Šæä¾›åŒ¿åå¯¹è±¡ï¼Œä¾‹å¦‚<code>id&lt;someProtocal&gt; object</code>ã€‚<code>object</code>å¯¹è±¡çš„ç±»å‹ä¸é™ï¼Œåªè¦èƒ½éµä»è¿™ä¸ªåè®®å³å¯ï¼Œåœ¨è¿™ä¸ªåè®®é‡Œé¢å®šä¹‰äº†è¿™ä¸ªå¯¹è±¡æ‰€åº”è¯¥å®ç°çš„æ–¹æ³•ã€‚</li>
<li>ä½¿ç”¨åŒ¿åå¯¹è±¡æ¥éšè—ç±»å‹åç§°ï¼ˆæˆ–ç±»åï¼‰ã€‚</li>
<li>å¦‚æœå…·ä½“ç±»å‹ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯å¯¹è±¡èƒ½å¦å¤„ç†å¥½ä¸€äº›ç‰¹å®šçš„æ–¹æ³•ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨è¿™ç§åè®®åŒ¿åå¯¹è±¡æ¥å®Œæˆã€‚</li>
</ul>
<h2 id="ç¬¬-5-ç« ï¼šå†…å­˜ç®¡ç†"><a href="#ç¬¬-5-ç« ï¼šå†…å­˜ç®¡ç†" class="headerlink" title="ç¬¬ 5 ç« ï¼šå†…å­˜ç®¡ç†"></a>ç¬¬ 5 ç« ï¼šå†…å­˜ç®¡ç†</h2><h3 id="ç¬¬-27-æ¡ï¼šç†è§£å¼•ç”¨è®¡æ•°"><a href="#ç¬¬-27-æ¡ï¼šç†è§£å¼•ç”¨è®¡æ•°" class="headerlink" title="ç¬¬ 27 æ¡ï¼šç†è§£å¼•ç”¨è®¡æ•°"></a>ç¬¬ 27 æ¡ï¼šç†è§£å¼•ç”¨è®¡æ•°</h3><p><code>OC</code> ä½¿ç”¨å¼•ç”¨è®¡æ•°å™¨æ¥ç®¡ç†å†…å­˜ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸ªå¯ä»¥é€’å¢æˆ–é€’å‡çš„è®¡æ•°å™¨ã€‚å¯¹è±¡åˆ›å»ºå¥½ä¹‹åï¼Œå…¶ä¿ç•™è®¡æ•°è‡³å°‘ä¸º<code>1</code>ï¼Œè‹¥ä¿ç•™è®¡æ•°ä¸ºæ­£ï¼Œåˆ™å¯¹è±¡ç»§ç»­å­˜æ´»ï¼Œå½“ä¿ç•™è®¡æ•°é™ä¸º<code>0</code>æ—¶ï¼Œå¯¹è±¡è¢«é”€æ¯ã€‚<br>åœ¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå…¶ä½™å¯¹è±¡é€šè¿‡å¼•ç”¨æ¥ä¿ç•™æˆ–é‡Šæ”¾æ­¤å¯¹è±¡ã€‚ä¿ç•™æˆ–é‡Šæ”¾æ“ä½œåˆ†åˆ«ä¼šé€’å¢æˆ–é€’å‡ä¿ç•™è®¡æ•°ã€‚</p>
<p>æ³¨æ„<code>retain</code>,<code>release</code>,<code>autorelease</code>,è¿™ä¸‰ä¸ªæ–¹æ³•æ“ä½œè®¡æ•°å™¨ã€‚</p>
<ul>
<li><code>retain</code>é€’å¢ä¿ç•™è®¡æ•°ã€‚</li>
<li><code>release</code>é€’å‡ä¿ç•™è®¡æ•°ã€‚</li>
<li><code>autorelease</code>å¾…ç¨åæ¸…ç†â€œè‡ªåŠ¨é‡Šæ”¾æ± â€æ—¶ï¼Œå†é€’å‡ä¿ç•™è®¡æ•°ã€‚</li>
</ul>
<h3 id="ç¬¬-28-æ¡ï¼šä»¥-ARC-ç®€åŒ–å¼•ç”¨è®¡æ•°"><a href="#ç¬¬-28-æ¡ï¼šä»¥-ARC-ç®€åŒ–å¼•ç”¨è®¡æ•°" class="headerlink" title="ç¬¬ 28 æ¡ï¼šä»¥ ARC ç®€åŒ–å¼•ç”¨è®¡æ•°"></a>ç¬¬ 28 æ¡ï¼šä»¥ ARC ç®€åŒ–å¼•ç”¨è®¡æ•°</h3><p><code>ARC</code>ï¼Œå³è‡ªåŠ¨ç®¡ç†è®¡æ•°å™¨ï¼Œç†è§£èµ·æ¥å¾ˆå®¹æ˜“ã€‚<br><code>ARC</code>ä¼šè‡ªåŠ¨æ‰§è¡Œ<code>retain</code>,<code>release</code>,<code>autorelease</code>ç­‰æ“ä½œï¼Œæ‰€ä»¥ç›´æ¥åœ¨<code>ARC</code>ä¸­è°ƒç”¨è¿™äº›å†…å­˜ç®¡ç†æ–¹æ³•æ˜¯éæ³•çš„ã€‚å…·ä½“æ¥è¯´ï¼Œ<code>ARC</code>ä¸èƒ½è°ƒç”¨ä»¥ä¸‹æ–¹æ³•:</p>
<ul>
<li>retain</li>
<li>release</li>
<li>autorelease</li>
<li>dealloc</li>
</ul>
<p>åœ¨<code>ARC</code>ä¸­ï¼Œå˜é‡çš„å†…å­˜ç®¡ç†è¯­ä¹‰å¯ä»¥é€šè¿‡ä¿®é¥°ç¬¦æŒ‡æ˜ï¼Œè€ŒåŸæ¥åˆ™éœ€æ‰‹å·¥æ‰§è¡Œâ€ä¿ç•™â€œåŠé‡Šæ”¾æ“ä½œ;(<code>__strong</code>,<code>__weak</code>,ä¸€ä¸ªä¿ç•™å€¼ï¼Œä¸€ä¸ªä¸ä¿ç•™å€¼)ã€‚<br>æ³¨æ„çš„æ˜¯<code>ARC</code>åªè´Ÿè´£ç®¡ç†<code>OC</code>å¯¹è±¡çš„å†…å­˜ã€‚æ³¨æ„ï¼š<code>CoreFoundation</code>å¯¹è±¡ä¸å½’<code>ARC</code>ç®¡ç†ï¼Œå¿…é¡»é€‚æ—¶è°ƒç”¨<code>CFRetain/CFRelease</code>ã€‚</p>
<h3 id="ç¬¬-29-æ¡ï¼šåœ¨-dealloc-æ–¹æ³•ä¸­åªé‡Šæ”¾å¼•ç”¨å¹¶è§£é™¤ç›‘å¬"><a href="#ç¬¬-29-æ¡ï¼šåœ¨-dealloc-æ–¹æ³•ä¸­åªé‡Šæ”¾å¼•ç”¨å¹¶è§£é™¤ç›‘å¬" class="headerlink" title="ç¬¬ 29 æ¡ï¼šåœ¨ dealloc æ–¹æ³•ä¸­åªé‡Šæ”¾å¼•ç”¨å¹¶è§£é™¤ç›‘å¬"></a>ç¬¬ 29 æ¡ï¼šåœ¨ dealloc æ–¹æ³•ä¸­åªé‡Šæ”¾å¼•ç”¨å¹¶è§£é™¤ç›‘å¬</h3><p>ä¸è¦åœ¨<code>delloc</code>æ–¹æ³•ä¸­è°ƒç”¨å…¶å®ƒæ–¹æ³•ï¼Œå°¤å…¶æ˜¯éœ€è¦å¼‚æ­¥æ‰§è¡ŒæŸäº›ä»»åŠ¡åˆè¦å›è°ƒçš„æ–¹æ³•ï¼Œè¿™æ ·æ˜¯å¾ˆå±é™©çš„è¡Œä¸ºï¼Œå¾ˆå¯èƒ½å¼‚æ­¥æ‰§è¡Œå®Œå›è°ƒçš„æ—¶å€™è¯¥å¯¹è±¡å·²ç»è¢«é”€æ¯äº†ï¼Œ<code>crash</code>äº†ã€‚</p>
<p>åœ¨<code>delloc</code>æ–¹æ³•é‡Œï¼Œåº”è¯¥åšçš„äº‹æƒ…å°±æ˜¯é‡Šæ”¾æŒ‡å‘å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶å–æ¶ˆåŸæ¥è®¢é˜…çš„é”®å€¼è§‚æµ‹ï¼ˆ<code>KVO</code>ï¼‰æˆ–<code>NSNotificationCenter</code>ç­‰é€šçŸ¥ï¼Œä¸è¦åšå…¶å®ƒäº‹æƒ…ã€‚</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">dealloc</span> &#123;</span><br><span class="line"><span class="selector-attr">[[NSNotificationCenter defaultCenter]</span> <span class="selector-tag">removeObserver</span><span class="selector-pseudo">:self</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ç¬¬-30-æ¡ï¼šç¼–å†™-â€œå¼‚å¸¸å®‰å…¨ä»£ç â€-æ—¶ç•™æ„å†…å­˜ç®¡ç†é—®é¢˜"><a href="#ç¬¬-30-æ¡ï¼šç¼–å†™-â€œå¼‚å¸¸å®‰å…¨ä»£ç â€-æ—¶ç•™æ„å†…å­˜ç®¡ç†é—®é¢˜" class="headerlink" title="ç¬¬ 30 æ¡ï¼šç¼–å†™ â€œå¼‚å¸¸å®‰å…¨ä»£ç â€ æ—¶ç•™æ„å†…å­˜ç®¡ç†é—®é¢˜"></a>ç¬¬ 30 æ¡ï¼šç¼–å†™ â€œå¼‚å¸¸å®‰å…¨ä»£ç â€ æ—¶ç•™æ„å†…å­˜ç®¡ç†é—®é¢˜</h3><p>è¿™æ¡ä¹Ÿå’Œä¸Šé¢è¯´è¿‡çš„ç±»ä¼¼ï¼Œæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li><p>æ•è·å¼‚å¸¸æ—¶ï¼Œä¸€å®šè¦æ³¨æ„å°†<code>try</code>å—å†…æ‰€åˆ›ç«‹çš„å¯¹è±¡æ¸…ç†å¹²å‡€ã€‚</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@try</span> &#123; <span class="comment">// å¯èƒ½ä¼šå‡ºç°å´©æºƒçš„ä»£ç </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">@catch</span> (NSException *exception) &#123; <span class="comment">// æ•è·åˆ°çš„å¼‚å¸¸ exception</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">@finally</span> &#123; <span class="comment">// ç»“æœå¤„ç†,ä¹Ÿå¯ä»¥å»æ‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>ARC</code> ä¸ç”Ÿæˆå®‰å…¨å¤„ç†å¼‚å¸¸æ‰€éœ€çš„æ¸…ç†ä»£ç ã€‚å¼€å¯ç¼–è¯‘å™¨æ ‡å¿—åï¼Œå¯ç”Ÿæˆè¿™ç§ä»£ç ï¼Œä¸è¿‡ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºå˜å¤§ï¼Œè€Œä¸”ä¼šé™ä½è¿è¡Œæ•ˆç‡ã€‚</p>
</li>
</ul>
<h3 id="ç¬¬-31-æ¡ï¼šä»¥å¼±å¼•ç”¨é¿å…ä¿ç•™ç¯"><a href="#ç¬¬-31-æ¡ï¼šä»¥å¼±å¼•ç”¨é¿å…ä¿ç•™ç¯" class="headerlink" title="ç¬¬ 31 æ¡ï¼šä»¥å¼±å¼•ç”¨é¿å…ä¿ç•™ç¯"></a>ç¬¬ 31 æ¡ï¼šä»¥å¼±å¼•ç”¨é¿å…ä¿ç•™ç¯</h3><p>è¿™ä¸ªä¹Ÿå¾ˆå®¹æ˜“ç†è§£ï¼Œä¿ç•™ç¯å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„å¾ªç¯å¼•ç”¨ã€‚å°±æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å°†æŸäº›å¼•ç”¨è®¾ä¸º<code>weak</code>ï¼Œé¿å…å‡ºç°â€œä¿ç•™ç¯â€ã€‚</p>
<h3 id="ç¬¬-32-æ¡ï¼šä»¥â€œè‡ªåŠ¨é‡Šæ”¾æ± å—â€é™ä½å†…å­˜å³°å€¼"><a href="#ç¬¬-32-æ¡ï¼šä»¥â€œè‡ªåŠ¨é‡Šæ”¾æ± å—â€é™ä½å†…å­˜å³°å€¼" class="headerlink" title="ç¬¬ 32 æ¡ï¼šä»¥â€œè‡ªåŠ¨é‡Šæ”¾æ± å—â€é™ä½å†…å­˜å³°å€¼"></a>ç¬¬ 32 æ¡ï¼šä»¥â€œè‡ªåŠ¨é‡Šæ”¾æ± å—â€é™ä½å†…å­˜å³°å€¼</h3><p><strong>åˆç†è¿ç”¨è‡ªåŠ¨é‡Šæ”¾æ± ï¼Œå¯é™ä½åº”ç”¨ç¨‹åºçš„å†…å­˜å³°å€¼ã€‚</strong></p>
<ul>
<li>è¯·çœ‹ä¸‹é¢å‡ è¡Œä»£ç ï¼š<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> *dataArray = <span class="comment">/*****/</span>;</span><br><span class="line"><span class="built_in">NSMutableArray</span> *testArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">NSDictionary</span> *recordDic <span class="keyword">in</span> dataArray) &#123;</span><br><span class="line">TestPerson *person = [[TestPerson alloc] initWithRecord:recordDic];</span><br><span class="line">[testArray addObject:person];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>å½“å¾ªç¯é•¿åº¦æ— æ³•é¢„ä¼°ï¼Œéœ€è¦åˆ›å»ºå¾ˆå¤šå¯¹è±¡æ—¶ï¼Œä¸Šé¢ä»£ç ä¼šåˆ›é€ æ•°é‡æ— æ³•é¢„ä¼°çš„ä¸´æ—¶å¯¹è±¡ï¼Œå³å†…å­˜ä¸­ä¼šå‡ºç°å¾ˆå¤šä¸å¿…è¦çš„ä¸´æ—¶å¯¹è±¡ï¼Œä»–ä»¬æœ¬è¯¥ææ—©å›æ”¶çš„ã€‚è¿™æ—¶æˆ‘ä»¬å¯ä»¥ç»™è¿™æ®µä»£ç å¢åŠ ä¸€ä¸ªé‡Šæ”¾æ± ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> *dataArray = <span class="comment">/*****/</span>;</span><br><span class="line"><span class="built_in">NSMutableArray</span> *testArray = [<span class="built_in">NSMutableArray</span> array];</span><br><span class="line"><span class="keyword">for</span>(<span class="built_in">NSDictionary</span> *recordDic <span class="keyword">in</span> dataArray) &#123;</span><br><span class="line"><span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">TestPerson *person = [[TestPerson alloc] initWithRecord:recordDic];</span><br><span class="line">[testArray addObject:person];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ä¸´æ—¶å¯¹è±¡å°±å¯ä»¥åŠæ—¶å›æ”¶äº†ï¼Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼š<strong>ä¸è¦æŠŠ<code>for</code>å¾ªç¯æ”¾åˆ°é‡Šæ”¾æ± é‡Œé¢ï¼Œç‰¹åˆ«æ˜¯å¾ªç¯é•¿åº¦ç‰¹åˆ«é•¿çš„æ—¶å€™ã€‚</strong></p>
<h3 id="ç¬¬-33-æ¡ï¼šç”¨â€œåƒµå°¸å¯¹è±¡â€è°ƒè¯•å†…å­˜ç®¡ç†é—®é¢˜"><a href="#ç¬¬-33-æ¡ï¼šç”¨â€œåƒµå°¸å¯¹è±¡â€è°ƒè¯•å†…å­˜ç®¡ç†é—®é¢˜" class="headerlink" title="ç¬¬ 33 æ¡ï¼šç”¨â€œåƒµå°¸å¯¹è±¡â€è°ƒè¯•å†…å­˜ç®¡ç†é—®é¢˜"></a>ç¬¬ 33 æ¡ï¼šç”¨â€œåƒµå°¸å¯¹è±¡â€è°ƒè¯•å†…å­˜ç®¡ç†é—®é¢˜</h3><p><img src="http://upload-images.jianshu.io/upload_images/2665449-0d8e02375074cf0c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åƒµå°¸å¯¹è±¡"></p>
<p>å¦‚ä¸Šå›¾ï¼Œå¯åŠ¨è¿™é¡¹è°ƒè¯•åŠŸèƒ½ä¹‹åï¼Œè¿è¡ŒæœŸç³»ç»Ÿåœ¨å›æ”¶å¯¹è±¡æ—¶ï¼Œä¼šæŠŠå®ƒçš„<code>isa</code>æŒ‡é’ˆæŒ‡å‘ç‰¹æ®Šçš„åƒµå°¸ç±»ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„å›æ”¶ä»–ä»¬ã€‚ç³»ç»Ÿä¼šä¿®æ”¹å¯¹è±¡çš„<code>isa</code>æŒ‡é’ˆï¼Œä»¤å…¶æŒ‡å‘ç‰¹æ®Šçš„åƒµå°¸ç±»ï¼Œä»è€Œä½¿è¯¥å¯¹è±¡å˜ä¸ºåƒµå°¸å¯¹è±¡ã€‚åƒµå°¸ç±»èƒ½å¤Ÿå“åº”æ‰€æœ‰çš„é€‰æ‹©å­ï¼Œå“åº”æ–¹å¼ä¸ºï¼šæ‰“å°ä¸€æ¡åŒ…å«æ¶ˆæ¯å†…å®¹ä»¥åŠå…¶æ¥æ”¶è€…çš„æ¶ˆæ¯ï¼Œç„¶åç»ˆæ­¢åº”ç”¨ç¨‹åºã€‚</p>
<h3 id="ç¬¬-34-æ¡ï¼šä¸è¦ä½¿ç”¨-retainCount"><a href="#ç¬¬-34-æ¡ï¼šä¸è¦ä½¿ç”¨-retainCount" class="headerlink" title="ç¬¬ 34 æ¡ï¼šä¸è¦ä½¿ç”¨ retainCount"></a>ç¬¬ 34 æ¡ï¼šä¸è¦ä½¿ç”¨ retainCount</h3><p><code>retainCount</code>ï¼Œå¯¹è±¡çš„ä¿ç•™è®¡æ•°ï¼Œ<code>ARC</code>ç¯å¢ƒä¸‹å·²ç»æ­£å¼åºŸå¼ƒï¼Œåœ¨<code>MRC</code>ä¸‹è¿˜å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p><br><br></p>
<hr>
<p>ä¸‹ä¸€ç¯‡ï¼š<a href="https://www.jianshu.com/p/43fb6ccea4b2" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(3)</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOS å¼€å‘ä¸­å¯¼èˆªæ æ¸å˜çš„ä¸¤ç§æ–¹æ³•/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOS å¼€å‘ä¸­å¯¼èˆªæ æ¸å˜çš„ä¸¤ç§æ–¹æ³•/" itemprop="url">
                  iOS å¼€å‘ä¸­å¯¼èˆªæ æ¸å˜çš„ä¸¤ç§æ–¹æ³•
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>å¾ˆå¤š APP éƒ½æœ‰å¯¼èˆªæ é¢œè‰²æ¸å˜çš„æ•ˆæœï¼Œå„ä½å¼€å‘è€…ä¹Ÿéƒ½å…«ä»™è¿‡æµ·å„æ˜¾ç¥é€šï¼Œå„æœ‰å„çš„æ–¹æ³•ï¼Œæˆ‘è¿™é‡Œæä¾›ä¸¤ç§æ€è·¯ï¼š<strong>ç¬¬ä¸€ç§æ˜¯é€šè¿‡è®¾ç½® navigationBar çš„ alphaï¼›ç¬¬äºŒç§æ˜¯åœ¨ navigationBar ä¸ŠåŠ å…¥ä¸€ä¸ª viewï¼Œå†è®¾ç½® view çš„ alphaã€‚</strong></p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-d8f9e18b30189a3b.gif?imageMogr2/auto-orient/strip" alt="å¯¼èˆªæ æ¸å˜"><br>ä¸¤ç§æ–¹æ³•çš„æ ¸å¿ƒä»£ç ï¼š</p>
<h4 id="ä¸€ã€è®¾ç½®-navigationBar-çš„-alpha"><a href="#ä¸€ã€è®¾ç½®-navigationBar-çš„-alpha" class="headerlink" title="ä¸€ã€è®¾ç½® navigationBar çš„ alpha"></a>ä¸€ã€è®¾ç½® navigationBar çš„ alpha</h4><p>å‘ä¸Šæ»‘å’Œå‘ä¸‹æ»‘æ—¶åˆ†åˆ«å¯¹ navigationBar çš„é€æ˜åº¦è¿›è¡Œè®¾ç½®ã€‚<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - UIScrollViewDelegate</span></span><br><span class="line">- (<span class="keyword">void</span>)scrollViewDidScroll:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">self</span>.currentPostion = scrollView.contentOffset.y;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.currentPostion &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.currentPostion - <span class="keyword">self</span>.lastPosition &gt;= <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.topBool) &#123;</span><br><span class="line"><span class="keyword">self</span>.topBool = <span class="literal">NO</span>;</span><br><span class="line"><span class="keyword">self</span>.bottomBool = <span class="literal">YES</span>;</span><br><span class="line"><span class="keyword">self</span>.stopPosition = <span class="keyword">self</span>.currentPostion + <span class="number">64</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">self</span>.lastPosition = <span class="keyword">self</span>.currentPostion;</span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.alpha = <span class="number">1</span> - <span class="keyword">self</span>.currentPostion / <span class="number">500</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.bottomBool) &#123;</span><br><span class="line"><span class="keyword">self</span>.bottomBool = <span class="literal">NO</span>;</span><br><span class="line"><span class="keyword">self</span>.topBool = <span class="literal">YES</span>;</span><br><span class="line"><span class="keyword">self</span>.stopPosition = <span class="keyword">self</span>.currentPostion + <span class="number">64</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">self</span>.lastPosition = <span class="keyword">self</span>.currentPostion;</span><br><span class="line"><span class="keyword">self</span>.navigationController.navigationBar.alpha = (<span class="keyword">self</span>.stopPosition - <span class="keyword">self</span>.currentPostion) / <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œè¦è¯´æ˜ä¸€ç‚¹ï¼Œ<strong>å¦‚æœä½ ä¸å¸Œæœ›è‡ªå·± navigationBar ä¸Šçš„æŒ‰é’®ä¹Ÿè¢«æ”¹å˜é€æ˜åº¦ï¼Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰ UINavigationController å®ç°ã€‚ç”¨ç³»ç»Ÿçš„ navigationBar æ—¶ï¼ŒnavigationBarä¸Šçš„æŒ‰é’®çš„é€æ˜åº¦ä¹Ÿä¼šè¢«æ›´æ”¹ã€‚</strong></p>
<hr>
<h4 id="äºŒã€åœ¨-navigationBar-ä¸ŠåŠ å…¥ä¸€ä¸ª-view"><a href="#äºŒã€åœ¨-navigationBar-ä¸ŠåŠ å…¥ä¸€ä¸ª-view" class="headerlink" title="äºŒã€åœ¨ navigationBar ä¸ŠåŠ å…¥ä¸€ä¸ª view"></a>äºŒã€åœ¨ navigationBar ä¸ŠåŠ å…¥ä¸€ä¸ª view</h4><p>åœ¨ navigationBar ä¸ŠåŠ ä¸€ä¸ª viewï¼Œç„¶åè®¾ç½® view çš„ alphaã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">CGSize</span> customSize = <span class="keyword">self</span>.navigationController.navigationBar.frame.size;</span><br><span class="line"><span class="keyword">self</span>.customView = [[<span class="built_in">UIView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">-20</span>, customSize.width, customSize.height + <span class="number">20</span>)];</span><br><span class="line"><span class="keyword">self</span>.customView.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line"><span class="keyword">self</span>.customView.userInteractionEnabled = <span class="literal">NO</span>;</span><br><span class="line">[<span class="keyword">self</span>.navigationController.navigationBar insertSubview: <span class="keyword">self</span>.customView atIndex:<span class="number">0</span>];</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä¹Ÿè¦è¯´æ˜ä¸€ç‚¹ï¼Œ<strong>View çš„ userInteractionEnabled å±æ€§è¦è®¾ç½®ä¸º NOï¼Œä¸ç„¶ä¼šå‡ºç°é—®é¢˜ã€‚</strong></p>
<p>UIScrollViewDelegate çš„è¿™ä¸ªä»£ç†æ–¹æ³•ä¸ä¸Šé¢çš„ä¸€æ ·ã€‚<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - UIScrollViewDelegate</span></span><br><span class="line">- (<span class="keyword">void</span>)scrollViewDidScroll:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">self</span>.currentPostion = scrollView.contentOffset.y;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.currentPostion &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.currentPostion - <span class="keyword">self</span>.lastPosition &gt;= <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.topBool) &#123;</span><br><span class="line"><span class="keyword">self</span>.topBool = <span class="literal">NO</span>;</span><br><span class="line"><span class="keyword">self</span>.bottomBool = <span class="literal">YES</span>;</span><br><span class="line"><span class="keyword">self</span>.stopPosition = <span class="keyword">self</span>.currentPostion + <span class="number">64</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">self</span>.lastPosition = <span class="keyword">self</span>.currentPostion;</span><br><span class="line"><span class="keyword">self</span>.customView.alpha = <span class="number">1</span> - <span class="keyword">self</span>.currentPostion / <span class="number">500</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.bottomBool) &#123;</span><br><span class="line"><span class="keyword">self</span>.bottomBool = <span class="literal">NO</span>;</span><br><span class="line"><span class="keyword">self</span>.topBool = <span class="literal">YES</span>;</span><br><span class="line"><span class="keyword">self</span>.stopPosition = <span class="keyword">self</span>.currentPostion + <span class="number">64</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">self</span>.lastPosition = <span class="keyword">self</span>.currentPostion;</span><br><span class="line"><span class="keyword">self</span>.customView.alpha = (<span class="keyword">self</span>.stopPosition - <span class="keyword">self</span>.currentPostion) / <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸Šé¢çš„ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥å®ç°å¯¼èˆªæ æ¸å˜ï¼Œåªæ˜¯æ€è·¯ä¸åŒï¼Œä¸€ä¸ªæ˜¯æ”¹å˜ç³»ç»Ÿçš„å¯¼èˆªæ ï¼Œä¸€ä¸ªæ˜¯åœ¨å¯¼èˆªæ ä¸Šæ’å…¥ Viewï¼Œå¦å¤–è¿˜å¯ä»¥è‡ªå®šä¹‰å¯¼èˆªæ§åˆ¶å™¨è¿™ä¸ªç±»æ¥å®ç°ï¼Œå„ä½é“å‹å¯ä»¥è¯•è¯•å“¦ï¼</p>
<h4 id="ä»£ç ä¼ é€é—¨-æ¬¢è¿å„ä½é“å‹äº¤æµæˆ–æŒ‡å‡ºé”™è¯¯ï¼"><a href="#ä»£ç ä¼ é€é—¨-æ¬¢è¿å„ä½é“å‹äº¤æµæˆ–æŒ‡å‡ºé”™è¯¯ï¼" class="headerlink" title="ä»£ç ä¼ é€é—¨ æ¬¢è¿å„ä½é“å‹äº¤æµæˆ–æŒ‡å‡ºé”™è¯¯ï¼"></a><a href="https://github.com/liuzhongning/NNJaneBook" target="_blank" rel="noopener">ä»£ç ä¼ é€é—¨</a> æ¬¢è¿å„ä½é“å‹äº¤æµæˆ–æŒ‡å‡ºé”™è¯¯ï¼</h4>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOS å¼€å‘ -ã€Š52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(3)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOS å¼€å‘ -ã€Š52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(3)/" itemprop="url">
                  iOSå¼€å‘ä¹‹ - é“¶è”æ”¯ä»˜
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="æ–‡ç« å…±åˆ†ä¸ºä¸‰ç¯‡ï¼š"><a href="#æ–‡ç« å…±åˆ†ä¸ºä¸‰ç¯‡ï¼š" class="headerlink" title="æ–‡ç« å…±åˆ†ä¸ºä¸‰ç¯‡ï¼š"></a>æ–‡ç« å…±åˆ†ä¸ºä¸‰ç¯‡ï¼š</h5><p>ç¬¬ä¸€ç¯‡ï¼š<a href="https://www.jianshu.com/p/6985ec0666cb" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(1)</a><br>ç¬¬äºŒç¯‡ï¼š<a href="https://www.jianshu.com/p/72b5525e82e3" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(2)</a><br>ç¬¬ä¸‰ç¯‡ï¼š<a href="https://www.jianshu.com/p/43fb6ccea4b2" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(3)</a></p>
<p>æ¥ä¸Šç¯‡ï¼š<a href="https://www.jianshu.com/p/72b5525e82e3" target="_blank" rel="noopener">iOS å¼€å‘ -ã€ŠEffective Objective-C 2.0:ç¼–å†™é«˜è´¨é‡ iOS ä¸ OS X ä»£ç çš„ 52 ä¸ªæœ‰æ•ˆæ–¹æ³•ã€‹è¯»ä¹¦ç¬”è®°(2)</a></p>
<h2 id="ç¬¬-6-ç« -å—ä¸å¤§ä¸­æ¢æ´¾å‘"><a href="#ç¬¬-6-ç« -å—ä¸å¤§ä¸­æ¢æ´¾å‘" class="headerlink" title="ç¬¬ 6 ç«  å—ä¸å¤§ä¸­æ¢æ´¾å‘"></a>ç¬¬ 6 ç«  å—ä¸å¤§ä¸­æ¢æ´¾å‘</h2><h3 id="ç¬¬-35-æ¡ï¼šç†è§£-â€œå—â€è¿™ä¸€æ¦‚å¿µ"><a href="#ç¬¬-35-æ¡ï¼šç†è§£-â€œå—â€è¿™ä¸€æ¦‚å¿µ" class="headerlink" title="ç¬¬ 35 æ¡ï¼šç†è§£ â€œå—â€è¿™ä¸€æ¦‚å¿µ"></a>ç¬¬ 35 æ¡ï¼šç†è§£ â€œå—â€è¿™ä¸€æ¦‚å¿µ</h3><p><code>blcok</code>å’Œå‡½æ•°ç±»ä¼¼ï¼Œå®ƒæ˜¯ç›´æ¥å®šä¹‰åœ¨å¦ä¸€ä¸ªå‡½æ•°é‡Œçš„ï¼Œå’Œå®šä¹‰å®ƒçš„é‚£ä¸ªå‡½æ•°å…±äº«åŒä¸€ä¸ªèŒƒå›´çš„ä¸œè¥¿ã€‚ç”¨<code>^</code>æ¥è¡¨ç¤ºï¼Œåé¢æ¥ä¸€å¯¹å¤§æ‹¬å·ï¼Œæ‹¬å·é‡Œæ˜¯<code>blcok</code>çš„å®ç°ä»£ç ã€‚</p>
<ul>
<li>æ ¼å¼ï¼š è¿”å›ç±»å‹ ï¼ˆ^blockNameï¼‰(å‚æ•°){å®ç°ä»£ç };</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ— è¿”å›å€¼æ— å‚æ•°</span></span><br><span class="line"><span class="keyword">void</span>(^testBlcok)(<span class="keyword">void</span>) = ^&#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"testBlcok"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">testBlcok(); <span class="comment">// printï¼š"testBlcok"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ— è¿”å›å€¼æœ‰å‚æ•°</span></span><br><span class="line"><span class="keyword">void</span>(^testBlcok)(<span class="keyword">int</span> a) = ^(<span class="keyword">int</span> a) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%d"</span>, a);</span><br><span class="line">&#125;;</span><br><span class="line">testBlcok(<span class="number">5</span>); <span class="comment">// printï¼š"5"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ‰è¿”å›å€¼æœ‰å‚æ•°</span></span><br><span class="line"><span class="keyword">int</span> (^addBlock)(<span class="keyword">int</span> a, <span class="keyword">int</span> b) = ^(<span class="keyword">int</span> a, <span class="keyword">int</span> b) &#123;</span><br><span class="line"><span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%d"</span>, addBlock(<span class="number">13</span>, <span class="number">6</span>)); <span class="comment">// printï¼š"19"</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>block</code>å¯ä»¥è®¿é—®å±€éƒ¨å˜é‡ï¼Œä½†æ˜¯ä¸èƒ½ä¿®æ”¹ï¼Œå¦‚æœä¿®æ”¹å±€éƒ¨å˜é‡ï¼Œéœ€è¦åŠ <code>__block</code></p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">__block NSInteger <span class="built_in">count</span> = <span class="number">0</span><span class="comment">;</span></span><br><span class="line">int <span class="keyword">additional </span>= <span class="number">5</span><span class="comment">;</span></span><br><span class="line">int (^<span class="keyword">addBlock)(int </span>a, int <span class="keyword">b) </span>= ^(int a, int <span class="keyword">b) </span>&#123;</span><br><span class="line"><span class="built_in">count</span> = <span class="built_in">count</span> + <span class="number">10</span><span class="comment">;</span></span><br><span class="line">return a + <span class="keyword">b </span>+ <span class="keyword">additional;</span></span><br><span class="line"><span class="keyword">&#125;;</span></span><br><span class="line"><span class="keyword">NSLog(@"addBlock </span>= %d<span class="string">", addBlock(13, 6)); // printï¼š"</span><span class="number">24</span><span class="string">"</span></span><br><span class="line"><span class="string">NSLog(@"</span><span class="built_in">count</span> = %ld<span class="string">", count); // printï¼š"</span><span class="number">10</span><span class="string">"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦å¤–å…³äº<code>block</code>çš„ä¿®é¥°ç¬¦åº”è¯¥æ³¨æ„ï¼š<br>1.å¦‚æœç”¨<code>copy</code>ä¿®é¥°<code>Block</code>ï¼Œè¯¥<code>Block</code>å°±ä¼šå­˜å‚¨åœ¨å †ç©ºé—´ã€‚åˆ™ä¼šå¯¹<code>Block</code>çš„å†…éƒ¨å¯¹è±¡è¿›è¡Œå¼ºå¼•ç”¨ï¼Œå¯¼è‡´å¾ªç¯å¼•ç”¨ã€‚å†…å­˜æ— æ³•é‡Šæ”¾ã€‚<br>è§£å†³æ–¹æ³•ï¼šæ–°å»ºä¸€ä¸ªæŒ‡é’ˆ<code>(__weak typeof(Target) weakTarget = Target )</code>æŒ‡å‘<code>Block</code>ä»£ç å—é‡Œçš„å¯¹è±¡ï¼Œç„¶åç”¨<code>weakTarget</code>è¿›è¡Œæ“ä½œã€‚å°±å¯ä»¥è§£å†³å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚<br>2.å¦‚æœç”¨<code>weak</code>ä¿®é¥°<code>Block</code>ï¼Œè¯¥<code>Block</code>å°±ä¼šå­˜æ”¾åœ¨æ ˆç©ºé—´ã€‚ä¸ä¼šå‡ºç°å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚</p>
</li>
</ul>
<h3 id="ç¬¬-36-æ¡ï¼šä¸ºå¸¸ç”¨çš„å—ç±»å‹åˆ›å»º-typedef"><a href="#ç¬¬-36-æ¡ï¼šä¸ºå¸¸ç”¨çš„å—ç±»å‹åˆ›å»º-typedef" class="headerlink" title="ç¬¬ 36 æ¡ï¼šä¸ºå¸¸ç”¨çš„å—ç±»å‹åˆ›å»º typedef"></a>ç¬¬ 36 æ¡ï¼šä¸ºå¸¸ç”¨çš„å—ç±»å‹åˆ›å»º typedef</h3><p>ä¸ºå¸¸ç”¨çš„å—ç±»å‹åˆ›å»º <code>typedef</code>ï¼Œä¸»è¦æ˜¯ä¸ºäº†ä»£ç çš„æ˜“è¯»æ€§ï¼Œç”¨çš„æ—¶å€™ä¹Ÿè¾ƒä¸ºæ–¹ä¾¿ã€‚è¯·çœ‹ä¸‹é¢ä»£ç å¯¹æ¯”ï¼š<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§å†™æ³•</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">testWithBlockString</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">string</span> <span class="selector-tag">withBlock</span><span class="selector-pseudo">:(void(</span>^)(id dataSource))<span class="selector-tag">block</span>;</span><br><span class="line"><span class="comment">/* è¿™ç§å†™æ³•éå¸¸éš¾è®°ï¼Œä¹Ÿå¾ˆéš¾æ‡‚ï¼Œç”¨çš„æ—¶å€™ä¸æ–¹ä¾¿ */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬äºŒç§å†™æ³•</span></span><br><span class="line"><span class="selector-tag">typedef</span> <span class="selector-tag">void</span> (^testBlock)(id dataSource);</span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">testWithBlockString</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">string</span> <span class="selector-tag">withBlockName</span><span class="selector-pseudo">:(testBlock)block</span>;</span><br><span class="line"><span class="comment">/* ç”¨ typedef å…³é”®å­—ï¼Œä¸ºå¸¸ç”¨çš„å—ç±»å‹èµ·ä¸ªåˆ«åï¼Œæ–¹ä¾¿æ˜“æ‡‚ */</span></span><br></pre></td></tr></table></figure></p>
<h3 id="ç¬¬-37-æ¡ï¼šç”¨-handler-å—é™ä½ä»£ç åˆ†æ•£ç¨‹åº¦"><a href="#ç¬¬-37-æ¡ï¼šç”¨-handler-å—é™ä½ä»£ç åˆ†æ•£ç¨‹åº¦" class="headerlink" title="ç¬¬ 37 æ¡ï¼šç”¨ handler å—é™ä½ä»£ç åˆ†æ•£ç¨‹åº¦"></a>ç¬¬ 37 æ¡ï¼šç”¨ handler å—é™ä½ä»£ç åˆ†æ•£ç¨‹åº¦</h3><p>åœ¨<code>iOS</code>å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå¼‚æ­¥å¤„ç†ä¸€äº›ä»»åŠ¡ï¼Œç„¶åç­‰ä»»åŠ¡æ‰§è¡Œç»“æŸåé€šçŸ¥ç›¸å…³æ–¹æ³•ã€‚å®ç°æ­¤éœ€æ±‚çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚å¯ä»¥é€‰æ‹©ä»£ç†å§”æ‰˜ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©<code>block</code>ã€‚<code>block</code>æ›´è½»å‹ï¼Œä½¿ç”¨æ›´ç®€å•ï¼Œèƒ½å¤Ÿç›´æ¥è®¿é—®ä¸Šä¸‹æ–‡ï¼Œè¿™æ ·ç±»ä¸­ä¸éœ€è¦å­˜å‚¨ä¸´æ—¶æ•°æ®ï¼Œä½¿ç”¨<code>block</code>çš„ä»£ç é€šå¸¸ä¼šåœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼Œè¿™æ ·ä½¿ä»£ç æ›´è¿è´¯ï¼Œå¯è¯»æ€§å¥½ã€‚<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">typedef</span> <span class="selector-tag">void</span> (^testBlock)(id dataSource);</span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">testWithBlockString</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">string</span> <span class="selector-tag">withBlockName</span><span class="selector-pseudo">:(testBlock)block</span>;</span><br></pre></td></tr></table></figure></p>
<h3 id="ç¬¬-38-æ¡ï¼šç”¨å—å¼•ç”¨å…¶æ‰€å±å¯¹è±¡æ—¶ä¸è¦å‡ºç°ä¿ç•™ç¯"><a href="#ç¬¬-38-æ¡ï¼šç”¨å—å¼•ç”¨å…¶æ‰€å±å¯¹è±¡æ—¶ä¸è¦å‡ºç°ä¿ç•™ç¯" class="headerlink" title="ç¬¬ 38 æ¡ï¼šç”¨å—å¼•ç”¨å…¶æ‰€å±å¯¹è±¡æ—¶ä¸è¦å‡ºç°ä¿ç•™ç¯"></a>ç¬¬ 38 æ¡ï¼šç”¨å—å¼•ç”¨å…¶æ‰€å±å¯¹è±¡æ—¶ä¸è¦å‡ºç°ä¿ç•™ç¯</h3><p>è¿™æ¡è®²çš„æ¯”è¾ƒåŸºç¡€ï¼Œæ˜¯<code>iOS</code>ä¸­<code>block</code>çš„å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚æ‰€è°“å¾ªç¯å¼•ç”¨ï¼Œå°±æ˜¯ä¸¤ä¸ªå¯¹è±¡ç›¸äº’æŒæœ‰ï¼Œè¿™æ ·å°±ä¼šé€ æˆå¾ªç¯å¼•ç”¨ã€‚</p>
<ul>
<li><p>è¯·çœ‹ä¸‹é¢ä»£ç ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">void</span> (^testBlock)(<span class="keyword">id</span> dataSource);</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">copy</span>, <span class="keyword">nonatomic</span>) testBlock block;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *blockString;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)testBlock &#123;</span><br><span class="line"><span class="keyword">self</span>.block = ^(<span class="keyword">id</span> dataSource) &#123;</span><br><span class="line"><span class="built_in">NSString</span> *blockString = <span class="keyword">self</span>.blockString;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"blockString = %@"</span>, blockString);</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»£ç æˆªå›¾ï¼š</p>
</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-92afc35d076a4c15.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="block å¾ªç¯å¼•ç”¨"></p>
<ul>
<li>è§£å†³æ–¹æ³•ï¼š<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)testBlock &#123;</span><br><span class="line">__<span class="keyword">weak</span> <span class="keyword">typeof</span>(<span class="keyword">self</span>) weakSelf = <span class="keyword">self</span>;</span><br><span class="line"><span class="keyword">self</span>.block = ^(<span class="keyword">id</span> dataSource) &#123;</span><br><span class="line"><span class="built_in">NSString</span> *blockString = weakSelf.blockString;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"blockString = %@"</span>, blockString);</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>ä½†å¹¶éæ‰€æœ‰ block éƒ½ä¼šé€ æˆå¾ªç¯å¼•ç”¨</strong>ï¼Œåœ¨å¼€å‘ä¸­ï¼Œä¸€äº›åŒå­¦åªè¦æœ‰<code>block</code>çš„åœ°æ–¹å°±ä¼šç”¨<code>__weak</code>æ¥ä¿®é¥°å¯¹è±¡ï¼Œå…¶å®æ²¡æœ‰å¿…è¦ï¼Œä»¥ä¸‹å‡ ç§<code>block</code>æ˜¯ä¸ä¼šé€ æˆå¾ªç¯å¼•ç”¨çš„ï¼š</p>
<ul>
<li>å¤§éƒ¨åˆ†<code>GCD</code>æ–¹æ³•<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">dispatch_async(dispatch_get_main_queue(), </span>^&#123;</span><br><span class="line">NSString *<span class="keyword">blockString </span>= self.<span class="keyword">blockString;</span></span><br><span class="line"><span class="keyword">NSLog(@"blockString </span>= %@<span class="string">", blockString);</span></span><br><span class="line"><span class="string">&#125;);</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ä»£ç è§£è¯»ï¼šå› ä¸º<code>self</code>å¹¶æ²¡æœ‰å¯¹<code>GCD</code>ä¸­çš„<code>block</code>è¿›è¡ŒæŒæœ‰ï¼Œæ‰€ä»¥ä¸ä¼šå½¢æˆå¾ªç¯å¼•ç”¨ã€‚</p>
<ul>
<li><code>block</code> å±äºå¦å¤–ä¸€ä¸ªç±»</li>
</ul>
<figure class="highlight hy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[NNHomeViewController testWithBlockName:^(<span class="name"><span class="builtin-name">id</span></span> dataSource) &#123;</span><br><span class="line">NSString *blockString = self.blockString;</span><br><span class="line">NSLog(@<span class="string">"blockString = %@"</span>, blockString)<span class="comment">;</span></span><br><span class="line">&#125;]<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>ä»£ç è§£è¯»ï¼šåŒä¸Šï¼Œ<code>block</code>ä¸æ˜¯è¢«<code>self</code>æ‰€æŒæœ‰çš„ã€‚</p>
<ul>
<li><code>block</code>å¹¶ä¸æ˜¯å±æ€§å€¼ï¼Œè€Œæ˜¯ä¸´æ—¶å˜é‡<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">[<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">[<span class="keyword">self</span> testWithBlock:^&#123;</span><br><span class="line"><span class="built_in">NSString</span> *blockString = <span class="keyword">self</span>.blockString;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"blockString = %@"</span>, blockString);</span><br><span class="line">&#125;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)testWithBlock:(<span class="keyword">void</span>(^)(<span class="keyword">void</span>))block &#123;</span><br><span class="line">block();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="ç¬¬-39-æ¡ï¼šå¤šç”¨æ´¾å‘é˜Ÿåˆ—ï¼Œå°‘ç”¨åŒæ­¥é”"><a href="#ç¬¬-39-æ¡ï¼šå¤šç”¨æ´¾å‘é˜Ÿåˆ—ï¼Œå°‘ç”¨åŒæ­¥é”" class="headerlink" title="ç¬¬ 39 æ¡ï¼šå¤šç”¨æ´¾å‘é˜Ÿåˆ—ï¼Œå°‘ç”¨åŒæ­¥é”"></a>ç¬¬ 39 æ¡ï¼šå¤šç”¨æ´¾å‘é˜Ÿåˆ—ï¼Œå°‘ç”¨åŒæ­¥é”</h3><p><strong>åœ¨ OC ä¸­ï¼Œå¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹è¦æ‰§è¡ŒåŒä¸€ä»½ä»£ç ï¼Œæœ‰æ—¶å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œé€šå¸¸è¦ä½¿ç”¨é”æ¥å®ç°æŸç§åŒæ­¥æœºåˆ¶ã€‚</strong></p>
<ul>
<li>GCD å‡ºç°ä¹‹å‰é€šå¸¸ä½¿ç”¨ä¸¤ç§æ–¹æ³•ï¼š</li>
</ul>
<p>ç¬¬ä¸€ç§ï¼šå†…ç½®çš„â€œåŒæ­¥å—â€</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">synchronizedMethod</span> &#123;</span><br><span class="line"><span class="variable">@synchronized</span>(self) &#123;</span><br><span class="line"><span class="comment">// safe</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§å†™æ³•ä¼šæ ¹æ®ç»™å®šçš„å¯¹è±¡ï¼Œè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªé”ï¼Œå¹¶ç­‰å¾…å—ä¸­ä»£ç æ‰§è¡Œå®Œæ¯•ã€‚æ‰§è¡Œåˆ°è¿™æ®µä»£ç ç»“å°¾å¤„ï¼Œé”å°±é‡Šæ”¾äº†ã€‚ä½†æ»¥ç”¨<code>@synchronized(self)</code>ä¼šå¾ˆå¤§ç¨‹åº¦ä¸Šé™ä½ä»£ç æ•ˆç‡ï¼Œå› æ­¤ä¸æ¨èä½¿ç”¨ã€‚</p>
<p>ç¬¬äºŒç§ï¼šç›´æ¥ä½¿ç”¨ NSLock å¯¹è±¡(ä¹Ÿå¯ä»¥ä½¿ç”¨ NSRecursiveLock é€’å½’é”)<br><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">_lock</span> = [[NSLock alloc] init];</span><br><span class="line"></span><br><span class="line">- (void)synchronizedMethod &#123;</span><br><span class="line">[<span class="variable">_lock</span> <span class="built_in">lock</span>];</span><br><span class="line"><span class="comment">// safe</span></span><br><span class="line">[<span class="variable">_lock</span> unlock];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™ç§å†™æ³•ä¹Ÿæœ‰ç¼ºé™·ï¼Œåœ¨æç«¯æƒ…å†µä¸‹ï¼ŒåŒæ­¥å—ä¼šå¯¼è‡´æ­»é”ï¼Œå¦å¤–ä¸ GCD ç›¸æ¯”æ•ˆç‡ä¹Ÿå¾ˆä½ã€‚</p>
<ul>
<li>æ¨èï¼šGCD æ–¹å¼<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="name">NSString</span> *)testString &#123;</span><br><span class="line">__block NSString *localTestString<span class="comment">;</span></span><br><span class="line">dispatch_sync(<span class="name">dispatch_get_global_queue</span>(<span class="name">DISPATCH_QUEUE_PRIORITY_DEFAULT</span>, <span class="number">0</span>), ^&#123;</span><br><span class="line">localTestString = self.testString<span class="comment">;</span></span><br><span class="line">&#125;)<span class="comment">;</span></span><br><span class="line">return localTestString<span class="comment">;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="name">void</span>)setTestString:(<span class="name">NSString</span> *)testString &#123;</span><br><span class="line">dispatch_barrier_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^&#123;</span><br><span class="line">self.testString = testString;</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ä½¿ç”¨åŒæ­¥é˜Ÿåˆ—åŠæ …æ å—ï¼Œå¯ä»¥ä»¤åŒæ­¥è¡Œä¸ºæ›´åŠ é«˜æ•ˆã€‚</p>
<h3 id="ç¬¬-40-æ¡ï¼šå¤šç”¨-GCDï¼Œå°‘ç”¨-performSelector-ç³»åˆ—æ–¹æ³•"><a href="#ç¬¬-40-æ¡ï¼šå¤šç”¨-GCDï¼Œå°‘ç”¨-performSelector-ç³»åˆ—æ–¹æ³•" class="headerlink" title="ç¬¬ 40 æ¡ï¼šå¤šç”¨ GCDï¼Œå°‘ç”¨ performSelector ç³»åˆ—æ–¹æ³•"></a>ç¬¬ 40 æ¡ï¼šå¤šç”¨ GCDï¼Œå°‘ç”¨ performSelector ç³»åˆ—æ–¹æ³•</h3><p>åœ¨ <code>GCD</code> å‡ºç°ä¹‹å‰ï¼Œå¼€å‘è€…å»¶è¿Ÿè°ƒç”¨ä¸€äº›æ–¹æ³•ï¼Œæˆ–è€…æŒ‡å®šè¿è¡Œæ–¹æ³•çš„çº¿ç¨‹ä¼šç”¨ <code>performSelector</code>ï¼Œä½†æ˜¯åœ¨ <code>GCD</code> å‡ºæ¥ä¹‹åå°±ä¸éœ€è¦å†ä½¿ç”¨<code>performSelector</code>äº†ã€‚</p>
<ul>
<li>performSelector ç³»åˆ—çš„æ–¹æ³•ï¼š</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>)performSelector:(SEL)aSelector;</span><br><span class="line">- (<span class="keyword">id</span>)performSelector:(SEL)aSelector withObject:(<span class="keyword">id</span>)object;</span><br><span class="line">- (<span class="keyword">id</span>)performSelector:(SEL)aSelector withObject:(<span class="keyword">id</span>)object1 withObject:(<span class="keyword">id</span>)object2;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)performSelector:(SEL)aSelector withObject:(<span class="keyword">nullable</span> <span class="keyword">id</span>)anArgument afterDelay:(<span class="built_in">NSTimeInterval</span>)delay inModes:(<span class="built_in">NSArray</span>&lt;<span class="built_in">NSRunLoopMode</span>&gt; *)modes;</span><br><span class="line">- (<span class="keyword">void</span>)performSelector:(SEL)aSelector withObject:(<span class="keyword">nullable</span> <span class="keyword">id</span>)anArgument afterDelay:(<span class="built_in">NSTimeInterval</span>)delay;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)performSelectorOnMainThread:(SEL)aSelector withObject:(<span class="keyword">nullable</span> <span class="keyword">id</span>)arg waitUntilDone:(<span class="built_in">BOOL</span>)wait modes:(<span class="keyword">nullable</span> <span class="built_in">NSArray</span>&lt;<span class="built_in">NSString</span> *&gt; *)array;</span><br><span class="line">- (<span class="keyword">void</span>)performSelectorOnMainThread:(SEL)aSelector withObject:(<span class="keyword">nullable</span> <span class="keyword">id</span>)arg waitUntilDone:(<span class="built_in">BOOL</span>)wait;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)performSelector:(SEL)aSelector onThread:(<span class="built_in">NSThread</span> *)thr withObject:(<span class="keyword">nullable</span> <span class="keyword">id</span>)arg waitUntilDone:(<span class="built_in">BOOL</span>)wait modes:(<span class="keyword">nullable</span> <span class="built_in">NSArray</span>&lt;<span class="built_in">NSString</span> *&gt; *)array;</span><br><span class="line">- (<span class="keyword">void</span>)performSelector:(SEL)aSelector onThread:(<span class="built_in">NSThread</span> *)thr withObject:(<span class="keyword">nullable</span> <span class="keyword">id</span>)arg waitUntilDone:(<span class="built_in">BOOL</span>)wait;</span><br><span class="line">- (<span class="keyword">void</span>)performSelectorInBackground:(SEL)aSelector withObject:(<span class="keyword">nullable</span> <span class="keyword">id</span>)arg;</span><br></pre></td></tr></table></figure>
<ul>
<li>performSelector æ–¹æ³•å­˜åœ¨çš„ç¼ºç‚¹</li>
<li>å†…å­˜ç®¡ç†é—®é¢˜ï¼šåœ¨<code>ARC</code>ä¸‹ä½¿ç”¨<code>performSelector</code>ç¼–è¯‘å™¨ç»å¸¸å‡ºç°è­¦å‘Šï¼Œå› ä¸ºå®ƒæ— æ³•ç¡®å®šå°†è¦æ‰§è¡Œçš„é€‰æ‹©å­å…·ä½“æ˜¯ä»€ä¹ˆï¼Œå› è€Œ<code>ARC</code>ç¼–è¯‘å™¨ä¹Ÿå°±æ— æ³•æ’å…¥é€‚å½“çš„å†…å­˜ç®¡ç†æ–¹æ³•ã€‚</li>
<li><p><code>performSelector</code>ç³»åˆ—æ–¹æ³•æ‰€èƒ½å¤„ç†çš„é€‰æ‹©å­å¤ªè¿‡äºå±€é™ï¼Œ<code>performSelector</code>çš„è¿”å›å€¼åªèƒ½æ˜¯<code>void</code>æˆ–å¯¹è±¡ç±»å‹ï¼›è€Œä¸”å®ƒæ— æ³•å¤„ç†å¸¦æœ‰å¤šä¸ªå‚æ•°çš„é€‰æ‹©å­ï¼Œæœ€å¤šåªèƒ½å¤„ç†ä¸¤ä¸ªå‚æ•°ã€‚</p>
</li>
<li><p>ç”¨ GCD ä»£æ›¿ performSelector ç³»åˆ—æ–¹æ³•</p>
</li>
</ul>
<ol>
<li><p>å»¶è¿Ÿè°ƒç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GCD</span></span><br><span class="line">dispatch_time_t time = dispatch_time(DISPATCH_TIME_NOW, (int64_t)(<span class="number">5.0</span> * <span class="built_in">NSEC_PER_SEC</span>)); dispatch_after(time, dispatch_get_main_queue(), ^(<span class="keyword">void</span>)&#123;</span><br><span class="line">[<span class="keyword">self</span> doSomething];</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// performSelector</span></span><br><span class="line">[<span class="keyword">self</span> performSelector:<span class="keyword">@selector</span>(doSomething) withObject:<span class="literal">nil</span>  afterDelay:<span class="number">5.0</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŒ‡å®šè¿è¡Œæ–¹æ³•çš„çº¿ç¨‹ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GCD</span></span><br><span class="line"><span class="built_in">dispatch_async</span>(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">[<span class="keyword">self</span> doSomething];</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// performSelector</span></span><br><span class="line">[<span class="keyword">self</span> performSelectorOnMainThread:<span class="keyword">@selector</span>(doSomething) withObject:<span class="literal">nil</span> waitUntilDone:<span class="literal">NO</span>];</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="ç¬¬-41-æ¡ï¼šæŒæ¡-GCD-åŠæ“ä½œé˜Ÿåˆ—çš„ä½¿ç”¨æ—¶æœº"><a href="#ç¬¬-41-æ¡ï¼šæŒæ¡-GCD-åŠæ“ä½œé˜Ÿåˆ—çš„ä½¿ç”¨æ—¶æœº" class="headerlink" title="ç¬¬ 41 æ¡ï¼šæŒæ¡ GCD åŠæ“ä½œé˜Ÿåˆ—çš„ä½¿ç”¨æ—¶æœº"></a>ç¬¬ 41 æ¡ï¼šæŒæ¡ GCD åŠæ“ä½œé˜Ÿåˆ—çš„ä½¿ç”¨æ—¶æœº</h3><p>è¿™æ¡è®²çš„æ˜¯ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ <code>GCD</code>ï¼Œä»€ä¹ˆæ—¶å€™ä¸è¯¥ç”¨<code>GCD</code>ã€‚<code>GCD</code>æŠ€æœ¯ç¡®å®å¾ˆæ£’ï¼Œä½†<code>GCD</code>å¹¶ä¸æ€»æ˜¯æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚æ¯”å¦‚<strong>å½“æˆ‘ä»¬æƒ³å–æ¶ˆé˜Ÿåˆ—ä¸­çš„æŸä¸ªæ“ä½œæ—¶ï¼Œæˆ–è€…éœ€è¦åå°æ‰§è¡Œä»»åŠ¡æ—¶</strong>ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥ç”¨<code>NSOperationQueue</code>ï¼Œå…¶å®<code>NSOperationQueue</code>è·Ÿ<code>GCD</code>æœ‰å¾ˆå¤šç›¸åƒä¹‹å¤„ã€‚<code>NSOperationQueue</code>åœ¨<code>GCD</code>ä¹‹å‰å°±å·²ç»æœ‰äº†ï¼Œ<code>GCD</code>å°±æ˜¯åœ¨å…¶æŸäº›åŸç†ä¸Šæ„å»ºçš„ã€‚<strong><code>GCD</code>æ˜¯<code>C</code>å±‚æ¬¡çš„<code>API</code>ï¼Œè€Œ<code>NSOperation</code>æ˜¯é‡é‡çº§çš„<code>OC</code>å¯¹è±¡ã€‚</strong></p>
<ul>
<li>ä½¿ç”¨<code>NSOperation</code>åŠ<code>NSOperationQueue</code>çš„å¥½å¤„å¦‚ä¸‹ï¼š</li>
<li>å–æ¶ˆæŸä¸ªæ“ä½œã€‚</li>
<li>æŒ‡å®šæ“ä½œé—´çš„ä¾èµ–å…³ç³»ã€‚</li>
<li>é€šè¿‡é”®å€¼è§‚å¯Ÿæœºåˆ¶ç›‘æ§NSOperationå¯¹è±¡çš„å±æ€§ã€‚</li>
<li>æŒ‡å®šæ“ä½œçš„ä¼˜å…ˆçº§ã€‚</li>
<li>é‡ç”¨NSOperationå¯¹è±¡ã€‚</li>
</ul>
<h3 id="ç¬¬-42-æ¡ï¼šé€šè¿‡-Dispatch-Group-æœºåˆ¶ï¼Œæ ¹æ®ç³»ç»Ÿèµ„æºçŠ¶å†µæ¥æ‰§è¡Œä»»åŠ¡"><a href="#ç¬¬-42-æ¡ï¼šé€šè¿‡-Dispatch-Group-æœºåˆ¶ï¼Œæ ¹æ®ç³»ç»Ÿèµ„æºçŠ¶å†µæ¥æ‰§è¡Œä»»åŠ¡" class="headerlink" title="ç¬¬ 42 æ¡ï¼šé€šè¿‡ Dispatch Group æœºåˆ¶ï¼Œæ ¹æ®ç³»ç»Ÿèµ„æºçŠ¶å†µæ¥æ‰§è¡Œä»»åŠ¡"></a>ç¬¬ 42 æ¡ï¼šé€šè¿‡ Dispatch Group æœºåˆ¶ï¼Œæ ¹æ®ç³»ç»Ÿèµ„æºçŠ¶å†µæ¥æ‰§è¡Œä»»åŠ¡</h3><p><code>dispatch group</code>æ˜¯<code>GCD</code>çš„ä¸€é¡¹ç‰¹æ€§ï¼Œèƒ½å¤ŸæŠŠä»»åŠ¡åˆ†ç»„ã€‚è°ƒç”¨è€…å¯ä»¥ç­‰å¾…è¿™ç»„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œä¹Ÿå¯ä»¥åœ¨æä¾›å›è°ƒå‡½æ•°ä¹‹åç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œè¿™ç»„ä»»åŠ¡å®Œæˆæ—¶ï¼Œè°ƒç”¨è€…ä¼šå¾—åˆ°é€šçŸ¥ï¼Œå¼€å‘è€…å¯ä»¥æ‹¿åˆ°ç»“æœç„¶åç»§ç»­ä¸‹ä¸€æ­¥æ“ä½œã€‚</p>
<p>è¯·çœ‹ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dispatch_queue_t</span> queue = dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ç»„</span></span><br><span class="line">dispatch_group_t group = dispatch_group_create();</span><br><span class="line">dispatch_group_async(group, queue, ^&#123;</span><br><span class="line"><span class="comment">// æ·»åŠ æ“ä½œ...</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"1%@"</span>, [<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">&#125;);</span><br><span class="line">dispatch_group_async(group, queue, ^&#123;</span><br><span class="line"><span class="comment">// æ·»åŠ æ“ä½œ...</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"2%@"</span>, [<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">&#125;);</span><br><span class="line">dispatch_group_async(group, queue, ^&#123;</span><br><span class="line"><span class="comment">// æ·»åŠ æ“ä½œ...</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"3%@"</span>, [<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// æ”¶åˆ°é€šçŸ¥ï¼Œå›åˆ°ä¸»çº¿ç¨‹åˆ·æ–°UI</span></span><br><span class="line">dispatch_group_notify(group, dispatch_get_main_queue(), ^&#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"å›åˆ°ä¸»çº¿ç¨‹åˆ·æ–°UI"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>å¤šä¸ªä»»åŠ¡å¯å½’å…¥ä¸€ä¸ª<code>dispatch group</code>ä¹‹ä¸­ã€‚å¼€å‘è€…å¯ä»¥åœ¨è¿™ç»„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•æ—¶è·å¾—é€šçŸ¥ã€‚</p>
<h3 id="ç¬¬-43-æ¡ï¼šä½¿ç”¨-dispatch-once-æ¥æ‰§è¡Œåªéœ€è¿è¡Œä¸€æ¬¡çš„çº¿ç¨‹å®‰å…¨ä»£ç "><a href="#ç¬¬-43-æ¡ï¼šä½¿ç”¨-dispatch-once-æ¥æ‰§è¡Œåªéœ€è¿è¡Œä¸€æ¬¡çš„çº¿ç¨‹å®‰å…¨ä»£ç " class="headerlink" title="ç¬¬ 43 æ¡ï¼šä½¿ç”¨ dispatch_once æ¥æ‰§è¡Œåªéœ€è¿è¡Œä¸€æ¬¡çš„çº¿ç¨‹å®‰å…¨ä»£ç "></a>ç¬¬ 43 æ¡ï¼šä½¿ç”¨ dispatch_once æ¥æ‰§è¡Œåªéœ€è¿è¡Œä¸€æ¬¡çš„çº¿ç¨‹å®‰å…¨ä»£ç </h3><p>è¿™æ¡è®²çš„å•ä¾‹æ¨¡å¼ï¼Œå³å¸¸ç”¨çš„<code>dispatch_once</code>ã€‚ä½¿ç”¨ <code>dispatch_once</code> å¯ä»¥ç®€åŒ–ä»£ç å¹¶ä¸”å½»åº•ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œæˆ‘ä»¬æ ¹æœ¬æ— é¡»æ‹…å¿ƒåŠ é”æˆ–åŒæ­¥ï¼Œå¦å¤–å®ƒæ²¡æœ‰ä½¿ç”¨é‡é‡çº§çš„åŒæ­¥æœºåˆ¶ï¼Œæ‰€ä»¥ä¹Ÿæ›´é«˜æ•ˆã€‚</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+ (id)<span class="keyword">shareInstance </span>&#123;</span><br><span class="line">static EOCClass *<span class="keyword">sharedInstance </span>= nil<span class="comment">;</span></span><br><span class="line">static <span class="keyword">dispatch_once_t </span>onceToken<span class="comment">;</span></span><br><span class="line"><span class="keyword">dispatch_once(&amp;onceToken, </span>^&#123;</span><br><span class="line"><span class="keyword">sharedInstance </span>= [[self alloc] init]<span class="comment">;</span></span><br><span class="line">&#125;)<span class="comment">;</span></span><br><span class="line">return <span class="keyword">sharedInstance;</span></span><br><span class="line"><span class="keyword">&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="ç¬¬-44-æ¡ï¼šä¸è¦ä½¿ç”¨-dispatch-get-current-queue"><a href="#ç¬¬-44-æ¡ï¼šä¸è¦ä½¿ç”¨-dispatch-get-current-queue" class="headerlink" title="ç¬¬ 44 æ¡ï¼šä¸è¦ä½¿ç”¨ dispatch_get_current_queue"></a>ç¬¬ 44 æ¡ï¼šä¸è¦ä½¿ç”¨ dispatch_get_current_queue</h3><ul>
<li><code>dispatch_get_current_queue</code> å‡½æ•°çš„è¡Œä¸ºå¸¸å¸¸ä¸å¼€å‘è€…æ‰€é¢„æœŸçš„ä¸åŒï¼Œæ­¤å‡½æ•°å·²ç»åºŸå¼ƒï¼Œåªåº”åšè°ƒè¯•ä¹‹ç”¨ã€‚</li>
<li>ç”±äº<code>GCD</code>æ˜¯æŒ‰å±‚çº§æ¥ç»„ç»‡çš„ï¼Œæ‰€ä»¥æ— æ³•å•ç”¨æŸä¸ªé˜Ÿåˆ—å¯¹è±¡æ¥æè¿°â€å½“å‰é˜Ÿåˆ—â€è¿™ä¸€æ¦‚å¿µã€‚</li>
<li><code>dispatch_get_current_queue</code> å‡½æ•°ç”¨äºè§£å†³ç”±ä¸å¯ä»¥é‡å…¥çš„ä»£ç æ‰€å¼•å‘çš„æ­»é”ï¼Œç„¶åèƒ½ç”¨æ­¤å‡½æ•°è§£å†³çš„é—®é¢˜ï¼Œé€šå¸¸ä¹Ÿå¯ä»¥ç”¨â€é˜Ÿåˆ—ç‰¹å®šæ•°æ®â€æ¥è§£å†³ã€‚</li>
</ul>
<h2 id="ç¬¬-7-ç« -ç³»ç»Ÿæ¡†æ¶"><a href="#ç¬¬-7-ç« -ç³»ç»Ÿæ¡†æ¶" class="headerlink" title="ç¬¬ 7 ç«  ç³»ç»Ÿæ¡†æ¶"></a>ç¬¬ 7 ç«  ç³»ç»Ÿæ¡†æ¶</h2><h3 id="ç¬¬-45-æ¡ï¼šç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶"><a href="#ç¬¬-45-æ¡ï¼šç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶" class="headerlink" title="ç¬¬ 45 æ¡ï¼šç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶"></a>ç¬¬ 45 æ¡ï¼šç†Ÿæ‚‰ç³»ç»Ÿæ¡†æ¶</h3><p>å¼€å‘è€…ä¼šç¢°åˆ°çš„ä¸»è¦æ¡†æ¶å°±æ˜¯<code>Fundation</code>ã€‚å¦å¤–è¿˜æœ‰ä¸ªä¸<code>Fundation</code>ç›¸ä¼´çš„æ¡†æ¶ï¼Œå«åš<code>CoreFoundation</code>ã€‚é™¤äº†<code>Fundation</code>ä¸<code>CoreFoundation</code>ï¼Œè¿˜æœ‰å¾ˆå¤šç³»ç»Ÿåº“ï¼Œå…¶ä¸­åŒ…æ‹¬ä½†ä¸é™äºä¸‹é¢åˆ—å‡ºçš„è¿™äº›ï¼š</p>
<ul>
<li>CFNetworkï¼šæ­¤æ¡†æ¶æä¾›äº† C è¯­è¨€çº§åˆ«çš„ç½‘ç»œé€šä¿¡èƒ½åŠ›ï¼Œå®ƒå°† BSD å¥—æ¥å­—<code>(BSD socket)</code>æŠ½è±¡æˆæ˜“äºä½¿ç”¨çš„ç½‘ç»œæ¥å£ã€‚è€Œ <code>Foundation</code> åˆ™å°†è¯¥æ¡†æ¶é‡Œçš„éƒ¨åˆ†å†…å®¹å°è£…ä¸º<code>OC</code>è¯­è¨€çš„æ¥å£ï¼Œä»¥ä¾¿è¿›è¡Œç½‘ç»œé€šä¿¡ã€‚</li>
<li>CoreAudioï¼šæ­¤æ¡†æ¶æ‰€æä¾›çš„<code>C</code>è¯­è¨€<code>API</code>å¯ä»¥ç”¨æ¥æ“ä½œè®¾å¤‡ä¸Šçš„éŸ³é¢‘ç¡¬ä»¶ã€‚</li>
<li>AVFoundationï¼šæ­¤æ¡†æ¶æ‰€æä¾›çš„<code>OC</code>å¯¹è±¡å¯ç”¨æ¥å›è®¿å¹¶å½•åˆ¶éŸ³é¢‘åŠè§†é¢‘ï¼Œæ¯”å¦‚èƒ½å¤Ÿåœ¨UIè§†å›¾ç±»é‡Œæ’­æ”¾è§†é¢‘ã€‚</li>
<li>CoreDataï¼šæ­¤æ¡†æ¶æ‰€æä¾›çš„<code>OC</code>æ¥å£å¯ä»¥å°†å¯¹è±¡æ”¾å…¥æ•°æ®åº“ï¼Œå°†æ•°æŒä¹…ä¿å­˜ã€‚</li>
<li><p>CoreTextï¼šæ­¤æ¡†æ¶æä¾›çš„Cè¯­è¨€æ¥å£å¯ä»¥é«˜æ•ˆæ‰§è¡Œæ–‡å­—æ’ç‰ˆä»¥åŠæ¸²æŸ“æ“ä½œã€‚</p>
</li>
<li><p>è¦ç‚¹ï¼š</p>
</li>
<li>è®¸å¤šç³»ç»Ÿæ¡†æ¶éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚å…¶ä¸­æœ€é‡è¦çš„æ˜¯<code>Fundation</code>ä¸<code>CoreFoundation</code>ï¼Œè¿™ä¸¤ä¸ªæ¡†æ¶æä¾›äº†æ„æ¶åº”ç”¨ç¨‹åºæ‰€éœ€çš„è®¸å¤šæ ¸å¿ƒåŠŸèƒ½ã€‚</li>
<li>å¾ˆå¤šå¸¸è§ä»»åŠ¡éƒ½èƒ½ç”¨æ¡†æ¶æ¥åšã€‚ä¾‹å¦‚éŸ³é¢‘ä¸è§†é¢‘å¤„ç†ã€ç½‘ç»œé€šä¿¡ã€æ•°æ®ç®¡ç†ç­‰ã€‚</li>
<li>ç”¨çº¯<code>C</code>å†™æˆçš„æ¡†æ¶ä¸ç”¨<code>OC</code>å†™æˆçš„ä¸€æ ·é‡è¦ï¼Œè‹¥æƒ³æˆä¸ºä¼˜ç§€çš„<code>OC</code>å¼€å‘è€…ï¼Œåº”è¯¥æŒæ¡<code>C</code>è¯­è¨€çš„æ ¸å¿ƒæ¦‚å¿µã€‚</li>
</ul>
<h3 id="ç¬¬-46-æ¡ï¼šå¤šç”¨å—æšä¸¾ï¼Œå°‘ç”¨-for-å¾ªç¯"><a href="#ç¬¬-46-æ¡ï¼šå¤šç”¨å—æšä¸¾ï¼Œå°‘ç”¨-for-å¾ªç¯" class="headerlink" title="ç¬¬ 46 æ¡ï¼šå¤šç”¨å—æšä¸¾ï¼Œå°‘ç”¨ for å¾ªç¯"></a>ç¬¬ 46 æ¡ï¼šå¤šç”¨å—æšä¸¾ï¼Œå°‘ç”¨ for å¾ªç¯</h3><p>éå†<code>collection</code>æœ‰å››ç§æ–¹å¼ã€‚æœ€åŸºæœ¬çš„åŠæ³•æ˜¯<code>forå¾ªç¯</code>ï¼Œå…¶æ¬¡æ˜¯<code>NSEnumeratoréå†æ³•</code>åŠ<code>å¿«é€Ÿéå†æ³•</code>ï¼Œæœ€æ–°æœ€å…ˆè¿›çš„æ–¹å¼åˆ™æ˜¯<code>â€œå—æšä¸¾æ³•â€</code>ã€‚</p>
<ul>
<li>å››ç§éå†æ–¹æ³•ï¼š<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> *testArray = @[@<span class="number">1</span>, @<span class="number">2</span>, @<span class="number">3</span>, @<span class="number">4</span>, @<span class="number">5</span>];</span><br><span class="line"><span class="comment">// for å¾ªç¯éå†</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; testArray.count; i ++) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"testArray[%d] = %@"</span>, i, testArray[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// NSEnumeratoréå†æ³•</span></span><br><span class="line"><span class="built_in">NSEnumerator</span> *enumerator = [testArray objectEnumerator];</span><br><span class="line"><span class="keyword">id</span> object;</span><br><span class="line"><span class="keyword">while</span> ((object = [enumerator nextObject]) != <span class="literal">nil</span>) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"object = %@"</span>, object);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¿«é€Ÿéå†</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">NSObject</span> *obj <span class="keyword">in</span> testArray) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"obj = %@"</span>, obj);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å—æšä¸¾éå†æ•°ç»„</span></span><br><span class="line">[testArray enumerateObjectsUsingBlock:^(<span class="keyword">id</span>  _Nonnull obj, <span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> * _Nonnull stop) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"idx = %zd, obj = %@"</span>, idx, obj);</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å—æšä¸¾éå†å­—å…¸</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *testDic = @&#123;<span class="string">@"name"</span>:<span class="string">@"liu zhong ning"</span>,<span class="string">@"age"</span>:<span class="string">@"25"</span>&#125;;</span><br><span class="line">[testDic enumerateKeysAndObjectsUsingBlock:^(<span class="built_in">NSString</span> * key,<span class="keyword">id</span> object,<span class="built_in">BOOL</span> * stop)&#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"testDic[%@] = %@"</span>, key, object);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>å—æšä¸¾æ³•æ‹¥æœ‰å…¶ä»–éå†æ–¹å¼éƒ½å…·å¤‡çš„ä¼˜åŠ¿ï¼Œè€Œä¸”è¿˜èƒ½å¸¦æ¥æ›´å¤šå¥½å¤„ï¼Œåœ¨éå†å­—å…¸çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥åŒæ—¶æä¾›é”®å’Œå€¼ï¼Œè€Œä¸”è¿˜æœ‰é€‰é¡¹å¯ä»¥å¼€å¯å¹¶å‘è¿­ä»£åŠŸèƒ½ï¼Œæ‰€ä»¥å¤šå†™ç‚¹ä»£ç è¿˜æ˜¯å€¼çš„ã€‚</p>
<h3 id="ç¬¬-47-æ¡ï¼šå¯¹è‡ªå®šä¹‰å…¶å†…å­˜ç®¡ç†è¯­ä¹‰çš„collectionä½¿ç”¨æ— ç¼æ¡¥æ¥"><a href="#ç¬¬-47-æ¡ï¼šå¯¹è‡ªå®šä¹‰å…¶å†…å­˜ç®¡ç†è¯­ä¹‰çš„collectionä½¿ç”¨æ— ç¼æ¡¥æ¥" class="headerlink" title="ç¬¬ 47 æ¡ï¼šå¯¹è‡ªå®šä¹‰å…¶å†…å­˜ç®¡ç†è¯­ä¹‰çš„collectionä½¿ç”¨æ— ç¼æ¡¥æ¥"></a>ç¬¬ 47 æ¡ï¼šå¯¹è‡ªå®šä¹‰å…¶å†…å­˜ç®¡ç†è¯­ä¹‰çš„<code>collection</code>ä½¿ç”¨æ— ç¼æ¡¥æ¥</h3><p>é€šè¿‡æ— ç¼æ¡¥æ¥æŠ€æœ¯ï¼Œå¯ä»¥åœ¨<code>Foundation</code>æ¡†æ¶ä¸­çš„<code>OC</code>å¯¹è±¡ä¸<code>CoreFoundation</code>æ¡†æ¶ä¸­çš„<code>C</code>è¯­è¨€æ•°æ®ç»“æ„ä¹‹é—´æ¥å›è½¬æ¢ã€‚</p>
<ul>
<li>ç®€å•çš„æ— ç¼æ¡¥æ¥ç¤ºä¾‹ï¼š</li>
</ul>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NSArray *testNSArray = @[@1, @2, @3, @4, @5];</span><br><span class="line">CFArrayRef testCFArray = (__bridge CFArrayRef)testNSArray;</span><br><span class="line">NSLog(@<span class="string">"Size of array = %li"</span>, CFArrayGetCount(testCFArray));</span><br><span class="line">// Outputï¼šSize of<span class="built_in"> array </span>= 5</span><br></pre></td></tr></table></figure>
<ul>
<li>__bridgeï¼šARCä»ç„¶å…·å¤‡è¿™ä¸ªObjectiveå¯¹è±¡çš„æ‰€æœ‰æƒã€‚</li>
<li>__bridge_retained:ARCå°†äº¤å‡ºå¯¹è±¡çš„æ‰€æœ‰æƒã€‚</li>
<li>__bridge_transferï¼šCè½¬åŒ–ä¸ºOC</li>
</ul>
<p>æƒ³æ·±å…¥äº†è§£æ— ç¼æ¡¥æ¥æŠ€æœ¯çš„ç«¥é‹å¯ä»¥ç‚¹å‡»è¿™é‡Œï¼š<a href="https://developer.apple.com/library/content/documentation/CoreFoundation/Conceptual/CFDesignConcepts/Articles/tollFreeBridgedTypes.html" target="_blank" rel="noopener">iOSæ— ç¼æ¡¥æ¥å®˜æ–¹æ–‡æ¡£</a></p>
<h3 id="ç¬¬-48-æ¡ï¼šæ„å»ºç¼“å­˜æ—¶é€‰ç”¨-NSCache-è€Œé-NSDictionary"><a href="#ç¬¬-48-æ¡ï¼šæ„å»ºç¼“å­˜æ—¶é€‰ç”¨-NSCache-è€Œé-NSDictionary" class="headerlink" title="ç¬¬ 48 æ¡ï¼šæ„å»ºç¼“å­˜æ—¶é€‰ç”¨ NSCache è€Œé NSDictionary"></a>ç¬¬ 48 æ¡ï¼šæ„å»ºç¼“å­˜æ—¶é€‰ç”¨ NSCache è€Œé NSDictionary</h3><ul>
<li>å®ç°ç¼“å­˜æ—¶åº”é€‰ç”¨<code>NSCache</code>è€Œé<code>NSDictionary</code>å¯¹è±¡ã€‚å› ä¸º<code>NSCache</code>å¯ä»¥æä¾›ä¼˜é›…çš„è‡ªåŠ¨åˆ å‡åŠŸèƒ½ï¼Œè€Œä¸”æ˜¯â€œçº¿ç¨‹å®‰å…¨çš„â€ï¼Œæ­¤å¤–ï¼Œå®ƒä¸å­—å…¸ä¸åŒï¼Œå¹¶ä¸ä¼šæ‹·è´é”®ã€‚</li>
<li>å¯ä»¥ç»™<code>NSCache</code>å¯¹è±¡è®¾ç½®ä¸Šé™ï¼Œç”¨ä»¥é™åˆ¶ç¼“å­˜ä¸­çš„å¯¹è±¡æ€»ä¸ªæ•°åŠâ€œæ€»æˆæœ¬â€ï¼Œè€Œè¿™äº›å°ºåº¦åˆ™å®šä¹‰äº†ç¼“å­˜åˆ å‡å…¶ä¸­å¯¹è±¡çš„æ—¶æœºã€‚ä½†æ˜¯ç»å¯¹ä¸è¦æŠŠè¿™äº›å°ºåº¦å½“æˆå¯é çš„â€œç¡¬é™åˆ¶â€ï¼Œä»–ä»¬ä»…å¯¹<code>NSCache</code>èµ·æŒ‡å¯¼ä½œç”¨ã€‚</li>
<li>å°†<code>NSPurgeableData</code>ä¸<code>NSCache</code>æ­é…ä½¿ç”¨ï¼Œå¯å®ç°è‡ªåŠ¨æ¸…é™¤æ•°æ®çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“<code>NSPurgeableData</code>å¯¹è±¡æ‰€å å†…å­˜ä¸ºç³»ç»Ÿæ‰€ä¸¢å¼ƒæ—¶ï¼Œè¯¥å¯¹è±¡è‡ªèº«ä¹Ÿä¼šä»ç¼“å­˜ä¸­ç§»é™¤ã€‚</li>
<li>å¦‚æœç¼“å­˜ä½¿ç”¨å¾—å½“ï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºçš„ç›¸åº”é€Ÿåº¦å°±èƒ½æé«˜ã€‚åªæœ‰é‚£ç§â€œé‡æ–°è®¡ç®—èµ·æ¥å¾ˆè´¹äº‹çš„â€æ•°æ®ï¼Œæ‰å€¼å¾—æ”¾å…¥ç¼“å­˜ï¼Œæ¯”å¦‚é‚£äº›éœ€è¦ä»ç½‘ç»œè·å–æˆ–ä»ç£ç›˜è¯»å–çš„æ•°æ®ã€‚</li>
</ul>
<h3 id="ç¬¬-49-æ¡ï¼šç²¾ç®€-initialize-ä¸-load-çš„å®ç°ä»£ç "><a href="#ç¬¬-49-æ¡ï¼šç²¾ç®€-initialize-ä¸-load-çš„å®ç°ä»£ç " class="headerlink" title="ç¬¬ 49 æ¡ï¼šç²¾ç®€ initialize ä¸ load çš„å®ç°ä»£ç "></a>ç¬¬ 49 æ¡ï¼šç²¾ç®€ initialize ä¸ load çš„å®ç°ä»£ç </h3><ul>
<li>å½“ç¨‹åºå¯åŠ¨çš„æ—¶å€™ï¼Œç±»å’Œåˆ†ç±»ï¼Œå¿…å®šä¼šè°ƒåŠ¨ä¸”ä»…è°ƒç”¨ä¸€æ¬¡<code>load</code>æ–¹æ³•ã€‚å…ˆè°ƒç”¨ç±»çš„<code>load</code>æ–¹æ³•ï¼Œå†è°ƒç”¨åˆ†ç±»çš„<code>load</code>æ–¹æ³•ã€‚å…ˆè°ƒç”¨è¶…ç±»çš„<code>load</code>æ–¹æ³•ï¼Œå†è°ƒç”¨å­ç±»çš„<code>load</code>æ–¹æ³•ã€‚<code>load</code>æ–¹æ³•éœ€è¦å®ç°å¾—ç²¾ç®€ä¸€äº›ï¼Œå› ä¸ºæ•´ä¸ªåº”ç”¨ç¨‹åºä¼šåœ¨æ‰§è¡Œ<code>load</code>æ–¹æ³•æ—¶éƒ½ä¼šé˜»å¡ã€‚</li>
<li><code>initialize</code>æ–¹æ³•ä¼šåœ¨ç¨‹åºé¦–æ¬¡ç”¨è¯¥ç±»ä¹‹å‰è°ƒç”¨ï¼Œä¸”åªè°ƒç”¨ä¸€æ¬¡ã€‚<code>initialize</code>æ˜¯â€œæ‡’åŠ è½½â€çš„ï¼Œå¦‚æœæŸä¸ªç±»ä¸€ç›´éƒ½æ²¡æœ‰ä½¿ç”¨ï¼Œå°±ä¸ä¼šæ‰§è¡Œè¯¥ç±»çš„<code>initialize</code>æ–¹æ³•ã€‚<code>initialize</code>æ–¹æ³•å¯ä»¥å®‰å…¨ä½¿ç”¨å¹¶è°ƒç”¨ä»»æ„ç±»ä¸­çš„ä»»æ„æ–¹æ³•ã€‚<code>initialize</code>æ–¹æ³•åªåº”è¯¥ç”¨æ¥è®¾ç½®å†…éƒ¨æ•°æ®ï¼Œä¸åº”è¯¥åœ¨å…¶ä¸­è°ƒç”¨å…¶ä»–æ–¹æ³•ã€‚</li>
<li>åœ¨åŠ è½½é˜¶æ®µï¼Œå¦‚æœç±»å®ç°äº†<code>load</code>æ–¹æ³•ï¼Œé‚£ä¹ˆç³»ç»Ÿå°±ä¼šè°ƒç”¨å®ƒã€‚åˆ†ç±»é‡Œä¹Ÿå¯ä»¥å®šä¹‰æ­¤æ–¹æ³•ï¼Œç±»çš„<code>load</code>æ–¹æ³•è¦æ¯”åˆ†ç±»ä¸­çš„å…ˆè°ƒç”¨ã€‚ä¸å…¶ä»–æ–¹æ³•ä¸åŒï¼Œ<code>load</code>æ–¹æ³•ä¸å‚ä¸è¦†å†™æœºåˆ¶ã€‚</li>
<li>é¦–æ¬¡ä½¿ç”¨æŸä¸ªç±»ä¹‹å‰ï¼Œç³»ç»Ÿä¼šå‘å…¶å‘é€<code>initialize</code>æ¶ˆæ¯ã€‚ç”±äºæ­¤æ–¹æ³•éµä»æ™®é€šçš„è¦†å†™è§„åˆ™ï¼Œæ‰€ä»¥é€šå¸¸åº”è¯¥åœ¨é‡Œé¢åˆ¤æ–­å½“å‰è¦åˆå§‹åŒ–çš„æ˜¯å“ªä¸ªç±»ã€‚</li>
<li><code>load</code>ä¸<code>initialize</code> æ–¹æ³•éƒ½åº”è¯¥å®ç°çš„ç²¾ç®€ä¸€ç‚¹ï¼Œè¿™æ ·æœ‰åŠ©äºä¿æŒåº”ç”¨ç¨‹åºçš„å“åº”èƒ½åŠ›ï¼Œä¹Ÿå¯ä»¥å‡å°‘å¼•å…¥ä¾èµ–ç¯çš„å‡ ç‡ã€‚</li>
<li>æ— æ³•åœ¨ç¼–è¯‘å™¨è®¾å®šçš„å…¨å±€å˜é‡ï¼Œå¯ä»¥æ”¾åœ¨<code>initialize</code>æ–¹æ³•é‡Œåˆå§‹åŒ–ã€‚</li>
</ul>
<h3 id="ç¬¬-50-æ¡ï¼šåˆ«å¿˜äº†-NSTimer-ä¼šä¿ç•™å…¶ç›®æ ‡å¯¹è±¡"><a href="#ç¬¬-50-æ¡ï¼šåˆ«å¿˜äº†-NSTimer-ä¼šä¿ç•™å…¶ç›®æ ‡å¯¹è±¡" class="headerlink" title="ç¬¬ 50 æ¡ï¼šåˆ«å¿˜äº† NSTimer ä¼šä¿ç•™å…¶ç›®æ ‡å¯¹è±¡"></a>ç¬¬ 50 æ¡ï¼šåˆ«å¿˜äº† NSTimer ä¼šä¿ç•™å…¶ç›®æ ‡å¯¹è±¡</h3><p>å¼€å‘ä¸­ç»å¸¸ä¼šç”¨åˆ°NSTimerï¼Œç”±äºå®šæ—¶å™¨NSTimerä¼šä¿ç•™å…¶ç›®æ ‡å¯¹è±¡ï¼Œæ‰€ä»¥åå¤æ‰§è¡Œä»»åŠ¡é€šå¸¸ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºå‡ºé—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´å¾ˆå®¹æ˜“é€ æˆå¾ªç¯å¼•ç”¨ã€‚è¯·çœ‹ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NNTimer</span>: <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)startPolling;</span><br><span class="line">- (<span class="keyword">void</span>)stopPolling;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NNTimer</span> </span>&#123;</span><br><span class="line"><span class="built_in">NSTimer</span> *_pollTimer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)init &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="keyword">super</span> init];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)dealloc &#123;</span><br><span class="line">[_pollTimer invalidate];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)stopPolling &#123;</span><br><span class="line"></span><br><span class="line">[_pollTimer invalidate];</span><br><span class="line">_pollTimer = <span class="literal">nil</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)startPolling &#123;</span><br><span class="line">_pollTimer = [<span class="built_in">NSTimer</span> scheduledTimerWithTimeInterval:<span class="number">5.0</span></span><br><span class="line">target:<span class="keyword">self</span></span><br><span class="line">selector:<span class="keyword">@selector</span>(p_doPoll)</span><br><span class="line">userInfo:<span class="literal">nil</span></span><br><span class="line">repeats:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)p_doPoll &#123;</span><br><span class="line"><span class="comment">// Poll the resource</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™æ®µä»£ç æ˜¯å­˜åœ¨é—®é¢˜çš„ã€‚å¦‚æœåˆ›å»ºäº†æœ¬ç±»çš„å®ä¾‹ï¼Œå¹¶è°ƒç”¨å…¶startPollingæ–¹æ³•ï¼Œé‚£ä¹ˆä¼šå¦‚ä½•å‘¢ï¼Ÿåˆ›å»ºè®¡æ—¶å™¨çš„æ—¶å€™ï¼Œç”±äºç›®æ ‡å¯¹è±¡æ˜¯selfï¼Œæ‰€ä»¥è¦ä¿ç•™æ­¤å®ä¾‹ã€‚ç„¶è€Œï¼Œå› ä¸ºè®¡æ—¶å™¨æ˜¯ç”¨å®ä¾‹å˜é‡å­˜æ”¾çš„ï¼Œæ‰€ä»¥å®ä¾‹ä¹Ÿä¿ç•™äº†è®¡æ—¶å™¨ï¼Œäºæ˜¯å°±äº§ç”Ÿäº†ä¿ç•™ç¯ã€‚</p>
<p>å•ä»è®¡æ—¶å™¨æœ¬èº«å…¥æ‰‹ï¼Œä½ ä¼šå‘ç°å¾ˆéš¾è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡â€œå—â€æ¥è§£å†³ã€‚è™½ç„¶è®¡æ—¶å™¨å½“å‰ä¸ç›´æ¥æ”¯æŒå—ï¼Œä½†æ˜¯å¯ä»¥ç”¨ä¸‹é¢è¿™æ®µä»£ç ä¸ºå…¶æ·»åŠ æ­¤åŠŸèƒ½ï¼š<br>.hæ–‡ä»¶ï¼š<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NSTimer</span> (<span class="title">NNBlocksSupport</span>)</span></span><br><span class="line">+ (<span class="built_in">NSTimer</span> *)nn_scheduledTimerWithTimeInterval:(<span class="built_in">NSTimeInterval</span>)interval</span><br><span class="line">block:(<span class="keyword">void</span>(^)(<span class="keyword">void</span>))block</span><br><span class="line">repeats:(<span class="built_in">BOOL</span>)repeats;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p>.mæ–‡ä»¶ï¼š<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"NSTimer+NNBlocksSupport.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NSTimer</span> (<span class="title">NNBlocksSupport</span>)</span></span><br><span class="line"></span><br><span class="line">+ (<span class="built_in">NSTimer</span> *)nn_scheduledTimerWithTimeInterval:(<span class="built_in">NSTimeInterval</span>)interval</span><br><span class="line">block:(<span class="keyword">void</span>(^)(<span class="keyword">void</span>))block</span><br><span class="line">repeats:(<span class="built_in">BOOL</span>)repeats &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="keyword">self</span> scheduledTimerWithTimeInterval:interval</span><br><span class="line">target:<span class="keyword">self</span></span><br><span class="line">selector:<span class="keyword">@selector</span>(nn_blockInvoke:)</span><br><span class="line">userInfo:[block <span class="keyword">copy</span>]</span><br><span class="line">repeats:repeats];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (<span class="keyword">void</span>)nn_blockInvoke:(<span class="built_in">NSTimer</span> *)timer &#123;</span><br><span class="line"><span class="keyword">void</span> (^block)(<span class="keyword">void</span>) = timer.userInfo;</span><br><span class="line"><span class="keyword">if</span> (block) &#123;</span><br><span class="line">block();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></p>
<p>ç»“æŸè¯­ï¼šç”±äºä¸ªäººèƒ½åŠ›æœ‰é™ï¼Œè¿™ä¸‰ç¯‡è¯»ä¹¦ç¬”è®°éš¾å…æœ‰é”™è¯¯æˆ–ä¸è¶³ä¹‹å¤„ï¼Œè¿˜æœ›å„ä½é“å‹èƒ½ä¸åèµæ•™ï¼Œè°¢è°¢ã€‚</p>
<p>æœ€åå®‰åˆ©ä¸€ä¸‹è¿™æœ¬ä¹¦ï¼š<a href="https://pan.baidu.com/s/1eT3gfzs" target="_blank" rel="noopener">PDFç‰ˆ</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOS è·å–è®¾å¤‡çš„å„ç§ä¿¡æ¯/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOS è·å–è®¾å¤‡çš„å„ç§ä¿¡æ¯/" itemprop="url">
                  iOS è·å–è®¾å¤‡çš„å„ç§ä¿¡æ¯
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="iOS-è·å–è®¾å¤‡çš„å„ç§ä¿¡æ¯"><a href="#iOS-è·å–è®¾å¤‡çš„å„ç§ä¿¡æ¯" class="headerlink" title="iOS è·å–è®¾å¤‡çš„å„ç§ä¿¡æ¯"></a><a href="https://github.com/liuzhongning/NNDeviceInformation" target="_blank" rel="noopener">iOS è·å–è®¾å¤‡çš„å„ç§ä¿¡æ¯</a></h5><h3 id="ä¸€ã€ç›®å½•ç»“æ„"><a href="#ä¸€ã€ç›®å½•ç»“æ„" class="headerlink" title="ä¸€ã€ç›®å½•ç»“æ„:"></a>ä¸€ã€ç›®å½•ç»“æ„:</h3><ol>
<li>è·å–å±å¹•å®½åº¦ä¸é«˜åº¦</li>
<li>è·å–è®¾å¤‡ç‰ˆæœ¬å·</li>
<li>è·å–iPhoneåç§°</li>
<li>è·å–appç‰ˆæœ¬å·</li>
<li>è·å–ç”µæ± ç”µé‡</li>
<li>è·å–å½“å‰ç³»ç»Ÿåç§°</li>
<li>è·å–å½“å‰ç³»ç»Ÿç‰ˆæœ¬å·</li>
<li>è·å–é€šç”¨çš„å”¯ä¸€è¯†åˆ«ç UUID</li>
<li>è·å–å½“å‰è®¾å¤‡IP</li>
<li>è·å–æ€»å†…å­˜å¤§å°</li>
<li>è·å–å½“å‰å¯ç”¨å†…å­˜</li>
<li>è·å–ç²¾å‡†ç”µæ± ç”µé‡</li>
<li>è·å–ç”µæ± å½“å‰çš„çŠ¶æ€ï¼ˆå…±æœ‰4ç§çŠ¶æ€ï¼‰</li>
<li>è·å–è®¾å¤‡å½“å‰çš„è¯­è¨€</li>
</ol>
<h3 id="äºŒã€å…·ä½“å†…å®¹"><a href="#äºŒã€å…·ä½“å†…å®¹" class="headerlink" title="äºŒã€å…·ä½“å†…å®¹"></a>äºŒã€å…·ä½“å†…å®¹</h3><h5 id="1-è·å–å±å¹•å®½åº¦ä¸é«˜åº¦"><a href="#1-è·å–å±å¹•å®½åº¦ä¸é«˜åº¦" class="headerlink" title="1. è·å–å±å¹•å®½åº¦ä¸é«˜åº¦"></a>1. è·å–å±å¹•å®½åº¦ä¸é«˜åº¦</h5><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// å±å¹•å®½åº¦</span></span><br><span class="line">+ (CGFloat)getDeviceScreenWidth &#123;</span><br><span class="line"><span class="built_in">return</span> [UIScreen mainScreen].bounds.<span class="built_in">size</span>.<span class="built_in">width</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// å±å¹•é«˜åº¦</span></span><br><span class="line">+ (CGFloat)getDeviceScreenHeight &#123;</span><br><span class="line"><span class="built_in">return</span> [UIScreen mainScreen].bounds.<span class="built_in">size</span>.<span class="built_in">height</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>[UIScreen mainScreen].bounds.size.width</code>ç”¨çš„å¾ˆæ™®éï¼Œä¸€èˆ¬æ¥è¯´å®šä¹‰æˆå®æ›´å¥½ï¼Œç„¶åæ ¹æ®å±å¹•å®½é«˜è¿›è¡Œå°ºå¯¸çš„é€‚é…ã€‚</p>
<h5 id="2-è·å–è®¾å¤‡ç‰ˆæœ¬å·"><a href="#2-è·å–è®¾å¤‡ç‰ˆæœ¬å·" class="headerlink" title="2. è·å–è®¾å¤‡ç‰ˆæœ¬å·"></a>2. è·å–è®¾å¤‡ç‰ˆæœ¬å·</h5><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">+ (NSString *)getDeviceName &#123;</span><br><span class="line"><span class="comment">// éœ€è¦#import "sys/utsname.h"</span></span><br><span class="line">struct utsname systemInfo;</span><br><span class="line">uname(&amp;systemInfo);</span><br><span class="line">NSString *deviceString = [NSString <span class="string">stringWithCString:</span>systemInfo.machine <span class="string">encoding:</span>NSUTF8StringEncoding];</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone3,1"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 4"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone3,2"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 4"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone3,3"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 4"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone4,1"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 4S"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone5,1"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 5"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone5,2"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 5 (GSM+CDMA)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone5,3"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 5c (GSM)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone5,4"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 5c (GSM+CDMA)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone6,1"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 5s (GSM)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone6,2"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 5s (GSM+CDMA)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone7,1"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 6 Plus"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone7,2"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 6"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone8,1"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 6s"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone8,2"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone 6s Plus"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPhone8,4"</span>])    <span class="keyword">return</span> @<span class="string">"iPhone SE"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPod1,1"</span>])      <span class="keyword">return</span> @<span class="string">"iPod Touch 1G"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPod2,1"</span>])      <span class="keyword">return</span> @<span class="string">"iPod Touch 2G"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPod3,1"</span>])      <span class="keyword">return</span> @<span class="string">"iPod Touch 3G"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPod4,1"</span>])      <span class="keyword">return</span> @<span class="string">"iPod Touch 4G"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPod5,1"</span>])      <span class="keyword">return</span> @<span class="string">"iPod Touch (5 Gen)"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad1,1"</span>])      <span class="keyword">return</span> @<span class="string">"iPad"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad1,2"</span>])      <span class="keyword">return</span> @<span class="string">"iPad 3G"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad2,1"</span>])      <span class="keyword">return</span> @<span class="string">"iPad 2 (WiFi)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad2,2"</span>])      <span class="keyword">return</span> @<span class="string">"iPad 2"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad2,3"</span>])      <span class="keyword">return</span> @<span class="string">"iPad 2 (CDMA)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad2,4"</span>])      <span class="keyword">return</span> @<span class="string">"iPad 2"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad2,5"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Mini (WiFi)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad2,6"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Mini"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad2,7"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Mini (GSM+CDMA)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad3,1"</span>])      <span class="keyword">return</span> @<span class="string">"iPad 3 (WiFi)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad3,2"</span>])      <span class="keyword">return</span> @<span class="string">"iPad 3 (GSM+CDMA)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad3,3"</span>])      <span class="keyword">return</span> @<span class="string">"iPad 3"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad3,4"</span>])      <span class="keyword">return</span> @<span class="string">"iPad 4 (WiFi)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad3,5"</span>])      <span class="keyword">return</span> @<span class="string">"iPad 4"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad3,6"</span>])      <span class="keyword">return</span> @<span class="string">"iPad 4 (GSM+CDMA)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad4,1"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Air (WiFi)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad4,2"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Air (Cellular)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad4,4"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Mini 2 (WiFi)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad4,5"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Mini 2 (Cellular)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad4,6"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Mini 2"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad4,7"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Mini 3"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad4,8"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Mini 3"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad4,9"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Mini 3"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad5,1"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Mini 4 (WiFi)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad5,2"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Mini 4 (LTE)"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad5,3"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Air 2"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad5,4"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Air 2"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad6,3"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Pro 9.7"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad6,4"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Pro 9.7"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad6,7"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Pro 12.9"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"iPad6,8"</span>])      <span class="keyword">return</span> @<span class="string">"iPad Pro 12.9"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"i386"</span>])         <span class="keyword">return</span> @<span class="string">"Simulator"</span>;</span><br><span class="line"><span class="keyword">if</span> ([deviceString <span class="string">isEqualToString:</span>@<span class="string">"x86_64"</span>])       <span class="keyword">return</span> @<span class="string">"Simulator"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> deviceString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="3-è·å–iPhoneåç§°"><a href="#3-è·å–iPhoneåç§°" class="headerlink" title="3. è·å–iPhoneåç§°"></a>3. è·å–iPhoneåç§°</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// è·å–iPhoneåç§°</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)getiPhoneName &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">UIDevice</span> currentDevice].name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è·å–çš„æ˜¯ä½  iPhone çš„åå­—ã€‚</p>
<h5 id="4-è·å–appç‰ˆæœ¬å·"><a href="#4-è·å–appç‰ˆæœ¬å·" class="headerlink" title="4. è·å–appç‰ˆæœ¬å·"></a>4. è·å–appç‰ˆæœ¬å·</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// è·å–appç‰ˆæœ¬å·</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)getAPPVerion &#123;</span><br><span class="line"><span class="keyword">return</span> [[[<span class="built_in">NSBundle</span> mainBundle] infoDictionary] objectForKey:<span class="string">@"CFBundleShortVersionString"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="5-è·å–ç”µæ± ç”µé‡"><a href="#5-è·å–ç”µæ± ç”µé‡" class="headerlink" title="5. è·å–ç”µæ± ç”µé‡"></a>5. è·å–ç”µæ± ç”µé‡</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// è·å–ç”µæ± ç”µé‡</span></span><br><span class="line">+ (<span class="built_in">CGFloat</span>)getBatteryLevel &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">UIDevice</span> currentDevice].batteryLevel;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–¹æ³•è·å–ç”µæ± ç”µé‡ä¸æ˜¯å¾ˆç²¾ç¡®ï¼Œä¸‹è¾¹ä¼šä»‹ç»ä¸€ä¸ªè·å–ç²¾ç¡®ç”µæ± ç”µé‡çš„ã€‚</p>
<h5 id="6-è·å–å½“å‰ç³»ç»Ÿåç§°"><a href="#6-è·å–å½“å‰ç³»ç»Ÿåç§°" class="headerlink" title="6. è·å–å½“å‰ç³»ç»Ÿåç§°"></a>6. è·å–å½“å‰ç³»ç»Ÿåç§°</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// å½“å‰ç³»ç»Ÿåç§°</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)getSystemName &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">UIDevice</span> currentDevice].systemName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="7-è·å–å½“å‰ç³»ç»Ÿç‰ˆæœ¬å·"><a href="#7-è·å–å½“å‰ç³»ç»Ÿç‰ˆæœ¬å·" class="headerlink" title="7. è·å–å½“å‰ç³»ç»Ÿç‰ˆæœ¬å·"></a>7. è·å–å½“å‰ç³»ç»Ÿç‰ˆæœ¬å·</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// å½“å‰ç³»ç»Ÿç‰ˆæœ¬å·</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)getSystemVersion &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">UIDevice</span> currentDevice].systemVersion;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="8-è·å–é€šç”¨çš„å”¯ä¸€è¯†åˆ«ç UUID"><a href="#8-è·å–é€šç”¨çš„å”¯ä¸€è¯†åˆ«ç UUID" class="headerlink" title="8. è·å–é€šç”¨çš„å”¯ä¸€è¯†åˆ«ç UUID"></a>8. è·å–é€šç”¨çš„å”¯ä¸€è¯†åˆ«ç UUID</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// é€šç”¨å”¯ä¸€è¯†åˆ«ç UUID</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)getUUID &#123;</span><br><span class="line"><span class="keyword">return</span> [[<span class="built_in">UIDevice</span> currentDevice] identifierForVendor].UUIDString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="9-è·å–å½“å‰è®¾å¤‡IP"><a href="#9-è·å–å½“å‰è®¾å¤‡IP" class="headerlink" title="9. è·å–å½“å‰è®¾å¤‡IP"></a>9. è·å–å½“å‰è®¾å¤‡IP</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–å½“å‰è®¾å¤‡IP</span></span><br><span class="line">+ (NSString *)getDeviceIPAdress &#123;</span><br><span class="line">NSString *address = @<span class="string">"an error occurred when obtaining ip address"</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ifaddrs</span></span> *interfaces = NULL;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ifaddrs</span></span> *temp_addr = NULL;</span><br><span class="line">int success = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">success = getifaddrs(&amp;interfaces);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (success == <span class="number">0</span>) &#123; <span class="comment">// 0 è¡¨ç¤ºè·å–æˆåŠŸ</span></span><br><span class="line"></span><br><span class="line">temp_addr = interfaces;</span><br><span class="line"><span class="keyword">while</span> (temp_addr != NULL) &#123;</span><br><span class="line"><span class="keyword">if</span>( temp_addr-&gt;ifa_addr-&gt;sa_family == AF_INET) &#123;</span><br><span class="line"><span class="comment">// Check if interface is en0 which is the wifi connection on the iPhone</span></span><br><span class="line"><span class="keyword">if</span> ([[NSString stringWithUTF8String:temp_addr-&gt;ifa_name] isEqualToString:@<span class="string">"en0"</span>]) &#123;</span><br><span class="line"><span class="comment">// Get NSString from C String</span></span><br><span class="line">address = [NSString stringWithUTF8String:inet_ntoa(((<span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span></span> *)temp_addr-&gt;ifa_addr)-&gt;sin_addr)];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">temp_addr = temp_addr-&gt;ifa_next;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">freeifaddrs(interfaces);</span><br><span class="line"><span class="keyword">return</span> address;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="10-è·å–æ€»å†…å­˜å¤§å°"><a href="#10-è·å–æ€»å†…å­˜å¤§å°" class="headerlink" title="10. è·å–æ€»å†…å­˜å¤§å°"></a>10. è·å–æ€»å†…å­˜å¤§å°</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// è·å–æ€»å†…å­˜å¤§å°</span></span><br><span class="line">+ (<span class="keyword">long</span> <span class="keyword">long</span>)getTotalMemorySize &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">NSProcessInfo</span> processInfo].physicalMemory;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="11-è·å–å½“å‰å¯ç”¨å†…å­˜"><a href="#11-è·å–å½“å‰å¯ç”¨å†…å­˜" class="headerlink" title="11. è·å–å½“å‰å¯ç”¨å†…å­˜"></a>11. è·å–å½“å‰å¯ç”¨å†…å­˜</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// è·å–å½“å‰å¯ç”¨å†…å­˜</span></span><br><span class="line">+ (<span class="keyword">long</span> <span class="keyword">long</span>)getAvailableMemorySize &#123;</span><br><span class="line"><span class="keyword">vm_statistics_data_t</span> vmStats;</span><br><span class="line"><span class="keyword">mach_msg_type_number_t</span> infoCount = HOST_VM_INFO_COUNT;</span><br><span class="line"><span class="keyword">kern_return_t</span> kernReturn = host_statistics(mach_host_self(), HOST_VM_INFO, (<span class="keyword">host_info_t</span>)&amp;vmStats, &amp;infoCount);</span><br><span class="line"><span class="keyword">if</span> (kernReturn != KERN_SUCCESS)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> NSNotFound;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ((vm_page_size * vmStats.free_count + vm_page_size * vmStats.inactive_count));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="12-è·å–ç²¾å‡†ç”µæ± ç”µé‡"><a href="#12-è·å–ç²¾å‡†ç”µæ± ç”µé‡" class="headerlink" title="12. è·å–ç²¾å‡†ç”µæ± ç”µé‡"></a>12. è·å–ç²¾å‡†ç”µæ± ç”µé‡</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// è·å–ç²¾å‡†ç”µæ± ç”µé‡</span></span><br><span class="line">+ (<span class="built_in">CGFloat</span>)getCurrentBatteryLevel &#123;</span><br><span class="line"><span class="built_in">UIApplication</span> *app = [<span class="built_in">UIApplication</span> sharedApplication];</span><br><span class="line"><span class="keyword">if</span> (app.applicationState == <span class="built_in">UIApplicationStateActive</span>||app.applicationState==<span class="built_in">UIApplicationStateInactive</span>) &#123;</span><br><span class="line">Ivar ivar=  class_getInstanceVariable([app <span class="keyword">class</span>],<span class="string">"_statusBar"</span>);</span><br><span class="line"><span class="keyword">id</span> status  = object_getIvar(app, ivar);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">id</span> aview <span class="keyword">in</span> [status subviews]) &#123;</span><br><span class="line"><span class="keyword">int</span> batteryLevel = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">id</span> bview <span class="keyword">in</span> [aview subviews]) &#123;</span><br><span class="line"><span class="keyword">if</span> ([<span class="built_in">NSStringFromClass</span>([bview <span class="keyword">class</span>]) caseInsensitiveCompare:<span class="string">@"UIStatusBarBatteryItemView"</span>] == <span class="built_in">NSOrderedSame</span>&amp;&amp;[[[<span class="built_in">UIDevice</span> currentDevice] systemVersion] floatValue] &gt;=<span class="number">6.0</span>) &#123;</span><br><span class="line"></span><br><span class="line">Ivar ivar=  class_getInstanceVariable([bview <span class="keyword">class</span>],<span class="string">"_capacity"</span>);</span><br><span class="line"><span class="keyword">if</span>(ivar) &#123;</span><br><span class="line">batteryLevel = ((<span class="keyword">int</span> (*)(<span class="keyword">id</span>, Ivar))object_getIvar)(bview, ivar);</span><br><span class="line"><span class="keyword">if</span> (batteryLevel &gt; <span class="number">0</span> &amp;&amp; batteryLevel &lt;= <span class="number">100</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> batteryLevel;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸ªæ–¹æ³•æ˜¯é€šè¿‡ runtime è·å–ç”µæ± ç”µé‡æ§ä»¶ç±»ç§æœ‰å˜é‡çš„å€¼ï¼Œè¾ƒä¸ºç²¾ç¡®ã€‚</p>
<h5 id="13-è·å–ç”µæ± å½“å‰çš„çŠ¶æ€ï¼ˆå…±æœ‰4ç§çŠ¶æ€ï¼‰"><a href="#13-è·å–ç”µæ± å½“å‰çš„çŠ¶æ€ï¼ˆå…±æœ‰4ç§çŠ¶æ€ï¼‰" class="headerlink" title="13. è·å–ç”µæ± å½“å‰çš„çŠ¶æ€ï¼ˆå…±æœ‰4ç§çŠ¶æ€ï¼‰"></a>13. è·å–ç”µæ± å½“å‰çš„çŠ¶æ€ï¼ˆå…±æœ‰4ç§çŠ¶æ€ï¼‰</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// è·å–ç”µæ± å½“å‰çš„çŠ¶æ€ï¼Œå…±æœ‰4ç§çŠ¶æ€</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *) getBatteryState &#123;</span><br><span class="line"><span class="built_in">UIDevice</span> *device = [<span class="built_in">UIDevice</span> currentDevice];</span><br><span class="line"><span class="keyword">if</span> (device.batteryState == <span class="built_in">UIDeviceBatteryStateUnknown</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">@"UnKnow"</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (device.batteryState == <span class="built_in">UIDeviceBatteryStateUnplugged</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">@"Unplugged"</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (device.batteryState == <span class="built_in">UIDeviceBatteryStateCharging</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">@"Charging"</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (device.batteryState == <span class="built_in">UIDeviceBatteryStateFull</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">@"Full"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="14-è·å–è®¾å¤‡å½“å‰çš„è¯­è¨€"><a href="#14-è·å–è®¾å¤‡å½“å‰çš„è¯­è¨€" class="headerlink" title="14. è·å–è®¾å¤‡å½“å‰çš„è¯­è¨€"></a>14. è·å–è®¾å¤‡å½“å‰çš„è¯­è¨€</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// è·å–å½“å‰è¯­è¨€</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)getDeviceLanguage &#123;</span><br><span class="line"><span class="built_in">NSArray</span> *languageArray = [<span class="built_in">NSLocale</span> preferredLanguages];</span><br><span class="line"><span class="keyword">return</span> [languageArray objectAtIndex:<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="æç¤ºï¼šä¸Šé¢ä»£ç å¦‚æœç›´æ¥å¤åˆ¶çš„è¯æœ‰äº›ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸ºéœ€è¦å¯¼å…¥å¤´æ–‡ä»¶ï¼Œè¯¦ç»†ä»£ç è¯·ç‚¹å‡»-iOS-è·å–è®¾å¤‡çš„å„ç§ä¿¡æ¯ã€‚"><a href="#æç¤ºï¼šä¸Šé¢ä»£ç å¦‚æœç›´æ¥å¤åˆ¶çš„è¯æœ‰äº›ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸ºéœ€è¦å¯¼å…¥å¤´æ–‡ä»¶ï¼Œè¯¦ç»†ä»£ç è¯·ç‚¹å‡»-iOS-è·å–è®¾å¤‡çš„å„ç§ä¿¡æ¯ã€‚" class="headerlink" title="æç¤ºï¼šä¸Šé¢ä»£ç å¦‚æœç›´æ¥å¤åˆ¶çš„è¯æœ‰äº›ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸ºéœ€è¦å¯¼å…¥å¤´æ–‡ä»¶ï¼Œè¯¦ç»†ä»£ç è¯·ç‚¹å‡» iOS è·å–è®¾å¤‡çš„å„ç§ä¿¡æ¯ã€‚"></a>æç¤ºï¼šä¸Šé¢ä»£ç å¦‚æœç›´æ¥å¤åˆ¶çš„è¯æœ‰äº›ä¼šæŠ¥é”™ï¼Œè¿™æ˜¯å› ä¸ºéœ€è¦å¯¼å…¥å¤´æ–‡ä»¶ï¼Œè¯¦ç»†ä»£ç è¯·ç‚¹å‡» <a href="https://github.com/liuzhongning/NNDeviceInformation" target="_blank" rel="noopener">iOS è·å–è®¾å¤‡çš„å„ç§ä¿¡æ¯</a>ã€‚</h4>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOSå¼€å‘ - ä»¿ç®€ä¹¦ä¸ªäººä¸»é¡µå¤šé¡µé¢æ»‘åŠ¨è§†å›¾/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOSå¼€å‘ - ä»¿ç®€ä¹¦ä¸ªäººä¸»é¡µå¤šé¡µé¢æ»‘åŠ¨è§†å›¾/" itemprop="url">
                  iOSå¼€å‘ - ä»¿ç®€ä¹¦ä¸ªäººä¸»é¡µå¤šé¡µé¢æ»‘åŠ¨è§†å›¾
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>ä¹‹å‰é¡¹ç›®ä¸­å¾ˆå¤šåœ°æ–¹ç”¨åˆ°äº†æ»‘åŠ¨è§†å›¾ï¼Œä¸‰ä¸ªç•Œé¢äº”ä¸ªç•Œé¢æˆ–ç•Œé¢ä¸ªæ•°ä¸å®šçš„æƒ…å†µéƒ½æœ‰ï¼Œè¿™é‡Œä»¥ç®€ä¹¦ APP çš„ä¸ªäººä¸»é¡µä¸ºä¾‹ï¼Œæ€»ç»“ä¸€ä¸‹ï¼Œä¸€åˆ™å¯¹è‡ªå·±ä¹Ÿæœ‰å¥½å¤„ï¼ŒäºŒåˆ™å¸Œæœ›å¯¹çœ‹åˆ°çš„æœ‹å‹æœ‰æ‰€å¸®åŠ©ã€‚</p>
</blockquote>
<ul>
<li><p>ç®€ä¹¦APPä¸ªäººä¸»é¡µï¼š<br><img src="http://upload-images.jianshu.io/upload_images/2665449-5b13d9033bba3752.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç®€ä¹¦APPä¸ªäººä¸»é¡µ"></p>
</li>
<li><p>demo æ•ˆæœå›¾ï¼š</p>
</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-64f7bc0e3b50267d.gif?imageMogr2/auto-orient/strip" alt="demo æ•ˆæœå›¾"></p>
<ul>
<li>demo åœ°å€ï¼š<a href="https://github.com/liuzhongning/NNJaneBookView" target="_blank" rel="noopener">https://github.com/liuzhongning/NNJaneBookView</a></li>
</ul>
<h4 id="ç®€å•è¯´ä¸‹æ€è·¯åŠæ ¸å¿ƒä»£ç ï¼š"><a href="#ç®€å•è¯´ä¸‹æ€è·¯åŠæ ¸å¿ƒä»£ç ï¼š" class="headerlink" title="ç®€å•è¯´ä¸‹æ€è·¯åŠæ ¸å¿ƒä»£ç ï¼š"></a>ç®€å•è¯´ä¸‹æ€è·¯åŠæ ¸å¿ƒä»£ç ï¼š</h4><h5 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h5><ul>
<li>å¯¼èˆªæ ä¸Šé¢çš„å¤´åƒä¼šéšç€è§†å›¾çš„ä¸Šä¸‹æ»‘åŠ¨è€Œå˜å¤§å˜å°ï¼Œè¿™é‡Œæ³¨å†Œäº†ä¸€ä¸ªé€šçŸ¥ï¼Œç”¨æ¥ç›‘å¬è§†å›¾çš„ä¸Šä¸‹æ»‘åŠ¨ï¼Œå¯ä»¥æ ¹æ®åç§»é‡çš„å€¼æ¥æ”¹å˜å¤´åƒçš„å¤§å°ã€‚</li>
<li>æ­¤ UI é¡µé¢åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯ä¿¡æ¯å±•ç¤ºï¼Œç”¨æ¥æ˜¾ç¤ºæ˜µç§°ç­¾åç­‰ï¼›ç¬¬äºŒéƒ¨åˆ†æ˜¯æ ‡ç­¾æ ï¼Œå³â€œåŠ¨æ€â€ï¼Œâ€œæ–‡ç« â€ï¼Œâ€œæ›´å¤šâ€è¿™ä¸‰ä¸ªæ ‡ç­¾ï¼›ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ä¸»è¦æ˜¾ç¤ºå†…å®¹ï¼›</li>
<li>æˆ‘è¿™é‡Œç”¨äº†è¿™æ ·çš„æ€è·¯ï¼šé¡µé¢åº•éƒ¨æ˜¯ä¸€ä¸ª UIScrollView; æ¥ç€ UIScrollView ä¸Šé¢ add äº†ä¸‰ä¸ª UITableView ï¼›ä¿¡æ¯å±•ç¤ºä»¥åŠæ ‡ç­¾æ æ”¾åœ¨ UITableView çš„ tableHeaderView ä¸­ï¼›æ¥ç€æŒ¨ä¸ªå®ç°å…¶åŠŸèƒ½å³å¯ã€‚</li>
</ul>
<h5 id="æ ¸å¿ƒä»£ç ï¼š"><a href="#æ ¸å¿ƒä»£ç ï¼š" class="headerlink" title="æ ¸å¿ƒä»£ç ï¼š"></a>æ ¸å¿ƒä»£ç ï¼š</h5><ul>
<li>å¤´åƒè·Ÿéšé¡µé¢ä¸Šä¸‹æ»‘åŠ¨è€Œå˜å¤§å˜å°</li>
<li><p>è¿™é‡Œæ˜¯å¤´åƒå˜å¤§å˜å°æ—¶è°ƒç”¨çš„ä»£ç ï¼Œå¦‚æœä½ çš„é¡¹ç›®ä¸­ç”¨åˆ°äº†æ­¤åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥æŠŠè¿™ä¸ªç±»æ‹¿è¿‡å»ï¼Œç„¶åè°ƒç”¨ä¸‹é¢è¿™å‡ å¥ä»£ç å°±å¯ä»¥å®ç°äº†ã€‚å¦å¤–ç‚¹å‡»å¤´åƒçš„å›è°ƒä¹Ÿé€šè¿‡ block ä¼ äº†å‡ºæ¥ï¼Œä½ å¯ä»¥åœ¨æ­¤å¤„åšäº›æ“ä½œï¼Œæ¯”å¦‚æ›´æ”¹å¤´åƒç­‰ç­‰ã€‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.headerImageView          = [[NNPersonalHomePageHeaderImageView alloc] initWithImage:[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"header"</span>]];</span><br><span class="line">[<span class="keyword">self</span>.headerImageView reloadSizeWithScrollView:<span class="keyword">self</span>.dynamicTableView];</span><br><span class="line"><span class="keyword">self</span>.navigationItem.titleView = <span class="keyword">self</span>.headerImageView;</span><br><span class="line">[<span class="keyword">self</span>.headerImageView handleClickActionWithBlock:^&#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"ä½ ç‚¹å‡»äº†å¤´åƒæŒ‰é’®"</span>);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
</li>
<li><p>tableView çš„å¤´éƒ¨è§†å›¾</p>
</li>
<li>è¿™é‡Œå¦å¤–å»ºäº†ä¸¤ä¸ª UIView ç±»ï¼Œä¸€ä¸ªç”¨æ¥æ˜¾ç¤ºåŸºæœ¬ä¿¡æ¯ï¼ˆæ˜µç§°ç­¾åç­‰ï¼‰ï¼Œä¸€ä¸ªç”¨æ¥æ˜¾ç¤ºæ ‡ç­¾æ ï¼ˆåŠ¨æ€ï¼Œæ–‡ç« ç­‰æ ‡ç­¾ï¼‰ï¼Œé¢å¤–å»ºè¿™ä¸¤ä¸ª UIView ç±»æ˜¯ä¸ºäº†å‡å°‘æ§åˆ¶å™¨ä¸­çš„ä»£ç ã€‚</li>
</ul>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">- (void)setupHeaderView &#123;</span><br><span class="line">UIView *headerView                     = [[NNPersonalHomePageHeaderView alloc] init]<span class="comment">;</span></span><br><span class="line">headerView.frame                       = CGRectMake(<span class="number">0</span>, <span class="number">0</span>, NNScreenWidth, NNHeadViewHeight + NNTitleHeight)<span class="comment">;</span></span><br><span class="line">[self.view <span class="keyword">addSubview:headerView];</span></span><br><span class="line"><span class="keyword">self.headerView </span>                       = headerView<span class="comment">;</span></span><br><span class="line">NNPersonalHomePageTitleView *titleView = [[NNPersonalHomePageTitleView alloc] init]<span class="comment">;</span></span><br><span class="line">[headerView <span class="keyword">addSubview:titleView];</span></span><br><span class="line"><span class="keyword">self.titleView </span>                        = titleView<span class="comment">;</span></span><br><span class="line">titleView.<span class="keyword">backgroundColor </span>             = [UIColor whiteColor]<span class="comment">;</span></span><br><span class="line">[titleView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">make.left.right.mas_equalTo(headerView)<span class="comment">;</span></span><br><span class="line">make.<span class="keyword">bottom.equalTo(headerView.mas_bottom);</span></span><br><span class="line"><span class="keyword">make.height.mas_equalTo(NNTitleHeight);</span></span><br><span class="line"><span class="keyword">&#125;];</span></span><br><span class="line"><span class="keyword">[self.scrollView </span>mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">make.left.right.<span class="keyword">bottom.equalTo(self.view);</span></span><br><span class="line"><span class="keyword">make.top.mas_equalTo(headerView.top);</span></span><br><span class="line"><span class="keyword">&#125;];</span></span><br><span class="line"><span class="keyword"></span></span><br><span class="line"><span class="keyword">__weak </span>typeof(self) weakSelf = self<span class="comment">;</span></span><br><span class="line">titleView.titles             = @[@<span class="string">"åŠ¨æ€"</span>, @<span class="string">"æ–‡ç« "</span>, @<span class="string">"æ›´å¤š"</span>]<span class="comment">;</span></span><br><span class="line">titleView.selectedIndex      = <span class="number">0</span><span class="comment">;</span></span><br><span class="line">titleView.<span class="keyword">buttonSelected </span>    = ^(NSInteger index)&#123;</span><br><span class="line">[weakSelf.<span class="keyword">scrollView </span>setContentOffset:CGPointMake(NNScreenWidth * index, <span class="number">0</span>) animated:YES]<span class="comment">;</span></span><br><span class="line">&#125;<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸»è¦å†…å®¹</li>
<li><p>ä¸»è¦å†…å®¹å°±æ˜¯é¡µé¢ä¸‹éƒ¨å±•ç¤ºçš„å…·ä½“å†…å®¹ï¼Œè¿™é‡Œç”¨äº†ä¸‰ä¸ª UITableView ï¼Œä¾æ¬¡æ·»åŠ åˆ° UIScrollView ä¸­ï¼Œè¿™é‡Œä»£ç æœ‰äº›è‡ƒè‚¿ï¼ŒåæœŸå†åšä¼˜åŒ–ï¼Œæœ‰å…´è¶£çš„ç«¥é‹ä¹Ÿå¯ä»¥å¸®å¿™æ”¹ä¸€ä¸‹å“ˆã€‚</p>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">/// ä¸»è¦å†…å®¹</span><br><span class="line">- (void)setupContentView &#123;</span><br><span class="line">NNContentScrollView *<span class="attr">scrollView</span>           = [[NNContentScrollView alloc] init];</span><br><span class="line">scrollView.<span class="attr">delaysContentTouches</span>           = NO;</span><br><span class="line">[self.view addSubview:scrollView];</span><br><span class="line">self.<span class="attr">scrollView</span>                           = scrollView;</span><br><span class="line">scrollView.<span class="attr">pagingEnabled</span>                  = YES;</span><br><span class="line">scrollView.<span class="attr">showsVerticalScrollIndicator</span>   = NO;</span><br><span class="line">scrollView.<span class="attr">showsHorizontalScrollIndicator</span> = NO;</span><br><span class="line">scrollView.<span class="attr">delegate</span>                       = self;</span><br><span class="line">scrollView.<span class="attr">contentSize</span>                    = CGSizeMake(NNScreenWidth * <span class="number">3</span>, <span class="number">0</span>);</span><br><span class="line">UIView *<span class="attr">headView</span>                          = [[UIView alloc] init];</span><br><span class="line">headView.<span class="attr">frame</span>                            = CGRectMake(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, NNHeadViewHeight + NNTitleHeight);</span><br><span class="line">self.<span class="attr">tableViewHeadView</span> = headView;</span><br><span class="line"></span><br><span class="line">NNContentTableView *<span class="attr">dynamicTableView</span> = [[NNContentTableView alloc] init];</span><br><span class="line">dynamicTableView.<span class="attr">delegate</span>            = self;</span><br><span class="line">dynamicTableView.<span class="attr">separatorStyle</span>      = UITableViewCellSeparatorStyleNone;</span><br><span class="line">self.<span class="attr">dynamicTableView</span>                = dynamicTableView;</span><br><span class="line">dynamicTableView.<span class="attr">tableHeaderView</span>     = headView;</span><br><span class="line">[scrollView addSubview:dynamicTableView];</span><br><span class="line">[dynamicTableView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">make.left.equalTo(scrollView);</span><br><span class="line">make.width.mas_equalTo(NNScreenWidth);</span><br><span class="line">make.top.equalTo(self.view);</span><br><span class="line">make.bottom.equalTo(self.view);</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">NNContentTableView *<span class="attr">articleTableView</span> = [[NNContentTableView alloc] init];</span><br><span class="line">articleTableView.<span class="attr">delegate</span>            = self;</span><br><span class="line">articleTableView.<span class="attr">separatorStyle</span>      = UITableViewCellSeparatorStyleNone;</span><br><span class="line">self.<span class="attr">articleTableView</span>                = articleTableView;</span><br><span class="line">articleTableView.<span class="attr">tableHeaderView</span>     = headView;</span><br><span class="line">[scrollView addSubview:articleTableView];</span><br><span class="line">[articleTableView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">make.left.equalTo(scrollView).offset(NNScreenWidth);</span><br><span class="line">make.width.equalTo(dynamicTableView);</span><br><span class="line">make.top.bottom.equalTo(dynamicTableView);</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line">NNContentTableView *<span class="attr">moreTableView</span> = [[NNContentTableView alloc] init];</span><br><span class="line">moreTableView.<span class="attr">delegate</span>            = self;</span><br><span class="line">moreTableView.<span class="attr">separatorStyle</span>      = UITableViewCellSeparatorStyleNone;</span><br><span class="line">self.<span class="attr">moreTableView</span>                = moreTableView;</span><br><span class="line">moreTableView.<span class="attr">tableHeaderView</span>     = headView;</span><br><span class="line">[scrollView addSubview:moreTableView];</span><br><span class="line">[moreTableView mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">make.left.equalTo(scrollView).offset(NNScreenWidth * <span class="number">2</span>);</span><br><span class="line">make.width.equalTo(dynamicTableView);</span><br><span class="line">make.top.bottom.equalTo(dynamicTableView);</span><br><span class="line">&#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å·¦å³æˆ–ä¸Šä¸‹æ»‘åŠ¨é¡µé¢</p>
</li>
<li>è¿™é‡Œä¸º UIScrollView æ·»åŠ äº†ä»£ç†ï¼Œä¸€æ—¦æ»‘åŠ¨è§†å›¾ï¼Œä¾¿ä¼šè°ƒç”¨ä¸‹é¢è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚ä¸ºäº†åŒºåˆ†æ˜¯å·¦å³æ»‘åŠ¨è¿˜æ˜¯ä¸Šä¸‹æ»‘åŠ¨ï¼Œè¿™é‡Œåšäº†ç®€å•çš„åˆ¤æ–­ï¼Œ<code>if (scrollView == self.scrollView)</code>ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯å·¦å³æ»‘åŠ¨ï¼Œå› ä¸º UITableView æ˜¯ä¸Šä¸‹æ»‘åŠ¨çš„ï¼Œæ‰€æœ‰å·¦å³æ»‘åŠ¨å°±æ˜¯ UIScrollView çš„æ»‘åŠ¨ï¼Œéœ€è¦åˆ‡æ¢ UITableView çš„æ˜¾ç¤ºå†…å®¹ï¼Œåœ¨è¿™é‡Œåšç›¸åº”çš„æ“ä½œå³å¯ï¼›å¦‚æœ <code>if (scrollView == self.scrollView || !scrollView.window)</code>è¿™ä¸ªæ¡ä»¶ä¸æˆç«‹ï¼Œé‚£ä¹ˆå°±æ˜¯ UITableView çš„æ»‘åŠ¨ï¼Œå°±æ˜¯ä¸Šä¸‹æ»‘åŠ¨ï¼Œåœ¨è¿™é‡Œéœ€è¦æ”¹å˜â€œæ ‡ç­¾æ â€çš„frameï¼Œå› ä¸ºâ€œæ ‡ç­¾æ â€éœ€è¦æ˜¾ç¤ºåœ¨å¯¼èˆªæ ä¸‹è¾¹ä½ç½®ã€‚<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - UIScrollViewDelegate</span></span><br><span class="line">- (<span class="keyword">void</span>)scrollViewDidEndDecelerating:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="keyword">if</span> (scrollView == <span class="keyword">self</span>.scrollView) &#123;</span><br><span class="line"><span class="built_in">CGFloat</span> contentOffsetX       = scrollView.contentOffset.x;</span><br><span class="line"><span class="built_in">NSInteger</span> pageNum            = contentOffsetX / NNScreenWidth + <span class="number">0.5</span>;</span><br><span class="line"><span class="keyword">self</span>.titleView.selectedIndex = pageNum;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)scrollViewDidScroll:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="keyword">if</span> (scrollView == <span class="keyword">self</span>.scrollView || !scrollView.window) &#123;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">CGFloat</span> offsetY      = scrollView.contentOffset.y;</span><br><span class="line"><span class="built_in">CGFloat</span> originY      = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">CGFloat</span> otherOffsetY = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (offsetY &lt;= NNHeadViewHeight) &#123;</span><br><span class="line">originY              = -offsetY;</span><br><span class="line"><span class="keyword">if</span> (offsetY &lt; <span class="number">0</span>) &#123;</span><br><span class="line">otherOffsetY         = <span class="number">0</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">otherOffsetY         = offsetY;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">originY              = -NNHeadViewHeight;</span><br><span class="line">otherOffsetY         = NNHeadViewHeight;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">self</span>.headerView.frame = <span class="built_in">CGRectMake</span>(<span class="number">0</span>, originY, NNScreenWidth, NNHeadViewHeight + NNTitleHeight);</span><br><span class="line"><span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">self</span>.titleView.titles.count; i++ ) &#123;</span><br><span class="line"><span class="keyword">if</span> (i != <span class="keyword">self</span>.titleView.selectedIndex) &#123;</span><br><span class="line"><span class="built_in">UITableView</span> *contentView = <span class="keyword">self</span>.scrollView.subviews[i];</span><br><span class="line"><span class="built_in">CGPoint</span> offset = <span class="built_in">CGPointMake</span>(<span class="number">0</span>, otherOffsetY);</span><br><span class="line"><span class="keyword">if</span> ([contentView isKindOfClass:[<span class="built_in">UITableView</span> <span class="keyword">class</span>]]) &#123;</span><br><span class="line"><span class="keyword">if</span> (contentView.contentOffset.y &lt; NNHeadViewHeight || offset.y &lt; NNHeadViewHeight) &#123;</span><br><span class="line">[contentView setContentOffset:offset animated:<span class="literal">NO</span>];</span><br><span class="line"><span class="keyword">self</span>.scrollView.offset = offset;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ä¸Šé¢åªæ˜¯ç®€å•çš„ä»‹ç»ä¸‹ï¼Œå…·ä½“çš„ä»£ç è¿˜è¯·åˆ° <a href="https://github.com/liuzhongning/NNJaneBookView" target="_blank" rel="noopener">demo ä¸­</a> æŸ¥çœ‹ï¼Œå¦‚æœ‰ç–‘é—®æˆ–æœ‰å»ºè®®çš„åœ°æ–¹ï¼Œæ¬¢è¿è®¨è®ºã€‚</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">åˆ˜æœ‹å¤</p>
              <p class="site-description motion-element" itemprop="description">iOS ä¿®ç‚¼ä¸­...</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">44</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">åˆ˜æœ‹å¤</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Muse</a> v6.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.1.0"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

</body>
</html>
