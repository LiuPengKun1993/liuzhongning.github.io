<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.1.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.1.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.1.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="iOS ä¿®ç‚¼ä¸­...">
<meta property="og:type" content="website">
<meta property="og:title" content="ä»¥æ¢¦ä¸ºé©¬">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="ä»¥æ¢¦ä¸ºé©¬">
<meta property="og:description" content="iOS ä¿®ç‚¼ä¸­...">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ä»¥æ¢¦ä¸ºé©¬">
<meta name="twitter:description" content="iOS ä¿®ç‚¼ä¸­...">






  <link rel="canonical" href="http://yoursite.com/page/2/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>ä»¥æ¢¦ä¸ºé©¬</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ä»¥æ¢¦ä¸ºé©¬</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">è°¨ä»¥æ­¤çºªå¿µå²æœˆ</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>




<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-ä¸»é¡µ">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />ä¸»é¡µ</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-å½’æ¡£">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />å½’æ¡£</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOSå¼€å‘ä¹‹ - CADisplayLink å®ç°é…·ç‚«åŠ¨ç”»/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOSå¼€å‘ä¹‹ - CADisplayLink å®ç°é…·ç‚«åŠ¨ç”»/" itemprop="url">
                  iOSå¼€å‘ä¹‹ - CADisplayLink å®ç°é…·ç‚«åŠ¨ç”»
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>å¶ç„¶å‘ç°äº†ä¸€ä¸ªå¥½ç©çš„ç±»ï¼Œ CADisplayLinkï¼Œå‡ºäºå¥½å¥‡æ‰€ä»¥å°±å°è¯•äº†ä¸€ä¸‹ï¼Œç”¨ CADisplayLink åšäº†ä¸ªç±»ä¼¼äº‘é£˜çš„æ•ˆæœã€‚ç”±äºå¯¹ CADisplayLink çš„è®¤è¯†è¿˜æ¯”è¾ƒæµ…ï¼Œå¦‚æœå“ªé‡Œå†™çš„ä¸æ­£ç¡®ï¼Œè¿˜è¯·å„ä½å¤§å¤§èƒ½å¤ŸæŒ‡å‡ºæ¥ï¼çœ‹æ•ˆæœå›¾å…ˆï¼Œ<del>å°±æ˜¯æœ‰ç‚¹ä¸‘</del>ï¼ŒğŸ˜‚</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-da509b22ab7071c0.gif?imageMogr2/auto-orient/strip" alt="ning.gif"></p>
<ul>
<li>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</li>
</ul>
<h4 id="ä¸€ã€åˆ›å»º-CADisplayLinkï¼Œæ·»åŠ äº‹ä»¶ï¼Œç»‘å®š-Runloopã€‚"><a href="#ä¸€ã€åˆ›å»º-CADisplayLinkï¼Œæ·»åŠ äº‹ä»¶ï¼Œç»‘å®š-Runloopã€‚" class="headerlink" title="ä¸€ã€åˆ›å»º CADisplayLinkï¼Œæ·»åŠ äº‹ä»¶ï¼Œç»‘å®š Runloopã€‚"></a>ä¸€ã€åˆ›å»º CADisplayLinkï¼Œæ·»åŠ äº‹ä»¶ï¼Œç»‘å®š Runloopã€‚</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º CADisplayLink</span></span><br><span class="line">- (<span class="built_in">CADisplayLink</span> *)displayLink &#123;</span><br><span class="line"><span class="keyword">if</span> (!_displayLink) &#123;</span><br><span class="line">_displayLink = [<span class="built_in">CADisplayLink</span> displayLinkWithTarget:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(makeCloud)];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“æŠŠ CADisplayLink å¯¹è±¡æ·»åŠ åˆ° Runloop ä¸­åï¼Œselectorå°±èƒ½è¢«å‘¨æœŸæ€§è°ƒç”¨</span></span><br><span class="line">[<span class="keyword">self</span>.displayLink addToRunLoop:[<span class="built_in">NSRunLoop</span> mainRunLoop] forMode:<span class="built_in">NSRunLoopCommonModes</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> _displayLink;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘¨æœŸè°ƒç”¨çš„æ–¹æ³•</span></span><br><span class="line">- (<span class="keyword">void</span>)makeCloud &#123;</span><br><span class="line"><span class="keyword">self</span>.cloudOffsetX += <span class="keyword">self</span>.cloudSpeed;</span><br><span class="line"></span><br><span class="line">[<span class="keyword">self</span> cloudLayerName:<span class="keyword">self</span>.firstCloudLayer];</span><br><span class="line">[<span class="keyword">self</span> cloudLayerName:<span class="keyword">self</span>.secondCloudLayer];</span><br><span class="line">[<span class="keyword">self</span> cloudLayerName:<span class="keyword">self</span>.thirdCloudLayer];</span><br><span class="line">[<span class="keyword">self</span> cloudLayerName:<span class="keyword">self</span>.fourthCloudLayer];</span><br><span class="line">[<span class="keyword">self</span> cloudLayerName:<span class="keyword">self</span>.fifthCloudLayer];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="äºŒã€é…ç½®å‚æ•°ï¼ŒåŠ è½½å›¾å±‚"><a href="#äºŒã€é…ç½®å‚æ•°ï¼ŒåŠ è½½å›¾å±‚" class="headerlink" title="äºŒã€é…ç½®å‚æ•°ï¼ŒåŠ è½½å›¾å±‚"></a>äºŒã€é…ç½®å‚æ•°ï¼ŒåŠ è½½å›¾å±‚</h4> <figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Â <span class="built_in">self</span>.cloudWidth = <span class="built_in">self</span>.frame.size.width;            <span class="comment">// äº‘å½©å®½åº¦</span></span><br><span class="line">Â <span class="built_in">self</span>.cloudColor = RGBA(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.3</span>);         <span class="comment">// äº‘å½©é¢œè‰²</span></span><br><span class="line">Â <span class="built_in">self</span>.cloudSpeed = <span class="number">0.05</span> / M_PI;                      <span class="comment">// äº‘å½©é£˜åŠ¨çš„é€Ÿåº¦</span></span><br><span class="line">Â <span class="built_in">self</span>.cloudPointY = <span class="number">100</span>;                             <span class="comment">// äº‘å½©Yåæ ‡</span></span><br><span class="line">Â <span class="built_in">self</span>.cloudOffsetX = <span class="number">0</span>;                              <span class="comment">// äº‘å½©ä½ç§»X</span></span><br><span class="line">Â <span class="built_in">self</span>.cloudAmplitude = <span class="number">30</span>;                           <span class="comment">// æŒ¯å¹…å¤§å°</span></span><br><span class="line">Â <span class="built_in">self</span>.cloudCycle =  <span class="number">1.03</span> * M_PI / <span class="built_in">self</span>.cloudWidth;   <span class="comment">// å‘¨æœŸå¤§å°</span></span><br><span class="line">Â </span><br><span class="line">Â <span class="comment">// æ·»åŠ å›¾å±‚</span></span><br><span class="line">Â <span class="meta">[</span><span class="built_in">self</span>.layer addSublayer:<span class="built_in">self</span>.firstCloudLayer<span class="meta">]</span>;</span><br><span class="line">Â <span class="meta">[</span><span class="built_in">self</span>.layer addSublayer:<span class="built_in">self</span>.secondCloudLayer<span class="meta">]</span>;</span><br><span class="line">Â <span class="meta">[</span><span class="built_in">self</span>.layer addSublayer:<span class="built_in">self</span>.thirdCloudLayer<span class="meta">]</span>;</span><br><span class="line">Â <span class="meta">[</span><span class="built_in">self</span>.layer addSublayer:<span class="built_in">self</span>.fourthCloudLayer<span class="meta">]</span>;</span><br><span class="line">Â <span class="meta">[</span><span class="built_in">self</span>.layer addSublayer:<span class="built_in">self</span>.fifthCloudLayer<span class="meta">]</span>;</span><br></pre></td></tr></table></figure>
<h4 id="ä¸‰ã€åˆ›å»º-CAShapeLayer-åŠ¨ç”»"><a href="#ä¸‰ã€åˆ›å»º-CAShapeLayer-åŠ¨ç”»" class="headerlink" title="ä¸‰ã€åˆ›å»º CAShapeLayer åŠ¨ç”»"></a>ä¸‰ã€åˆ›å»º CAShapeLayer åŠ¨ç”»</h4> <figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">Â <span class="comment">// äº”ä¸ªå›¾å±‚åŠ¨ç”»</span></span><br><span class="line">Â - (<span class="keyword">void</span>)cloudLayerName:(<span class="built_in">CAShapeLayer</span> *)cloudLayerName &#123;</span><br><span class="line">Â <span class="comment">// åˆ›å»ºä¸€ä¸ªPathå¥æŸ„</span></span><br><span class="line">Â <span class="built_in">CGMutablePathRef</span> path = <span class="built_in">CGPathCreateMutable</span>();</span><br><span class="line">Â <span class="built_in">CGFloat</span> y = <span class="keyword">self</span>.cloudPointY;</span><br><span class="line">Â <span class="comment">// åˆå§‹åŒ–è¯¥pathåˆ°ä¸€ä¸ªåˆå§‹ç‚¹</span></span><br><span class="line">Â <span class="built_in">CGPathMoveToPoint</span>(path, <span class="literal">nil</span>, <span class="number">0</span>, y);</span><br><span class="line">Â <span class="keyword">for</span> (<span class="keyword">float</span> x = <span class="number">0.0</span>f; x &lt;= <span class="keyword">self</span>.cloudWidth; x++) &#123;</span><br><span class="line">Â <span class="keyword">if</span> (cloudLayerName == <span class="keyword">self</span>.firstCloudLayer) &#123;</span><br><span class="line">Â <span class="comment">// äº‘å½©çš„ Y å€¼</span></span><br><span class="line">Â y = <span class="keyword">self</span>.cloudAmplitude * sin(<span class="keyword">self</span>.cloudCycle * x + <span class="keyword">self</span>.cloudOffsetX - <span class="number">10</span>) + <span class="keyword">self</span>.cloudPointY + <span class="number">10</span>;</span><br><span class="line">Â &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cloudLayerName == <span class="keyword">self</span>.secondCloudLayer) &#123;</span><br><span class="line">Â y = (<span class="keyword">self</span>.cloudAmplitude + <span class="number">15</span>) * sin(<span class="keyword">self</span>.cloudCycle * x + <span class="keyword">self</span>.cloudOffsetX ) + <span class="keyword">self</span>.cloudPointY ;</span><br><span class="line">Â &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cloudLayerName == <span class="keyword">self</span>.thirdCloudLayer) &#123;</span><br><span class="line">Â y = (<span class="keyword">self</span>.cloudAmplitude + <span class="number">30</span>)* sin(<span class="keyword">self</span>.cloudCycle * x + <span class="keyword">self</span>.cloudOffsetX + <span class="number">20</span>) + <span class="keyword">self</span>.cloudPointY + <span class="number">10</span>;</span><br><span class="line">Â &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cloudLayerName == <span class="keyword">self</span>.fourthCloudLayer) &#123;</span><br><span class="line">Â y = (<span class="keyword">self</span>.cloudAmplitude + <span class="number">20</span>)* sin(<span class="keyword">self</span>.cloudCycle * x + <span class="keyword">self</span>.cloudOffsetX - <span class="number">20</span>) + <span class="keyword">self</span>.cloudPointY - <span class="number">10</span>;</span><br><span class="line">Â &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cloudLayerName == <span class="keyword">self</span>.fifthCloudLayer) &#123;</span><br><span class="line">Â y = (<span class="keyword">self</span>.cloudAmplitude + <span class="number">10</span>)* sin(<span class="keyword">self</span>.cloudCycle * x + <span class="keyword">self</span>.cloudOffsetX - <span class="number">10</span>) + <span class="keyword">self</span>.cloudPointY + <span class="number">2</span>;</span><br><span class="line">Â &#125;</span><br><span class="line">Â <span class="comment">// æ·»åŠ ä¸€æ¡ç›´çº¿</span></span><br><span class="line">Â <span class="built_in">CGPathAddLineToPoint</span>(path, <span class="literal">nil</span>, x, y);</span><br><span class="line">Â &#125;</span><br><span class="line">Â </span><br><span class="line">Â <span class="comment">// æ·»åŠ ä¸€æ¡ç›´çº¿</span></span><br><span class="line">Â <span class="built_in">CGPathAddLineToPoint</span>(path, <span class="literal">nil</span>, <span class="keyword">self</span>.cloudWidth, <span class="keyword">self</span>.frame.size.height);</span><br><span class="line">Â <span class="comment">// æ·»åŠ ä¸€æ¡ç›´çº¿</span></span><br><span class="line">Â <span class="built_in">CGPathAddLineToPoint</span>(path, <span class="literal">nil</span>, <span class="number">0</span>, <span class="keyword">self</span>.frame.size.height);</span><br><span class="line">Â <span class="comment">// å…³é—­è¯¥path</span></span><br><span class="line">Â <span class="built_in">CGPathCloseSubpath</span>(path);</span><br><span class="line">Â cloudLayerName.path = path;</span><br><span class="line">Â <span class="comment">// é‡Šæ”¾è¯¥path</span></span><br><span class="line">Â <span class="built_in">CGPathRelease</span>(path);</span><br><span class="line">Â &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>æ¨èå‡ ç¯‡å’Œ CADisplayLink ç›¸å…³çš„æ·±åº¦å¥½æ–‡ï¼</p>
</li>
<li><p><a href="https://developer.apple.com/reference/quartzcore/cadisplaylink" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
</li>
<li><a href="https://zsisme.gitbooks.io/ios-/content/chapter11/frame-timing.html" target="_blank" rel="noopener">iOS æ ¸å¿ƒåŠ¨ç”»é«˜çº§æŠ€å·§</a></li>
<li><a href="http://kittenyang.com/cadisplaylinkanduibezierpath/" target="_blank" rel="noopener">CADisplayLink ç»“åˆ UIBezierPathçš„ç¥å¥‡å¦™ç”¨</a></li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOSå¼€å‘ä¹‹ - MD5åŠ å¯†/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOSå¼€å‘ä¹‹ - MD5åŠ å¯†/" itemprop="url">
                  iOSå¼€å‘ä¹‹ - MD5åŠ å¯†
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>MD5ï¼ˆæ¶ˆæ¯æ‘˜è¦ç®—æ³•ç¬¬äº”ç‰ˆï¼‰æ˜¯è®¡ç®—æœºå®‰å…¨é¢†åŸŸå¹¿æ³›ä½¿ç”¨çš„ä¸€ç§æ•£åˆ—å‡½æ•°ï¼Œç”¨ä»¥æä¾›æ¶ˆæ¯çš„å®Œæ•´æ€§ä¿æŠ¤ã€‚</p>
</blockquote>
<ul>
<li><p>MD5ç‰¹ç‚¹ï¼š<br>1ã€å‹ç¼©æ€§ï¼šä»»æ„é•¿åº¦çš„æ•°æ®ï¼Œç®—å‡ºçš„MD5å€¼é•¿åº¦éƒ½æ˜¯å›ºå®šçš„ã€‚<br>2ã€å®¹æ˜“è®¡ç®—ï¼šä»åŸæ•°æ®è®¡ç®—å‡ºMD5å€¼å¾ˆå®¹æ˜“ã€‚<br>3ã€æŠ—ä¿®æ”¹æ€§ï¼šå¯¹åŸæ•°æ®è¿›è¡Œä»»ä½•æ”¹åŠ¨ï¼Œå“ªæ€•åªä¿®æ”¹1ä¸ªå­—èŠ‚ï¼Œæ‰€å¾—åˆ°çš„MD5å€¼éƒ½æœ‰å¾ˆå¤§åŒºåˆ«ã€‚<br>4ã€å¼ºæŠ—ç¢°æ’ï¼šå·²çŸ¥åŸæ•°æ®å’Œå…¶MD5å€¼ï¼Œæƒ³æ‰¾åˆ°ä¸€ä¸ªå…·æœ‰ç›¸åŒMD5å€¼çš„æ•°æ®ï¼ˆå³ä¼ªé€ æ•°æ®ï¼‰æ˜¯éå¸¸å›°éš¾çš„ã€‚</p>
</li>
<li><p>äº‹å…ˆä»‹ç»ä¸€ä¸ªæ¦‚å¿µï¼Œå› ä¸ºä¸‹è¾¹æœ‰ç”¨åˆ°ğŸ‘‡<br>åŠ ç›ï¼šæ‰€è°“åŠ ç›ï¼Œ å°±æ˜¯åœ¨åŸæœ¬éœ€è¦åŠ å¯†çš„ä¿¡æ¯åŸºç¡€ä¸Šï¼Œç³…å…¥å…¶å®ƒå†…å®¹saltã€‚</p>
</li>
<li><p>æ¥ä¸‹æ¥æ˜¯ä¸€äº›ä»£ç çš„å®ç°ï¼Œæ–¹ä¾¿èµ·è§ï¼Œè¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªåˆ†ç±»NSString+MD5ã€‚</p>
</li>
</ul>
<p>åˆ†ç±» NSString+MD5.h ä¸­çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NSString</span> (<span class="title">MD5</span>)</span></span><br><span class="line"><span class="comment">/** ç›´æ¥åŠ å¯† */</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)MD5_32BIT;</span><br><span class="line"><span class="comment">/** åŠ ç› */</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)MD5_saltStr:(<span class="built_in">NSString</span> *)saltStr;</span><br><span class="line"><span class="comment">/** å¤šæ¬¡åŠ å¯† */</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)MD5_againStr:(<span class="built_in">NSString</span> *)againStr;</span><br><span class="line"><span class="comment">/** ä¹±åºåŠ å¯† */</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)MD5_Chaos:(<span class="built_in">NSString</span> *)chaosStr;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæ˜¯åˆ†ç±» NSString+MD5.m ä¸­çš„ä»£ç ï¼Œéœ€è¦å¯¼å…¥å¤´æ–‡ä»¶ #import &lt;CommonCrypto/CommonDigest.h&gt;ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"NSString+MD5.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;CommonCrypto/CommonDigest.h&gt;</span></span></span><br><span class="line"><span class="meta">#define salt @<span class="meta-string">"qwertyuiop"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NSString</span> (<span class="title">MD5</span>)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›´æ¥åŠ å¯†</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)MD5_32BIT &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *cStr = [<span class="keyword">self</span> UTF8String];</span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> digest[CC_MD5_DIGEST_LENGTH];</span><br><span class="line"></span><br><span class="line">CC_MD5( cStr, (CC_LONG)<span class="keyword">self</span>.length, digest );</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSMutableString</span> *result = [<span class="built_in">NSMutableString</span> stringWithCapacity:CC_MD5_DIGEST_LENGTH * <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; CC_MD5_DIGEST_LENGTH; i++)</span><br><span class="line">[result appendFormat:<span class="string">@"%02X"</span>, digest[i]];</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ ç›</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)MD5_saltStr:(<span class="built_in">NSString</span> *)saltStr &#123;</span><br><span class="line"></span><br><span class="line">saltStr = [saltStr stringByAppendingString:salt];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *result =[saltStr MD5_32BIT];</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤šæ¬¡åŠ å¯†</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)MD5_againStr:(<span class="built_in">NSString</span> *)againStr &#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *result = [againStr MD5_32BIT];</span><br><span class="line"></span><br><span class="line">result = [result MD5_32BIT];</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¹±åºåŠ å¯†</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)MD5_Chaos:(<span class="built_in">NSString</span> *)chaosStr &#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *result =[chaosStr MD5_32BIT];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *header =[result substringFromIndex:<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *footer=[result substringFromIndex:<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">result =[footer stringByAppendingString:header];</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>æ¥ç€åœ¨æ§åˆ¶å™¨ä¸­è°ƒç”¨ï¼š<br><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">import</span> <span class="string">"ViewController.h"</span></span><br><span class="line">#<span class="keyword">import</span> <span class="string">"NSString+MD5.h"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@implementation</span> ViewController</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">[<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line">NSString *<span class="built_in">string</span> = @<span class="string">"10.24"</span>;</span><br><span class="line"><span class="comment">// è°ƒç”¨ MD5 åŠ å¯†å¹¶æ‰“å°ç»“æœ</span></span><br><span class="line">NSLog(@<span class="string">"MD5Result = %@"</span>, [<span class="built_in">string</span> MD5_32BIT]);</span><br><span class="line">NSLog(@<span class="string">"MD5_saltResult = %@"</span>, [<span class="built_in">string</span> MD5_saltStr:<span class="built_in">string</span>]);</span><br><span class="line">NSLog(@<span class="string">"MD5_againResult = %@"</span>, [<span class="built_in">string</span> MD5_againStr:<span class="built_in">string</span>]);</span><br><span class="line">NSLog(@<span class="string">"chaosResult = %@"</span>, [<span class="built_in">string</span> MD5_Chaos:<span class="built_in">string</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>è¿™é‡Œæ˜¯æ‰“å°ç»“æœï¼š<br><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2016-10-26</span> <span class="number">08</span>:<span class="number">15:49.616</span> md<span class="number">5[92278</span>:<span class="number">6185546</span>] MD5Result = F7F942B87C2D0B62FC27AD465CF0D05B</span><br><span class="line"><span class="number">2016-10-26</span> <span class="number">08</span>:<span class="number">15:49.616</span> md<span class="number">5[92278</span>:<span class="number">6185546</span>] MD5_saltResult = <span class="number">1</span>C2140C07ADD1E334896D499E8C4968C</span><br><span class="line"><span class="number">2016-10-26</span> <span class="number">08</span>:<span class="number">15:49.617</span> md<span class="number">5[92278</span>:<span class="number">6185546</span>] MD5_againResult = <span class="number">01</span>AE5309B5A8E672AE4D427FE987E06A</span><br><span class="line"><span class="number">2016-10-26</span> <span class="number">08</span>:<span class="number">15:49.617</span> md<span class="number">5[92278</span>:<span class="number">6185546</span>] chaosResult = F942B87C2D0B62FC27AD465CF0D05BF942B87C2D0B62FC27AD465CF0D05B</span><br></pre></td></tr></table></figure></p>
<hr>
<p>æ€»ç»“ï¼šå¤§å®¶åº”è¯¥éƒ½çŸ¥é“æœ‰ä¸€ä¸ªMD5ç ´è§£ç½‘ç«™ï¼Œåå­—å«åš <a href="http://www.cmd5.com" target="_blank" rel="noopener">md5åœ¨çº¿è§£å¯†åŠ å¯†</a>ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ä½¿ç”¨MD5åŠ å¯†çš„æ—¶å€™ï¼Œæœ€å¥½ä½¿ç”¨å¤šæ¬¡åŠ å¯†ï¼ŒåŠ ç›ï¼Œä¹±åºåŠ å¯†ç­‰ï¼Œä¸ç„¶ä¼šå¾ˆå®¹æ˜“è¢«ç ´è§£ã€‚è‡³äºå…¶å®ƒåŠ å¯†ï¼Œç­‰ä»¥åç”¨åˆ°äº†ä¼šç»§ç»­æ•´ç†å‡ºæ¥ï¼Œå¦‚æœæ–‡ç« æœ‰ä»€ä¹ˆä¸è¶³ä¹‹å¤„ï¼Œè¿˜è¯·æœ‹å‹ä»¬èƒ½è¿‡æŒ‡å‡ºæ¥ï¼Œè°¢è°¢å¤§å®¶ï¼</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOSå¼€å‘ - åœ†å½¢éªŒè¯ç (æˆ–å¯†ç )è¾“å…¥æ¡†çš„å°è£…/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOSå¼€å‘ - åœ†å½¢éªŒè¯ç (æˆ–å¯†ç )è¾“å…¥æ¡†çš„å°è£…/" itemprop="url">
                  iOSå¼€å‘ - åœ†å½¢éªŒè¯ç (æˆ–å¯†ç )è¾“å…¥æ¡†çš„å°è£…
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>é¡¹ç›®ä¸­ç”¨åˆ°äº†åœ†å½¢éªŒè¯ç è¾“å…¥æ¡†ï¼Œè¾“å…¥æ¡†ä¹‹é—´è¦æ±‚æœ‰ä¸€å®šçš„è·ç¦»ï¼ŒUIå›¾å¦‚ä¸‹ï¼š</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-7b41dd80189fc084.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="UIå›¾"></p>
<ul>
<li>ä¸Šé¢çš„UIå›¾ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªè¦æ±‚ï¼š</li>
<li>è¾“å…¥æ¡†ä¸ºåœ†å½¢</li>
<li>è¾“å…¥æ¡†ä¹‹é—´æœ‰é€‚å½“è·ç¦»</li>
<li>è¾“å…¥æ¡†é¢œè‰²åœ¨è¾“å…¥æ–‡æœ¬æ—¶æœ‰å˜åŒ–</li>
</ul>
<p>åˆšå¼€å§‹æƒ³ç€ç”¨å›ºå®šçš„å‡ ä¸ª UITextField å®ç°ï¼Œä½†è½¬å¿µä¸€æƒ³ï¼Œç”¨ UITextField å®ç°æœ‰ç‚¹éº»çƒ¦ï¼ˆè¾“å…¥æ¡†å¤šçš„è¯ï¼Œå®ƒä»¬ä¹‹é—´çš„å“åº”äº‹ä»¶ä¸å¤ªå®¹æ˜“æ§åˆ¶ï¼Œéœ€è¦æ¥å›å˜æ¢ï¼‰ï¼Œäºæ˜¯å¼€å§‹æƒ³å…¶å®ƒåŠæ³•ï¼Œæœ€åç”¨äº†ä»¥ä¸‹çš„æ€è·¯ï¼š</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ª UITextFieldï¼Œç”¨  UILabel æ˜¾ç¤º UITextField ä¸Šè¾“å…¥çš„æ•°å­—ï¼Œéœ€è¦ç›‘å¬æ–‡æœ¬çš„è¾“å…¥ï¼ŒåŒæ—¶å¯¹ UILabel è¿›è¡Œä¸€äº›æ“ä½œï¼Œå†ç”¨ block å°†è¾“å…¥çš„æ–‡æœ¬ä¼ å‡ºæ¥ã€‚</li>
</ul>
<h5 id="å°è£…çš„åœ†å½¢è¾“å…¥æ¡†ä¸»è¦å®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼šè¾“å…¥æ¡†çš„æ•°é‡ã€è·ç¦»ã€é¢œè‰²ã€å¤§å°ç­‰éƒ½å¯ä»¥è‡ªè¡Œè®¾å®šï¼Œç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œåªéœ€ä»¥ä¸‹å‡ è¡Œä»£ç å³å¯ï¼š"><a href="#å°è£…çš„åœ†å½¢è¾“å…¥æ¡†ä¸»è¦å®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼šè¾“å…¥æ¡†çš„æ•°é‡ã€è·ç¦»ã€é¢œè‰²ã€å¤§å°ç­‰éƒ½å¯ä»¥è‡ªè¡Œè®¾å®šï¼Œç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œåªéœ€ä»¥ä¸‹å‡ è¡Œä»£ç å³å¯ï¼š" class="headerlink" title="å°è£…çš„åœ†å½¢è¾“å…¥æ¡†ä¸»è¦å®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼šè¾“å…¥æ¡†çš„æ•°é‡ã€è·ç¦»ã€é¢œè‰²ã€å¤§å°ç­‰éƒ½å¯ä»¥è‡ªè¡Œè®¾å®šï¼Œç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œåªéœ€ä»¥ä¸‹å‡ è¡Œä»£ç å³å¯ï¼š"></a>å°è£…çš„åœ†å½¢è¾“å…¥æ¡†ä¸»è¦å®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼šè¾“å…¥æ¡†çš„æ•°é‡ã€è·ç¦»ã€é¢œè‰²ã€å¤§å°ç­‰éƒ½å¯ä»¥è‡ªè¡Œè®¾å®šï¼Œç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œåªéœ€ä»¥ä¸‹å‡ è¡Œä»£ç å³å¯ï¼š</h5><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NNValidationCodeView *view = [[NNValidationCodeView alloc] initWithFrame:CGRectMake(<span class="number">80</span>, <span class="number">100</span>, <span class="number">300</span>, <span class="number">45</span>) <span class="keyword">andLabelCount:4 </span><span class="keyword">andLabelDistance:10];</span></span><br><span class="line"><span class="keyword">[self.view </span><span class="keyword">addSubview:view];</span></span><br><span class="line"><span class="keyword">view.changedColor </span>= [UIColor yellowColor]<span class="comment">;</span></span><br><span class="line">view.codeBlock = ^(NSString *codeString) &#123;</span><br><span class="line">NSLog(@<span class="string">"éªŒè¯ç :%@"</span>, codeString)<span class="comment">;</span></span><br><span class="line">&#125;<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ demo çš„æ•ˆæœå›¾ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-a1ab2114dbc942f9.gif?imageMogr2/auto-orient/strip" alt="æ•ˆæœå›¾1"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-7d2566ca5c78135b.gif?imageMogr2/auto-orient/strip" alt="æ•ˆæœå›¾2"></p>
<p>ç”±äºä»£ç å¾ˆå®¹æ˜“çœ‹æ‡‚ï¼Œå¦å¤–ä»£ç ä¸­ä¹Ÿå†™äº†æ³¨é‡Šï¼Œå› æ­¤è¿™é‡Œä¸å†å¯¹é¡¹ç›®åšè¿‡å¤šçš„é™ˆè¿°ï¼Œè¿™æ˜¯ <a href="https://github.com/liuzhongning/NNValidationCodeView" target="_blank" rel="noopener">demoåœ°å€</a>ï¼Œéœ€è¦çš„è¯å¯ä»¥æ‹¿å»å€Ÿé‰´ï¼Œ<strong>æœ‰ä»€ä¹ˆä¸è¶³ä¹‹å¤„å¸Œæœ›èƒ½ç•™ä¸‹å®è´µæ„è§æˆ–å»ºè®®ï¼</strong></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOSå¼€å‘ä¹‹ - AFNetworking - ä¸Šä¼ ã€ä¸‹è½½ã€ç½‘ç»œç›‘å¬/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOSå¼€å‘ä¹‹ - AFNetworking - ä¸Šä¼ ã€ä¸‹è½½ã€ç½‘ç»œç›‘å¬/" itemprop="url">
                  iOSå¼€å‘ä¹‹ - AFNetworking - ä¸Šä¼ ã€ä¸‹è½½ã€ç½‘ç»œç›‘å¬
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>è¿™ä¸€ç¯‡æ˜¯æ¥ç€ä¸Šä¸€ç¯‡æ€»ç»“çš„ï¼Œå¦‚æœæœ‰æœ‹å‹éœ€è¦äº†è§£ç½‘ç»œè¯·æ±‚çš„å†…å®¹ï¼Œå¯ä»¥<a href="http://www.jianshu.com/p/d23f4f913af1" target="_blank" rel="noopener">åˆ°è¿™é‡Œ</a>ã€‚å’Œä¸Šç¯‡ä¸€æ ·ï¼Œå…ˆè¯´ä¸‹è¿™ç¯‡æ–‡ç« çš„å¤§æ¦‚å†…å®¹ï¼Œä»¥ä¾¿æœ‹å‹ä»¬èƒ½å¤Ÿå¿«é€Ÿæ‰¾åˆ°è‡ªå·±éœ€è¦çš„ã€‚è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº† AFNetworking çš„ä¸‰ä¸ªå¾ˆå¹¿æ³›çš„åº”ç”¨ï¼šä¸Šä¼ ã€ä¸‹è½½ä»¥åŠç½‘ç»œç›‘å¬ã€‚å¦‚æœæœ‰æœ‹å‹æƒ³äº†è§£è‹¹æœè‡ªå¸¦çš„ NSURLSession ç›¸å…³çš„ä¸Šä¼ ä¸ä¸‹è½½ï¼Œå¯ä»¥<a href="http://www.jianshu.com/p/be94889824d9" target="_blank" rel="noopener">åˆ°è¿™é‡Œ</a>ã€‚æ¥ä¸‹æ¥æ˜¯ä½¿ç”¨ AFNetworking ä¸Šä¼ ã€ä¸‹è½½ä»¥åŠç½‘ç»œç›‘å¬çš„ demo.</p>
<h2 id="ä¸€ã€ä¸Šä¼ ï¼š"><a href="#ä¸€ã€ä¸Šä¼ ï¼š" class="headerlink" title="ä¸€ã€ä¸Šä¼ ï¼š"></a>ä¸€ã€ä¸Šä¼ ï¼š</h2><p>è¿™é‡Œä»‹ç»äº† AFN çš„ä¸¤ç§ä¸Šä¼ æ–¹å¼ï¼š</p>
<p>1.é€šè¿‡å·¥ç¨‹ä¸­çš„æ–‡ä»¶ä¸Šä¼ <br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºç®¡ç†è€…å¯¹è±¡</span></span><br><span class="line">AFHTTPSessionManager *sessionManager = [AFHTTPSessionManager manager];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="built_in">NSString</span> *urlStr = <span class="string">@" "</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSDictionary</span> *dic = @&#123;<span class="string">@" "</span> : <span class="string">@" "</span>,<span class="string">@" "</span> : <span class="string">@" "</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘é€ post è¯·æ±‚ï¼Œä¸Šä¼ ä¸€å¼ å›¾ç‰‡</span></span><br><span class="line">[sessionManager POST:urlStr parameters:dic constructingBodyWithBlock:^(<span class="keyword">id</span>&lt;AFMultipartFormData&gt;  _Nonnull formData) &#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *filePath = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:<span class="string">@"a.jpg"</span> ofType:<span class="literal">nil</span>];</span><br><span class="line"><span class="built_in">NSData</span> *imgData = [<span class="built_in">NSData</span> dataWithContentsOfFile:filePath];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å›¾ç‰‡æ•°æ®æ‹¼æ¥ï¼Œè¿›è¡Œä¸Šä¼ </span></span><br><span class="line">[formData appendPartWithFileData:imgData name:<span class="string">@"pic"</span> fileName:<span class="string">@"filename"</span> mimeType:<span class="string">@"image/jpg"</span>];</span><br><span class="line"></span><br><span class="line">&#125; progress:^(<span class="built_in">NSProgress</span> * _Nonnull uploadProgress) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–ä¸Šä¼ çš„è¿›åº¦</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%.2f"</span>,uploadProgress.fractionCompleted);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[<span class="built_in">NSThread</span> currentThread]); <span class="comment">//å­çº¿ç¨‹</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125; success:^(<span class="built_in">NSURLSessionDataTask</span> * _Nonnull task, <span class="keyword">id</span>  _Nullable responseObject) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚æˆåŠŸ</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¯·æ±‚æˆåŠŸï¼š%@"</span>,responseObject);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[<span class="built_in">NSThread</span> currentThread]); <span class="comment">//ä¸»çº¿ç¨‹</span></span><br><span class="line"></span><br><span class="line">&#125; failure:^(<span class="built_in">NSURLSessionDataTask</span> * _Nullable task, <span class="built_in">NSError</span> * _Nonnull error) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚å¤±è´¥</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¯·æ±‚å¤±è´¥ï¼š%@"</span>,error);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<p>2.æ ¹æ®URLè·¯å¾„ä¸Šä¼ <br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºç®¡ç†è€…å¯¹è±¡</span></span><br><span class="line">AFHTTPSessionManager *sessionManager = [AFHTTPSessionManager manager];</span><br><span class="line"></span><br><span class="line">[sessionManager <span class="string">POST:</span>@<span class="string">" "</span> <span class="string">parameters:</span>@&#123;@<span class="string">" "</span> : @<span class="string">" "</span>&#125; <span class="string">constructingBodyWithBlock:</span>^(id&lt;AFMultipartFormData&gt; formData) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨blockä¸­è®¾ç½®éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶</span></span><br><span class="line">[formData <span class="string">appendPartWithFileURL:</span>[NSURL <span class="string">fileURLWithPath:</span>@<span class="string">"æ–‡ä»¶è·¯å¾„"</span>] <span class="string">name:</span>@<span class="string">"file"</span> <span class="string">error:</span>nil];</span><br><span class="line"></span><br><span class="line">&#125; <span class="string">success:</span>^(NSURLSessionDataTask *task, id responseObject) &#123;</span><br><span class="line"></span><br><span class="line">NSLog(@<span class="string">"æˆåŠŸï¼š%@"</span>, responseObject);</span><br><span class="line"></span><br><span class="line">&#125; <span class="string">failure:</span>^(NSURLSessionDataTask *task, NSError *error) &#123;</span><br><span class="line">NSLog(@<span class="string">"å¤±è´¥ï¼š%@"</span>, error);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<h2 id="äºŒã€ä¸‹è½½"><a href="#äºŒã€ä¸‹è½½" class="headerlink" title="äºŒã€ä¸‹è½½"></a>äºŒã€ä¸‹è½½</h2><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºç®¡ç†è€…å¯¹è±¡</span></span><br><span class="line">AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¡®å®šè¯·æ±‚çš„URLåœ°å€</span></span><br><span class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@" "</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºè¯·æ±‚å¯¹è±¡</span></span><br><span class="line"><span class="built_in">NSURLRequest</span> *request = [<span class="built_in">NSURLRequest</span> requestWithURL:url];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‹è½½æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">NSURLSessionDownloadTask</span> *task = [manager downloadTaskWithRequest:request progress:^(<span class="built_in">NSProgress</span> * _Nonnull downloadProgress) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// blockä¼šå®æ—¶è°ƒç”¨</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%.2f"</span>,downloadProgress.fractionCompleted);</span><br><span class="line"></span><br><span class="line">&#125; destination:^<span class="built_in">NSURL</span> * _Nonnull(<span class="built_in">NSURL</span> * _Nonnull targetPath, <span class="built_in">NSURLResponse</span> * _Nonnull response) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// NSHomeDirectory()å¯ä»¥å¾—åˆ°åº”ç”¨ç¨‹åºç›®å½•çš„è·¯å¾„</span></span><br><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªURLå­˜å‚¨æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">NSString</span> *filePath = [<span class="built_in">NSHomeDirectory</span>() stringByAppendingPathComponent:<span class="string">@"Documents/***.mp3"</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> fileURLWithPath:filePath];</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> url;</span><br><span class="line"></span><br><span class="line">&#125; completionHandler:^(<span class="built_in">NSURLResponse</span> * _Nonnull response, <span class="built_in">NSURL</span> * _Nullable filePath, <span class="built_in">NSError</span> * _Nullable error) &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (error) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"ä¸‹è½½å¤±è´¥ ~~~ %@"</span>,error);</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"ä¸‹è½½æˆåŠŸ"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼€å§‹ä¸‹è½½ä»»åŠ¡</span></span><br><span class="line">[task resume];</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‰ã€ç½‘ç»œç›‘å¬ï¼ˆç›‘å¬æ‰‹æœºç½‘ç»œçš„ä¸åŒçŠ¶æ€ï¼‰"><a href="#ä¸‰ã€ç½‘ç»œç›‘å¬ï¼ˆç›‘å¬æ‰‹æœºç½‘ç»œçš„ä¸åŒçŠ¶æ€ï¼‰" class="headerlink" title="ä¸‰ã€ç½‘ç»œç›‘å¬ï¼ˆç›‘å¬æ‰‹æœºç½‘ç»œçš„ä¸åŒçŠ¶æ€ï¼‰"></a>ä¸‰ã€ç½‘ç»œç›‘å¬ï¼ˆç›‘å¬æ‰‹æœºç½‘ç»œçš„ä¸åŒçŠ¶æ€ï¼‰</h2><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å¾—ç½‘ç»œç›‘æ§çš„ç®¡ç†è€…</span></span><br><span class="line">AFNetworkReachabilityManager *manager = [AFNetworkReachabilityManager manager];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åªè¦ç½‘ç»œç¯å¢ƒå‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šè°ƒç”¨æ­¤ block</span></span><br><span class="line">[manager <span class="string">setReachabilityStatusChangeBlock:</span>^(AFNetworkReachabilityStatus status) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æšä¸¾é‡Œé¢çš„å››ä¸ªçŠ¶æ€</span></span><br><span class="line"><span class="comment">AFNetworkReachabilityStatusUnknown          = -1,  æœªçŸ¥</span></span><br><span class="line"><span class="comment">AFNetworkReachabilityStatusNotReachable     = 0,   ä¸å¯ç”¨</span></span><br><span class="line"><span class="comment">AFNetworkReachabilityStatusReachableViaWWAN = 1,   æ‰‹æœºè‡ªå¸¦ç½‘ç»œ</span></span><br><span class="line"><span class="comment">AFNetworkReachabilityStatusReachableViaWiFi = 2,   wifi</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> (status) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">AFNetworkReachabilityStatusUnknown:</span></span><br><span class="line">NSLog(@<span class="string">"æœªçŸ¥"</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">AFNetworkReachabilityStatusNotReachable:</span></span><br><span class="line">NSLog(@<span class="string">"ä¸å¯ç”¨"</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">AFNetworkReachabilityStatusReachableViaWWAN:</span></span><br><span class="line">NSLog(@<span class="string">"æ‰‹æœºè‡ªå¸¦ç½‘ç»œ"</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">AFNetworkReachabilityStatusReachableViaWiFi:</span></span><br><span class="line">NSLog(@<span class="string">"Wifi"</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line"><span class="string">default:</span></span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼€å§‹ç›‘å¬</span></span><br><span class="line">[manager startMonitoring];</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä»Šå¤©åšçš„ä¸€äº›å…³äº AFNetworking çš„æ€»ç»“ï¼Œå¦‚æœæœ‰é”™è¯¯æˆ–ç–å¿½çš„åœ°æ–¹ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¤ŸæŒ‡å‡ºï¼è°¢è°¢å¤§å®¶ï¼ï¼ï¼</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOSå¼€å‘ä¹‹ - DZNEmptyDataSet ç©ºç™½é¡µå ä½å›¾/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOSå¼€å‘ä¹‹ - DZNEmptyDataSet ç©ºç™½é¡µå ä½å›¾/" itemprop="url">
                  iOSå¼€å‘ä¹‹ - DZNEmptyDataSet ç©ºç™½é¡µå ä½å›¾
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>å‘ç°äº†ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„ç¬¬ä¸‰æ–¹ï¼Œ<a href="https://github.com/dzenbot/DZNEmptyDataSet" target="_blank" rel="noopener">DZNEmptyDataSet</a>ï¼Œç”¨èµ·æ¥ä¹Ÿæå…¶æ–¹ä¾¿ï¼Œè¿™é‡Œç»™å¤§å®¶åˆ†äº«ä¸‹ï¼å…ˆè¯´ä¸‹å…¶ç”¨é€”ï¼š<code>DZNEmptyDataSet</code> ä¸»è¦ç”¨äº <code>UITableView</code> ä»¥åŠ <code>UICollectionView</code> é¡µé¢ç©ºç™½æ—¶å±•ç¤ºï¼ˆæ®è¯´ä¹Ÿå¯ä»¥ç”¨äº <code>UIScrollView</code>ï¼Œ æœ‰å…´è¶£çš„ç«¥é‹å¯ä»¥è¯•è¯•ï¼‰ã€‚å¼€å‘ä¸­ä¹‹æ‰€ä»¥ç”¨å ä½å›¾ï¼Œæ˜¯ä¸ºäº†æé«˜ç”¨æˆ·ä½“éªŒï¼›è€Œä¸ºä»€ä¹ˆé€‰ <code>DZNEmptyDataSet</code> è€Œä¸è‡ªè¡Œè®¾è®¡å ä½å›¾ï¼ˆåšè¿‡å ä½å›¾çš„ç«¥é‹åº”è¯¥ä¼šè§‰å¾—åšå ä½å›¾å¹¶ä¸éš¾ï¼Œä½†æ²¡æœ‰å¯¹æ¯”å°±æ²¡æœ‰ä¼¤å®³ï¼Œä½ å¦‚æœè¯•ç”¨äº† <code>DZNEmptyDataSet</code> ï¼Œå°±ä¼šé¡¿æ‚Ÿè‡ªå·±åšå ä½å›¾æ˜¯å¤šä¹ˆåœ°ç¹çï¼‰ã€‚å¦ç™½è¯´ï¼Œ<code>DZNEmptyDataSet</code> æ˜¯ä¸€ä¸ªä¸ºäº†è®©å¼€å‘äººå‘˜â€œå˜æ‡’â€çš„ç¬¬ä¸‰æ–¹ï¼ˆè²Œä¼¼æ¯ä¸ªç¬¬ä¸‰æ–¹éƒ½æ˜¯è¿™æ ·çš„â€œå®—æ—¨â€ï¼‰ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸€èµ·çœ‹ä¸‹ <code>DZNEmptyDataSet</code> å§ï¼</p>
</blockquote>
<h3 id="ä¸€ã€å…ˆæ¥è®¤è¯†ä¸€ä¸‹-DZNEmptyDataSet"><a href="#ä¸€ã€å…ˆæ¥è®¤è¯†ä¸€ä¸‹-DZNEmptyDataSet" class="headerlink" title="ä¸€ã€å…ˆæ¥è®¤è¯†ä¸€ä¸‹ DZNEmptyDataSet"></a>ä¸€ã€å…ˆæ¥è®¤è¯†ä¸€ä¸‹ DZNEmptyDataSet</h3><ul>
<li>GitHub åœ°å€ï¼š<a href="https://github.com/dzenbot/DZNEmptyDataSet" target="_blank" rel="noopener">DZNEmptyDataSet</a></li>
<li>DZNEmptyDataSet æ•ˆæœå›¾</li>
</ul>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-a0171c63c0ebeaa1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="DZNEmptyDataSetæ•ˆæœå›¾1"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-9b7b23c881b34deb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="DZNEmptyDataSetæ•ˆæœå›¾2"></p>
<h3 id="äºŒã€ç”¨-DZNEmptyDataSet-å®ç°å ä½å›¾æ•ˆæœ"><a href="#äºŒã€ç”¨-DZNEmptyDataSet-å®ç°å ä½å›¾æ•ˆæœ" class="headerlink" title="äºŒã€ç”¨ DZNEmptyDataSet å®ç°å ä½å›¾æ•ˆæœ"></a>äºŒã€ç”¨ DZNEmptyDataSet å®ç°å ä½å›¾æ•ˆæœ</h3><p>ä¸å¾—ä¸è¯´ï¼Œå…¶ä½¿ç”¨æ–¹æ³•æå…¶ç®€å•ï¼Œç”¨ cocoapods å¯¼å…¥å¯ä»¥ï¼Œç›´æ¥æ‹–è¿›é¡¹ç›®ä¹Ÿè¡Œã€‚ã€‚ã€‚æ¥ç€~~~</p>
<ul>
<li>å¯¼å…¥å¤´æ–‡ä»¶</li>
</ul>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">import</span> <span class="string">"UIScrollView+EmptyDataSet.h"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>æ·»åŠ ä»£ç†åè®®</li>
</ul>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@interface</span> NNViewController ()<span class="variable">&lt;UITableViewDataSource, DZNEmptyDataSetSource, DZNEmptyDataSetDelegate&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>è®¾ç½®ä»£ç†åè®®</li>
</ul>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">_tableView = [[UITableView alloc] initWithFrame:CGRectMake(<span class="number">0</span>, <span class="number">0</span>, NNSCREENWIDTH, NNSCREENHEIGHT) style:UITableViewStylePlain];</span><br><span class="line">[<span class="literal">self</span>.view addSubview:<span class="literal">self</span>.<span class="built_in">table</span>View];</span><br><span class="line"></span><br><span class="line"><span class="literal">self</span>.<span class="built_in">table</span>View.dataSource = <span class="literal">self</span>;</span><br><span class="line"><span class="literal">self</span>.<span class="built_in">table</span>View.emptyDataSetSource = <span class="literal">self</span>;</span><br><span class="line"><span class="literal">self</span>.<span class="built_in">table</span>View.emptyDataSetDelegate = <span class="literal">self</span>;</span><br><span class="line"><span class="literal">self</span>.<span class="built_in">table</span>View.<span class="built_in">table</span>FooterView = [[UIView alloc] init];</span><br></pre></td></tr></table></figure>
<ul>
<li>è®¾ç½®ç©ºç™½é¡µå±•ç¤ºå›¾ç‰‡</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - DZNEmptyDataSetSource</span></span><br><span class="line"><span class="comment">// è¿”å›å›¾ç‰‡</span></span><br><span class="line">- (<span class="built_in">UIImage</span> *)imageForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView&#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"Screenshot_Slack"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åˆ°è¿™é‡Œç®€å•çš„å ä½å›¾å·²ç»åšå¥½äº†ï¼Œæ˜¯ä¸æ˜¯è§‰å¾— so è½»æ¾ so easyï¼ä¸‹é¢æ˜¯æ•ˆæœå›¾ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/2665449-ec13c6b78895b11f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•ˆæœå›¾"></p>
<h3 id="ä¸‰ã€æ¥ä¸‹æ¥æ˜¯-DZNEmptyDataSet-çš„å…¶å®ƒä½¿ç”¨æ–¹æ³•"><a href="#ä¸‰ã€æ¥ä¸‹æ¥æ˜¯-DZNEmptyDataSet-çš„å…¶å®ƒä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä¸‰ã€æ¥ä¸‹æ¥æ˜¯ DZNEmptyDataSet çš„å…¶å®ƒä½¿ç”¨æ–¹æ³•"></a>ä¸‰ã€æ¥ä¸‹æ¥æ˜¯ DZNEmptyDataSet çš„å…¶å®ƒä½¿ç”¨æ–¹æ³•</h3><p>DZNEmptyDataSet æ¡†æ¶æ‰©å±•æ€§æå¼ºï¼Œå¯ä»¥åœ¨å ä½å›¾ä¸Šæ·»åŠ å›¾ç‰‡ã€æ ‡é¢˜æ–‡å­—ã€è¯¦æƒ…æ–‡å­—ç­‰ç­‰ä¸€å †ä¸œè¥¿ï¼Œæ€»æœ‰ä¸€æ¬¾é€‚åˆä½ ï¼ä¸‹è¾¹æ˜¯ä¸€äº›å…·ä½“ç”¨æ³•åŠæ•ˆæœå›¾ã€‚</p>
<h4 id="3-1-æ·»åŠ æ ‡é¢˜æ–‡å­—"><a href="#3-1-æ·»åŠ æ ‡é¢˜æ–‡å­—" class="headerlink" title="3.1 æ·»åŠ æ ‡é¢˜æ–‡å­—"></a>3.1 æ·»åŠ æ ‡é¢˜æ–‡å­—</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›æ ‡é¢˜æ–‡å­—</span></span><br><span class="line">- (<span class="built_in">NSAttributedString</span> *)titleForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="built_in">NSString</span> *text = <span class="string">@"è¿™æ˜¯ä¸€å¼ ç©ºç™½é¡µ"</span>;</span><br><span class="line"><span class="built_in">NSDictionary</span> *attribute = @&#123;<span class="built_in">NSFontAttributeName</span>: [<span class="built_in">UIFont</span> boldSystemFontOfSize:<span class="number">18.0</span>f], <span class="built_in">NSForegroundColorAttributeName</span>: [<span class="built_in">UIColor</span> darkGrayColor]&#125;;</span><br><span class="line"><span class="keyword">return</span> [[<span class="built_in">NSAttributedString</span> alloc] initWithString:text attributes:attribute];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-8d76ca82b929405b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è¿”å›æ ‡é¢˜æ–‡å­—"></p>
<h4 id="3-2-æ·»åŠ è¯¦æƒ…æ–‡å­—"><a href="#3-2-æ·»åŠ è¯¦æƒ…æ–‡å­—" class="headerlink" title="3.2 æ·»åŠ è¯¦æƒ…æ–‡å­—"></a>3.2 æ·»åŠ è¯¦æƒ…æ–‡å­—</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›è¯¦æƒ…æ–‡å­—</span></span><br><span class="line">- (<span class="built_in">NSAttributedString</span> *)descriptionForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView &#123; <span class="built_in">NSString</span> *text = <span class="string">@"å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ"</span>;</span><br><span class="line"><span class="built_in">NSMutableParagraphStyle</span> *paragraph = [<span class="built_in">NSMutableParagraphStyle</span> new];</span><br><span class="line">paragraph.lineBreakMode = <span class="built_in">NSLineBreakByWordWrapping</span>;</span><br><span class="line">paragraph.alignment = <span class="built_in">NSTextAlignmentCenter</span>;</span><br><span class="line"><span class="built_in">NSDictionary</span> *attribute = @&#123;<span class="built_in">NSFontAttributeName</span>: [<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">14.0</span>f], <span class="built_in">NSForegroundColorAttributeName</span>: [<span class="built_in">UIColor</span> lightGrayColor], <span class="built_in">NSParagraphStyleAttributeName</span>: paragraph&#125;;</span><br><span class="line"><span class="keyword">return</span> [[<span class="built_in">NSAttributedString</span> alloc] initWithString:text attributes:attribute];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-f0154c472bfe6c61.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è¯¦æƒ…æ–‡å­—"></p>
<h4 id="3-3-æ·»åŠ å¯ä»¥ç‚¹å‡»çš„æŒ‰é’®-ä¸Šé¢å¸¦æ–‡å­—"><a href="#3-3-æ·»åŠ å¯ä»¥ç‚¹å‡»çš„æŒ‰é’®-ä¸Šé¢å¸¦æ–‡å­—" class="headerlink" title="3.3 æ·»åŠ å¯ä»¥ç‚¹å‡»çš„æŒ‰é’® ä¸Šé¢å¸¦æ–‡å­—"></a>3.3 æ·»åŠ å¯ä»¥ç‚¹å‡»çš„æŒ‰é’® ä¸Šé¢å¸¦æ–‡å­—</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å¯ä»¥ç‚¹å‡»çš„æŒ‰é’® ä¸Šé¢å¸¦æ–‡å­—</span></span><br><span class="line">- (<span class="built_in">NSAttributedString</span> *)buttonTitleForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView forState:(<span class="built_in">UIControlState</span>)state &#123;</span><br><span class="line"><span class="built_in">NSDictionary</span> *attribute = @&#123;<span class="built_in">NSFontAttributeName</span>: [<span class="built_in">UIFont</span> boldSystemFontOfSize:<span class="number">17.0</span>f]&#125;;</span><br><span class="line"><span class="keyword">return</span> [[<span class="built_in">NSAttributedString</span> alloc] initWithString:<span class="string">@"å“ˆå–½"</span> attributes:attribute];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//#pragma mark - DZNEmptyDataSetDelegate</span></span><br><span class="line"><span class="comment">// å¤„ç†æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">- (<span class="keyword">void</span>)emptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView didTapButton:(<span class="built_in">UIButton</span> *)button &#123;</span><br><span class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> URLWithString:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"https://www.baidu.com"</span>]];</span><br><span class="line"><span class="keyword">if</span> ([[<span class="built_in">UIApplication</span> sharedApplication] canOpenURL:url]) &#123;</span><br><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication] openURL:url];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-d2ae69bb76fd8299.gif?imageMogr2/auto-orient/strip" alt="å¯ä»¥ç‚¹å‡»çš„æŒ‰é’®"></p>
<h4 id="3-4-ç©ºç™½åŒºåŸŸç‚¹å‡»äº‹ä»¶"><a href="#3-4-ç©ºç™½åŒºåŸŸç‚¹å‡»äº‹ä»¶" class="headerlink" title="3.4 ç©ºç™½åŒºåŸŸç‚¹å‡»äº‹ä»¶"></a>3.4 ç©ºç™½åŒºåŸŸç‚¹å‡»äº‹ä»¶</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç©ºç™½åŒºåŸŸç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">- (<span class="keyword">void</span>)<span class="string">emptyDataSet:</span>(UIScrollView *)scrollView <span class="string">didTapView:</span>(UIView *)view &#123;</span><br><span class="line">UIAlertView *alert = [[UIAlertView alloc] <span class="string">initWithTitle:</span>@<span class="string">"å“ˆå“ˆ"</span> <span class="string">message:</span>@<span class="string">"æœ€è¿‘å’‹æ ·"</span> <span class="string">delegate:</span>nil <span class="string">cancelButtonTitle:</span>@<span class="string">"åˆ«ç‚¹æˆ‘"</span> <span class="string">otherButtonTitles:</span>@<span class="string">"ç‚¹æˆ‘å¹²å•¥"</span>, nil];</span><br><span class="line">[alert show];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-bc977dd868779f9a.gif?imageMogr2/auto-orient/strip" alt="ç©ºç™½åŒºåŸŸç‚¹å‡»äº‹ä»¶"></p>
<h4 id="3-5-æ”¹å˜æ ‡é¢˜æ–‡å­—ä¸è¯¦æƒ…æ–‡å­—çš„è·ç¦»"><a href="#3-5-æ”¹å˜æ ‡é¢˜æ–‡å­—ä¸è¯¦æƒ…æ–‡å­—çš„è·ç¦»" class="headerlink" title="3.5 æ”¹å˜æ ‡é¢˜æ–‡å­—ä¸è¯¦æƒ…æ–‡å­—çš„è·ç¦»"></a>3.5 æ”¹å˜æ ‡é¢˜æ–‡å­—ä¸è¯¦æƒ…æ–‡å­—çš„è·ç¦»</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ‡é¢˜æ–‡å­—ä¸è¯¦æƒ…æ–‡å­—çš„è·ç¦»</span></span><br><span class="line">- (<span class="built_in">CGFloat</span>)spaceHeightForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-c7e36364da637b6a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ ‡é¢˜æ–‡å­—ä¸è¯¦æƒ…æ–‡å­—çš„è·ç¦»"></p>
<h4 id="3-6-ç©ºç™½åŒºåŸŸçš„é¢œè‰²è‡ªå®šä¹‰"><a href="#3-6-ç©ºç™½åŒºåŸŸçš„é¢œè‰²è‡ªå®šä¹‰" class="headerlink" title="3.6 ç©ºç™½åŒºåŸŸçš„é¢œè‰²è‡ªå®šä¹‰"></a>3.6 ç©ºç™½åŒºåŸŸçš„é¢œè‰²è‡ªå®šä¹‰</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›ç©ºç™½åŒºåŸŸçš„é¢œè‰²è‡ªå®šä¹‰</span></span><br><span class="line">- (<span class="built_in">UIColor</span> *)backgroundColorForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">UIColor</span> cyanColor];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-e6e70559dd5033fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç©ºç™½åŒºåŸŸçš„é¢œè‰²è‡ªå®šä¹‰"></p>
<h4 id="3-7-æ ‡é¢˜æ–‡å­—ä¸è¯¦æƒ…æ–‡å­—åŒæ—¶è°ƒæ•´å‚ç›´åç§»é‡"><a href="#3-7-æ ‡é¢˜æ–‡å­—ä¸è¯¦æƒ…æ–‡å­—åŒæ—¶è°ƒæ•´å‚ç›´åç§»é‡" class="headerlink" title="3.7 æ ‡é¢˜æ–‡å­—ä¸è¯¦æƒ…æ–‡å­—åŒæ—¶è°ƒæ•´å‚ç›´åç§»é‡"></a>3.7 æ ‡é¢˜æ–‡å­—ä¸è¯¦æƒ…æ–‡å­—åŒæ—¶è°ƒæ•´å‚ç›´åç§»é‡</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ‡é¢˜æ–‡å­—ä¸è¯¦æƒ…æ–‡å­—åŒæ—¶è°ƒæ•´å‚ç›´åç§»é‡</span></span><br><span class="line">- (<span class="built_in">CGFloat</span>)verticalOffsetForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-100</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-659f044350373024.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ ‡é¢˜æ–‡å­—ä¸è¯¦æƒ…æ–‡å­—åŒæ—¶è°ƒæ•´å‚ç›´åç§»é‡"></p>
<h4 id="3-8-æ·»åŠ åŠ¨ç”»æ•ˆæœ"><a href="#3-8-æ·»åŠ åŠ¨ç”»æ•ˆæœ" class="headerlink" title="3.8 æ·»åŠ åŠ¨ç”»æ•ˆæœ"></a>3.8 æ·»åŠ åŠ¨ç”»æ•ˆæœ</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - DZNEmptyDataSetSource</span></span><br><span class="line"><span class="comment">// è¿”å›å›¾ç‰‡</span></span><br><span class="line">- (<span class="built_in">UIImage</span> *)imageForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView&#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"icon_wwdc"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">CAAnimation</span> *)imageAnimationForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="built_in">CABasicAnimation</span> *animation = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath: <span class="string">@"transform"</span>];</span><br><span class="line">animation.fromValue = [<span class="built_in">NSValue</span> valueWithCATransform3D:<span class="built_in">CATransform3DIdentity</span>];</span><br><span class="line">animation.toValue = [<span class="built_in">NSValue</span> valueWithCATransform3D:<span class="built_in">CATransform3DMakeRotation</span>(M_PI_2, <span class="number">0.0</span>, <span class="number">0.0</span>,   <span class="number">1.0</span>)];</span><br><span class="line">animation.duration = <span class="number">0.25</span>;</span><br><span class="line">animation.cumulative = <span class="literal">YES</span>;</span><br><span class="line">animation.repeatCount = MAXFLOAT;</span><br><span class="line"><span class="keyword">return</span> animation;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - DZNEmptyDataSetDelegate</span></span><br><span class="line"><span class="comment">// å›¾ç‰‡æ˜¯å¦è¦åŠ¨ç”»æ•ˆæœï¼Œé»˜è®¤NO</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)emptyDataSetShouldAnimateImageView:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-8a61fbb540b61cfa.gif?imageMogr2/auto-orient/strip" alt="åŠ¨ç”»æ•ˆæœ"></p>
<h4 id="3-9-å…¶å®ƒæ–¹æ³•"><a href="#3-9-å…¶å®ƒæ–¹æ³•" class="headerlink" title="3.9 å…¶å®ƒæ–¹æ³•"></a>3.9 å…¶å®ƒæ–¹æ³•</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - DZNEmptyDataSetSource</span></span><br><span class="line"><span class="comment">// è¿”å›å›¾ç‰‡çš„ tintColor</span></span><br><span class="line">- (<span class="built_in">UIColor</span> *)imageTintColorForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">UIColor</span> yellowColor];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›å¯ç‚¹å‡»æŒ‰é’®çš„ image</span></span><br><span class="line">- (<span class="built_in">UIImage</span> *)buttonImageForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView forState:(<span class="built_in">UIControlState</span>)state &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"icon_wwdc"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›å¯ç‚¹å‡»æŒ‰é’®çš„ backgroundImage</span></span><br><span class="line">- (<span class="built_in">UIImage</span> *)buttonBackgroundImageForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView forState:(<span class="built_in">UIControlState</span>)state &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"icon_wwdc"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›è‡ªå®šä¹‰ view</span></span><br><span class="line">- (<span class="built_in">UIView</span> *)customViewForEmptyDataSet:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - DZNEmptyDataSetDelegate</span></span><br><span class="line"><span class="comment">// æ˜¯å¦æ˜¾ç¤ºç©ºç™½é¡µï¼Œé»˜è®¤YES</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)emptyDataSetShouldDisplay:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ˜¯å¦å…è®¸ç‚¹å‡»ï¼Œé»˜è®¤YES</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)emptyDataSetShouldAllowTouch:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ˜¯å¦å…è®¸æ»šåŠ¨ï¼Œé»˜è®¤NO</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)emptyDataSetShouldAllowScroll:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å›¾ç‰‡æ˜¯å¦è¦åŠ¨ç”»æ•ˆæœï¼Œé»˜è®¤NO</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)emptyDataSetShouldAnimateImageView:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç©ºç™½é¡µå°†è¦å‡ºç°</span></span><br><span class="line">- (<span class="keyword">void</span>)emptyDataSetWillAppear:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç©ºç™½é¡µå·²ç»å‡ºç°</span></span><br><span class="line">- (<span class="keyword">void</span>)emptyDataSetDidAppear:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç©ºç™½é¡µå°†è¦æ¶ˆå¤±</span></span><br><span class="line">- (<span class="keyword">void</span>)emptyDataSetWillDisappear:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç©ºç™½é¡µå·²ç»æ¶ˆå¤±</span></span><br><span class="line">- (<span class="keyword">void</span>)emptyDataSetDidDisappear:(<span class="built_in">UIScrollView</span> *)scrollView &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>â€”â€”â€”â€”â€”â€”åä¸½çš„åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”</p>
<p>å°ç»“ï¼šæœ¬å°ç™½åªåœ¨ UITableView ä¸Šè¯•ç”¨äº† DZNEmptyDataSet æ¡†æ¶ã€‚ã€‚ã€‚å…¬å¸è¦æ±‚å¹´å‰å†è¿­ä»£ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ—¶é—´ä¸å¤ªå……è£•å› æ­¤æ²¡é€ä¸€å»è¯•ã€‚ã€‚ã€‚å“ªä½å¤§ç¥å¦‚æœè¯•äº† UICollectionView æˆ– UIScrollView å‘ç°æœ‰é—®é¢˜ï¼Œè¿˜è¯·ä¸åèµæ•™ï¼</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOSå¼€å‘ä¹‹ - AFNetworking - ç½‘ç»œè¯·æ±‚/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOSå¼€å‘ä¹‹ - AFNetworking - ç½‘ç»œè¯·æ±‚/" itemprop="url">
                  iOSå¼€å‘ä¹‹ - AFNetworking - ç½‘ç»œè¯·æ±‚
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>æœ€è¿‘ä¸€ç›´å¾ˆå¿™ä¹Ÿæ²¡æœ‰æ—¶é—´å†™åšå®¢ï¼Œä»Šå¤©æ­£å¥½æœ‰ç‚¹ç©ºé—²æ—¶é—´ï¼Œæ‰€ä»¥å°±å¯¹ <a href="https://github.com/AFNetworking/AFNetworking/" target="_blank" rel="noopener">AFNetworking</a> åšäº†ä¸€äº›ç®€å•çš„æ€»ç»“ï¼Œç‰¹åœ°è®°å½•ä¸‹æ¥ï¼Œä»¥ä¾¿é‡åˆ°çš„æœ‹å‹ä»¬çœ‹çœ‹ï¼ï¼ï¼</p>
</blockquote>
<p>å…ˆè¯´ä¸‹è¿™ç¯‡æ–‡ç« çš„å¤§æ¦‚å†…å®¹ï¼Œä»¥ä¾¿æœ‹å‹ä»¬èƒ½å¤Ÿå¿«é€Ÿæ‰¾åˆ°è‡ªå·±éœ€è¦çš„ã€‚è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»äº†ä¸‰ç§ç½‘ç»œè¯·æ±‚çš„æ¸ é“ï¼Œç¬¬ä¸€ç§æ˜¯é€šè¿‡è‹¹æœè‡ªå¸¦çš„ NSURLSession è¯·æ±‚ç½‘ç»œï¼›ç¬¬äºŒç§æ˜¯é€šè¿‡ AFNetworking2.x è¯·æ±‚ç½‘ç»œï¼›æœ€åä¸€ç§æ˜¯é€šè¿‡ AFNetworking3.0 è¯·æ±‚ç½‘ç»œã€‚ä¸‹è¾¹æ˜¯è¿™ä¸‰ç§ç½‘ç»œè¯·æ±‚æ¸ é“çš„ demo.</p>
<h2 id="ä¸€ã€è‹¹æœè‡ªå¸¦çš„è¯·æ±‚ç½‘ç»œæ–¹æ³•ï¼š"><a href="#ä¸€ã€è‹¹æœè‡ªå¸¦çš„è¯·æ±‚ç½‘ç»œæ–¹æ³•ï¼š" class="headerlink" title="ä¸€ã€è‹¹æœè‡ªå¸¦çš„è¯·æ±‚ç½‘ç»œæ–¹æ³•ï¼š"></a>ä¸€ã€è‹¹æœè‡ªå¸¦çš„è¯·æ±‚ç½‘ç»œæ–¹æ³•ï¼š</h2><p>è¿™é‡Œä»‹ç»äº†ä¸‰ç§ï¼ŒGET è¯·æ±‚ã€POST è¯·æ±‚ã€ä»£ç†æ–¹å¼è¯·æ±‚ã€‚</p>
<p>1.GET è¯·æ±‚:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å¾— NSURLSession å¯¹è±¡</span></span><br><span class="line"><span class="built_in">NSURLSession</span> *session =  [<span class="built_in">NSURLSession</span> sessionWithConfiguration:[<span class="built_in">NSURLSessionConfiguration</span> defaultSessionConfiguration] delegate:<span class="literal">nil</span> delegateQueue:[<span class="built_in">NSOperationQueue</span> mainQueue]];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä»»åŠ¡</span></span><br><span class="line"><span class="built_in">NSURLSessionDataTask</span> *dataTask = [session dataTaskWithRequest:[<span class="built_in">NSURLRequest</span> requestWithURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@" "</span>]] completionHandler:^(<span class="built_in">NSData</span> * _Nullable data, <span class="built_in">NSURLResponse</span> * _Nullable response, <span class="built_in">NSError</span> * _Nullable error) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"data ~~~ %@ ~~~ response ~~~ %@ ~~~ error~~~ %@"</span>, data, response , error);</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯åŠ¨ä»»åŠ¡</span></span><br><span class="line">[dataTask resume];</span><br></pre></td></tr></table></figure></p>
<p>2.POST è¯·æ±‚:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å¾—NSURLSessionå¯¹è±¡</span></span><br><span class="line"><span class="built_in">NSURLSession</span> *session = [<span class="built_in">NSURLSession</span> sharedSession];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºè¯·æ±‚</span></span><br><span class="line"><span class="built_in">NSMutableURLRequest</span> *request = [<span class="built_in">NSMutableURLRequest</span> requestWithURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@" "</span>]];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®è¯·æ±‚æ–¹æ³•</span></span><br><span class="line">request.HTTPMethod = <span class="string">@"POST"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®è¯·æ±‚ä½“</span></span><br><span class="line">request.HTTPBody = [<span class="string">@" "</span> dataUsingEncoding:<span class="built_in">NSUTF8StringEncoding</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä»»åŠ¡</span></span><br><span class="line"><span class="built_in">NSURLSessionDataTask</span> *task = [session dataTaskWithRequest:request completionHandler:^(<span class="built_in">NSData</span> *data, <span class="built_in">NSURLResponse</span> *response, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"data ~~~ %@ ~~~ response ~~~ %@ ~~~ error~~~ %@"</span>, data, response , error);</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯åŠ¨ä»»åŠ¡</span></span><br><span class="line">[task resume];</span><br></pre></td></tr></table></figure></p>
<p>3.ä»£ç†:NSURLSessionDataDelegate<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">[<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSMutableURLRequest</span> *request = [<span class="built_in">NSMutableURLRequest</span> requestWithURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@" "</span>]];</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSURLSession</span> *session = [<span class="built_in">NSURLSession</span> sessionWithConfiguration:[<span class="built_in">NSURLSessionConfiguration</span> defaultSessionConfiguration] delegate:<span class="keyword">self</span> delegateQueue:[<span class="built_in">NSOperationQueue</span> mainQueue]];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœåˆ›å»ºtaskæ—¶ï¼Œæœ‰blockï¼Œä»£ç†ä¼šå¤±æ•ˆ</span></span><br><span class="line"><span class="built_in">NSURLSessionDataTask</span> *task = [session dataTaskWithRequest:request];</span><br><span class="line"></span><br><span class="line">[task resume];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - NSURLSessionDataDelegate</span></span><br><span class="line"><span class="meta">#pragma mark - æ¥æ”¶åˆ°å“åº”å¤´è°ƒç”¨çš„åè®®æ–¹æ³•</span></span><br><span class="line">- (<span class="keyword">void</span>)URLSession:(<span class="built_in">NSURLSession</span> *)session dataTask:(<span class="built_in">NSURLSessionDataTask</span> *)dataTask</span><br><span class="line">didReceiveResponse:(<span class="built_in">NSURLResponse</span> *)response</span><br><span class="line">completionHandler:(<span class="keyword">void</span> (^)(<span class="built_in">NSURLSessionResponseDisposition</span> disposition))completionHandler &#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSHTTPURLResponse</span> *httpRes = (<span class="built_in">NSHTTPURLResponse</span> *)response;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,httpRes.allHeaderFields);</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€šè¿‡è®¾ç½® completionHandler, Block å¯ä»¥è®¾ç½®åé¢çš„å“åº”ä½“ä¸­çš„æ•°æ®æ˜¯å¦ç»§ç»­å‘é€,é»˜è®¤æ˜¯ä¸å‘é€</span></span><br><span class="line">completionHandler(<span class="built_in">NSURLSessionResponseAllow</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - æ•°æ®è¯·æ±‚å®Œæˆåï¼Œè°ƒç”¨çš„åè®®æ–¹æ³•ï¼Œdataæ˜¯å“åº”ä½“ä¸­çš„æ•°æ®</span></span><br><span class="line">- (<span class="keyword">void</span>)URLSession:(<span class="built_in">NSURLSession</span> *)session dataTask:(<span class="built_in">NSURLSessionDataTask</span> *)dataTask</span><br><span class="line">didReceiveData:(<span class="built_in">NSData</span> *)data &#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark - ä¸ç®¡è¯·æ±‚æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œæœ€ç»ˆéƒ½ä¼šè°ƒç”¨æ­¤æ–¹æ³•</span></span><br><span class="line">- (<span class="keyword">void</span>)URLSession:(<span class="built_in">NSURLSession</span> *)session task:(<span class="built_in">NSURLSessionTask</span> *)task didCompleteWithError:(<span class="built_in">NSError</span> *)error &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (error) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¯·æ±‚å¤±è´¥"</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¯·æ±‚æˆåŠŸ"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="äºŒã€AFNetworking2-x"><a href="#äºŒã€AFNetworking2-x" class="headerlink" title="äºŒã€AFNetworking2.x"></a>äºŒã€AFNetworking2.x</h2><p>1.GET è¯·æ±‚<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">AFHTTPRequestOperationManager *operationManager = [AFHTTPRequestOperationManager manager];</span><br><span class="line"></span><br><span class="line">[operationManager GET:<span class="string">@" "</span> parameters:<span class="literal">nil</span></span><br><span class="line">success:^(AFHTTPRequestOperation *operation, <span class="keyword">id</span> responseObject) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¯·æ±‚æˆåŠŸ"</span>);</span><br><span class="line">&#125; failure:^(AFHTTPRequestOperation *operation, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¯·æ±‚å¤±è´¥"</span>);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<p>2.POST è¯·æ±‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">AFHTTPRequestOperationManager *operationManager = [AFHTTPRequestOperationManager manager];</span><br><span class="line"></span><br><span class="line">[operationManager POST:<span class="string">@" "</span> parameters:<span class="literal">nil</span></span><br><span class="line">success:^(AFHTTPRequestOperation *operation, <span class="keyword">id</span> responseObject) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¯·æ±‚æˆåŠŸ"</span>);</span><br><span class="line">&#125; failure:^(AFHTTPRequestOperation *operation, <span class="built_in">NSError</span> *error) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¯·æ±‚å¤±è´¥"</span>);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‰ã€AFNetworking3-0"><a href="#ä¸‰ã€AFNetworking3-0" class="headerlink" title="ä¸‰ã€AFNetworking3.0"></a>ä¸‰ã€AFNetworking3.0</h2><p>1.GET è¯·æ±‚</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">AFHTTPSessionManager *sessionManager = [AFHTTPSessionManager manager];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£ææœåŠ¡å™¨è¿”å›çš„JSONæ•°æ®</span></span><br><span class="line"><span class="comment">//        [AFJSONResponseSerializer serializer];</span></span><br><span class="line"><span class="comment">// è§£ææœåŠ¡å™¨è¿”å›çš„XMLæ•°æ®</span></span><br><span class="line"><span class="comment">//        [AFXMLParserResponseSerializer serializer];</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‚æ•°1: è¯·æ±‚çš„ç½‘å€</span></span><br><span class="line"><span class="comment">// å‚æ•°2: å‚æ•°</span></span><br><span class="line"><span class="comment">// å‚æ•°3: å½“å‰çš„è¿›åº¦</span></span><br><span class="line"><span class="comment">// å‚æ•°4: è¯·æ±‚æˆåŠŸ</span></span><br><span class="line"><span class="comment">// å‚æ•°5: è¯·æ±‚å¤±è´¥</span></span><br><span class="line">[sessionManager GET:<span class="string">@" "</span> parameters:<span class="literal">nil</span> progress:^(<span class="built_in">NSProgress</span> * _Nonnull downloadProgress) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¿›åº¦"</span>);</span><br><span class="line">&#125; success:^(<span class="built_in">NSURLSessionDataTask</span> * _Nonnull task, <span class="keyword">id</span>  _Nullable responseObject) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¯·æ±‚æˆåŠŸ"</span>);</span><br><span class="line">&#125; failure:^(<span class="built_in">NSURLSessionDataTask</span> * _Nullable task, <span class="built_in">NSError</span> * _Nonnull error) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¯·æ±‚å¤±è´¥"</span>);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p>2.POST è¯·æ±‚<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºç®¡ç†è€…å¯¹è±¡</span></span><br><span class="line">AFHTTPSessionManager *sessionManager = [AFHTTPSessionManager manager];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®è¯·æ±‚å‚æ•°</span></span><br><span class="line"><span class="built_in">NSString</span> *urlStr = <span class="string">@" "</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éœ€è¦è®¾ç½® body ä½“</span></span><br><span class="line"><span class="built_in">NSDictionary</span> *dic = @&#123;<span class="string">@" "</span> : <span class="string">@" "</span>,<span class="string">@" "</span> : <span class="string">@" "</span>&#125;;</span><br><span class="line"></span><br><span class="line">[sessionManager POST:urlStr parameters:dic progress:^(<span class="built_in">NSProgress</span> * _Nonnull downloadProgress) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¿›åº¦"</span>);</span><br><span class="line">&#125; success:^(<span class="built_in">NSURLSessionDataTask</span> * _Nonnull task, <span class="keyword">id</span>  _Nullable responseObject) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¯·æ±‚æˆåŠŸ"</span>);</span><br><span class="line">&#125; failure:^(<span class="built_in">NSURLSessionDataTask</span> * _Nullable task, <span class="built_in">NSError</span> * _Nonnull error) &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"è¯·æ±‚å¤±è´¥"</span>);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>
<p>ä¸Šé¢çš„ä¸€äº›ä»£ç éƒ½æ˜¯åŸºç¡€æ€§ä»£ç ï¼Œå› æ­¤ä¹Ÿæ²¡æ€ä¹ˆåšæ³¨é‡Šï¼Œå¦‚æœæœ‰ç–‘é—®çš„è¯å¯ä»¥ç§ä¿¡äº¤æµâ€¦å¦å¤–ä»£ç æœ‰ä»€ä¹ˆé—®é¢˜çš„è¯ä¹Ÿå¸Œæœ›å¤§å®¶èƒ½å¤ŸæŒ‡å‡ºï¼è°¢è°¢å¤§å®¶ï¼</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOSå¼€å‘ä¹‹ - RunLoop/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOSå¼€å‘ä¹‹ - RunLoop/" itemprop="url">
                  iOSå¼€å‘ä¹‹ - RunLoop
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://upload-images.jianshu.io/upload_images/2665449-4d7042ab55fbe301.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="RunLoop"></p>
<blockquote>
<p>ä»¥ä¸‹æ˜¯ RunLoop ç›¸å…³çš„å†…å®¹ï¼Œå‰åŠéƒ¨åˆ†æ˜¯ç†è®ºçŸ¥è¯†ï¼ŒååŠéƒ¨åˆ†æ˜¯ä»£ç ã€‚ã€‚ã€‚</p>
</blockquote>
<h2 id="ä¸€ã€RunLoop-åŸºç¡€çŸ¥è¯†"><a href="#ä¸€ã€RunLoop-åŸºç¡€çŸ¥è¯†" class="headerlink" title="ä¸€ã€RunLoop åŸºç¡€çŸ¥è¯†"></a>ä¸€ã€RunLoop åŸºç¡€çŸ¥è¯†</h2><h3 id="1-1-RunLoop-ç®€ä»‹"><a href="#1-1-RunLoop-ç®€ä»‹" class="headerlink" title="1.1 RunLoop  ç®€ä»‹"></a>1.1 RunLoop  ç®€ä»‹</h3><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªçº¿ç¨‹åªèƒ½æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œæ‰§è¡Œå®Œå°±ä¼šé€€å‡ºï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ä¸€ç§æœºåˆ¶ï¼Œè®©çº¿ç¨‹èƒ½éšæ—¶å¤„ç†æ—¶é—´ä½†å¹¶ä¸é€€å‡ºï¼Œé‚£ä¹ˆ RunLoop å°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªæœºåˆ¶ã€‚Runloopæ˜¯äº‹ä»¶æ¥æ”¶å’Œåˆ†å‘æœºåˆ¶çš„ä¸€ä¸ªå®ç°ã€‚æ‰€ä»¥å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ç®¡ç†äº†å…¶éœ€è¦å¤„ç†çš„äº‹ä»¶å’Œæ¶ˆæ¯ã€‚åœ¨iOS ç³»ç»Ÿä¸­ï¼Œæœ‰è¿™æ ·ä¸¤ä¸ªå¯¹è±¡ï¼š NSRunLoop å’Œ CFRunLoopRefã€‚ NSRunLoop å’Œ CFRunLoopReféƒ½ä»£è¡¨ç€ RunLoop å¯¹è±¡ã€‚</p>
<h3 id="1-2-RunLoopçš„åŸºæœ¬ä½œç”¨"><a href="#1-2-RunLoopçš„åŸºæœ¬ä½œç”¨" class="headerlink" title="1.2 RunLoopçš„åŸºæœ¬ä½œç”¨"></a>1.2 RunLoopçš„åŸºæœ¬ä½œç”¨</h3><p>(1)ä¿æŒç¨‹åºçš„æŒç»­è¿è¡Œï¼›<br>(2)å¤„ç† App ä¸­çš„å„ç§äº‹ä»¶(æ¯”å¦‚è§¦æ‘¸äº‹ä»¶ã€å®šæ—¶å™¨äº‹ä»¶ã€Selector äº‹ä»¶)ï¼›<br>(3)èŠ‚çœ CPU èµ„æº, æé«˜ç¨‹åºæ€§èƒ½ã€‚</p>
<h3 id="1-3-RunLoopçš„ä½¿ç”¨ç¯å¢ƒ"><a href="#1-3-RunLoopçš„ä½¿ç”¨ç¯å¢ƒ" class="headerlink" title="1.3 RunLoopçš„ä½¿ç”¨ç¯å¢ƒ"></a>1.3 RunLoopçš„ä½¿ç”¨ç¯å¢ƒ</h3><p>ä»…å½“åœ¨ä¸ºä½ çš„ç¨‹åºåˆ›å»ºè¾…åŠ©çº¿ç¨‹çš„æ—¶å€™ï¼Œä½ æ‰éœ€è¦æ˜¾ç¤ºè¿è¡Œ RunLoop ã€‚å¯¹äºè¾…åŠ©çº¿ç¨‹ï¼Œä½ éœ€è¦åˆ¤æ–­ä¸€ä¸ª RunLoop æ˜¯å¦æ˜¯å¿…é¡»çš„ã€‚å¦‚æœæ˜¯å¿…é¡»çš„ï¼Œé‚£ä¹ˆä½ è¦è‡ªå·±é…ç½®å¹¶å¯åŠ¨å®ƒï¼Œä½ ä¸éœ€è¦å†ä»»ä½•æƒ…å†µä¸‹éƒ½å»å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹çš„ RunLoop ã€‚ RunLoop åœ¨ä½ è¦å’Œçº¿ç¨‹æœ‰æ›´å¤šçš„äº¤äº’æ—¶æ‰éœ€è¦ï¼Œæ¯”å¦‚ä»¥ä¸‹æƒ…å†µï¼š<br>(1)ä½¿ç”¨ç«¯å£æˆ–è€…è‡ªå®šä¹‰è¾“å…¥æºæ¥å’Œå…¶ä»–çº¿ç¨‹é€šä¿¡ï¼›<br>(2)ä½¿ç”¨çº¿ç¨‹çš„å®šæ—¶å™¨ï¼›<br>(3) Cocoa ä¸­ä½¿ç”¨ä»»ä½• performSelector çš„æ–¹æ³•ï¼›<br>(4)ä½¿çº¿ç¨‹å‘¨æœŸæ€§å·¥ä½œã€‚</p>
<h3 id="1-4-RunLoopå·¥ä½œçš„ç‰¹ç‚¹"><a href="#1-4-RunLoopå·¥ä½œçš„ç‰¹ç‚¹" class="headerlink" title="1.4 RunLoopå·¥ä½œçš„ç‰¹ç‚¹:"></a>1.4 RunLoopå·¥ä½œçš„ç‰¹ç‚¹:</h3><p>(1)å½“æœ‰æ—¶é—´å‘ç”Ÿæ—¶, RunLoop ä¼šæ ¹æ®å…·ä½“çš„äº‹ä»¶ç±»å‹é€šçŸ¥åº”ç”¨ç¨‹åºä½œå‡ºå“åº”ï¼›<br>(2)å½“æ²¡æœ‰äº‹ä»¶å‘ç”Ÿæ—¶, RunLoop ä¼šè¿›å…¥ä¼‘çœ çŠ¶æ€ï¼›<br>(3)å½“äº‹ä»¶å†æ¬¡å‘ç”Ÿæ—¶, RunLoop ä¼šè¢«é‡æ–°å”¤é†’, å¤„ç†äº‹ä»¶ã€‚</p>
<h3 id="1-5-runLoopçš„å†…éƒ¨é€»è¾‘"><a href="#1-5-runLoopçš„å†…éƒ¨é€»è¾‘" class="headerlink" title="1.5 runLoopçš„å†…éƒ¨é€»è¾‘"></a>1.5 runLoopçš„å†…éƒ¨é€»è¾‘</h3><p>runLoopå…¶å®æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…¶å†…éƒ¨æ˜¯ä¸€ä¸ª do-while å¾ªç¯ï¼Œå½“ä½ è°ƒç”¨CFRunLoop() æ—¶ï¼Œçº¿ç¨‹å°±ä¼šä¸€ç›´åœç•™åœ¨è¿™ä¸ªå¾ªç¯ä¸­ï¼›ç›´åˆ°è¶…æ—¶æˆ–è¢«æ‰‹åŠ¨åœæ­¢ï¼Œè¯¥å‡½æ•°æ‰ä¼šè¿”å›ã€‚æ¯æ¬¡è¿è¡Œ runLoopï¼Œçº¿ç¨‹çš„ runLoop ä¼šè‡ªåŠ¨å¤„ç†ä¹‹å‰æœªå¤„ç†çš„æ¶ˆæ¯ï¼Œå¹¶é€šçŸ¥ç›¸å…³çš„è§‚å¯Ÿè€…ï¼Œå…·ä½“çš„é¡ºåºå¦‚ä¸‹ï¼š<br>(1)é€šçŸ¥è§‚å¯Ÿè€… runLoop å·²ç»å¯åŠ¨ï¼›<br>(2)é€šçŸ¥è§‚å¯Ÿè€…å¤„ç†å°†è¦å¼€å§‹çš„å®šæ—¶å™¨ï¼›<br>(3)é€šçŸ¥è§‚å¯Ÿè€…å¤„ç†å³å°†å¯åŠ¨çš„éåŸºäºç«¯å£çš„æºï¼›<br>(4)å¤„ç†éåŸºäºç«¯å£çš„æºï¼›<br>(5)å¦‚æœåŸºäºç«¯å£çš„æºå‡†å¤‡å¥½å¹¶å¤„äºç­‰å¾…çŠ¶æ€ï¼Œç«‹å³å¯åŠ¨è¿›å…¥æ­¥éª¤â‘¨ï¼›<br>(6)é€šçŸ¥è§‚å¯Ÿè€…çº¿ç¨‹å³å°†è¿›å…¥ä¼‘çœ ï¼›<br>(7)çº¿ç¨‹å¤„äºä¼‘çœ çŠ¶æ€ï¼Œç›´åˆ°ä¸‹é¢çš„ä»»æ„çš„ä¸€ä¸ªäº‹ä»¶å‘ç”Ÿï¼š<br>A.æŸä¸€æ—¶é—´åˆ°è¾¾åŸºäºç«¯å£çš„æºï¼›<br>B.å®šæ—¶å™¨å¯åŠ¨ï¼›<br>C.runLoopè¢«å¤–éƒ¨æ‰‹åŠ¨å”¤é†’ï¼›<br>(8)é€šçŸ¥è§‚å¯Ÿè€…çº¿ç¨‹åˆšè¢«å”¤é†’ï¼›<br>(9)å¤„ç†æ¥æ”¶åˆ°çš„äº‹ä»¶ï¼Œå¤„ç†å®šæ—¶å™¨å¹¶é‡å¯ runLoopï¼Œè¿›å…¥æ­¥éª¤2ï¼›<br>(10)é€šçŸ¥è§‚å¯Ÿè€…ï¼Œå³å°†é€€å‡º runLoopã€‚</p>
<h3 id="1-6-RunLoopä¸çº¿ç¨‹çš„å…³ç³»"><a href="#1-6-RunLoopä¸çº¿ç¨‹çš„å…³ç³»" class="headerlink" title="1.6 RunLoopä¸çº¿ç¨‹çš„å…³ç³»"></a>1.6 RunLoopä¸çº¿ç¨‹çš„å…³ç³»</h3><p>(1)æ¯æ¡çº¿ç¨‹éƒ½æœ‰å”¯ä¸€çš„ä¸€ä¸ªä¸ä¹‹å¯¹åº”çš„ RunLoop å¯¹è±¡ï¼›<br>(2)ä¸»çº¿ç¨‹çš„ RunLoop å·²ç»è‡ªåŠ¨åˆ›å»ºå¥½äº†, å­çº¿ç¨‹çš„ RunLoop éœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼›<br>(3) RunLoopåœ¨ç¬¬ä¸€æ¬¡è·å–æ—¶åˆ›å»º, åœ¨çº¿ç¨‹ç»“æŸæ—¶é”€æ¯ï¼›<br>(4)ç›´çº¿çº¿ç¨‹ä¸åœ†å½¢çº¿ç¨‹ï¼šç›´çº¿çº¿ç¨‹æ‰§è¡Œçš„ä»»åŠ¡æ˜¯ä¸€æ¡ç›´çº¿ï¼›è€Œåœ†å½¢çº¿ç¨‹ä¸æ–­å¾ªç¯ï¼Œç›´åˆ°é€šè¿‡æŸç§æ–¹å¼æˆªæ­¢ï¼Œåœ¨ iOS ä¸­ï¼Œåœ†å½¢çº¿ç¨‹å°±æ˜¯é€šè¿‡ runLoop å®ç°çš„ã€‚</p>
<h3 id="1-7-RunLoopå¯¹è±¡"><a href="#1-7-RunLoopå¯¹è±¡" class="headerlink" title="1.7 RunLoopå¯¹è±¡"></a>1.7 RunLoopå¯¹è±¡</h3><p>(1) iOSä¸­æœ‰2å¥— API æ¥è®¿é—®å’Œä½¿ç”¨ RunLoopã€‚<br>Foundationæ¡†æ¶ : NSRunLoopï¼›<br>Core Foundationæ¡†æ¶: CFRunLoopRefã€‚</p>
<p>(2) NSRunLoop å’Œ CFRunLoopRef éƒ½ä»£è¡¨ç€ RunLoop å¯¹è±¡ ,å®ƒä»¬æ˜¯ç­‰ä»·çš„ï¼Œå¯ä»¥äº’ç›¸è½¬æ¢ï¼›</p>
<p>(3) NSRunLoop æ˜¯åŸºäº CFRunLoopRef çš„ä¸€å±‚ OC åŒ…è£…ï¼Œæ‰€ä»¥è¦äº†è§£ RunLoop å†…éƒ¨ç»“æ„ï¼Œéœ€è¦å¤šç ”ç©¶ CFRunLoopRef å±‚é¢çš„ APIï¼ˆCore Foundationå±‚é¢ï¼‰ã€‚</p>
<h3 id="1-8è·å¾—-RunLoop-å¯¹è±¡"><a href="#1-8è·å¾—-RunLoop-å¯¹è±¡" class="headerlink" title="1.8è·å¾— RunLoop å¯¹è±¡"></a>1.8è·å¾— RunLoop å¯¹è±¡</h3><p>è‹¹æœä¸å…è®¸ç›´æ¥åˆ›å»ºRunLoopï¼Œå®ƒåªæä¾›äº†ä¸¤ä¸ªè‡ªåŠ¨è·å–çš„å‡½æ•°ã€‚<br>(1) Foundation [NSRunLoop currentRunLoop]; //è·å¾—å½“å‰çº¿ç¨‹çš„ RunLoop å¯¹è±¡<br>[NSRunLoop mainRunLoop]; //è·å¾—ä¸»çº¿ç¨‹çš„ RunLoop å¯¹è±¡</p>
<p>(2) Core Foundation<br>CFRunLoopGetCurrent(); //è·å¾—å½“å‰çº¿ç¨‹çš„ RunLoop å¯¹è±¡<br>CFRunLoopGetMain(); //è·å¾—ä¸»çº¿ç¨‹çš„ RunLoop å¯¹è±¡</p>
<h3 id="1-9-ç›¸å…³ç±»"><a href="#1-9-ç›¸å…³ç±»" class="headerlink" title="1.9 ç›¸å…³ç±»:"></a>1.9 ç›¸å…³ç±»:</h3><p>Core Foundationä¸­å…³äº RunLoop çš„ 5 ä¸ªç±» ,RunLoop å¦‚æœæ²¡æœ‰è¿™äº›ä¸œè¥¿, ä¼šç›´æ¥é€€å‡ºã€‚<br>(1) CFRunLoopRef<br>(2) CFRunLoopModeRef è¯¥ç±»å¹¶æ²¡æœ‰å¯¹å¤–æš´éœ²ï¼›<br>(3) CFRunLoopSourceRef<br>(4) CFRunLoopTimerRef<br>(5) CFRunLoopObserverRef</p>
<h3 id="1-10-CFRunLoopSourceRef-äº‹ä»¶æº-è¾“å…¥æº"><a href="#1-10-CFRunLoopSourceRef-äº‹ä»¶æº-è¾“å…¥æº" class="headerlink" title="1.10 CFRunLoopSourceRef äº‹ä»¶æº(è¾“å…¥æº)"></a>1.10 CFRunLoopSourceRef äº‹ä»¶æº(è¾“å…¥æº)</h3><p>æ—¶é—´äº§ç”Ÿçš„åœ°æ–¹ï¼Œsource æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼š<br>(1) source0ï¼šåªåŒ…å«ä¸€ä¸ªå›è°ƒï¼Œå®ƒå¹¶ä¸èƒ½ä¸»åŠ¨è§¦å‘äº‹ä»¶ï¼Œä½¿ç”¨æ—¶ï¼Œéœ€å…ˆè°ƒç”¨ CFRunLoopSourceSignal å°†è¿™ä¸ª source æ ‡è®°ä¸ºå¾…å¤„ç†ï¼Œåè°ƒç”¨ CFRunLoopWakeUp æ¥å”¤é†’ runLoopï¼Œè®©å…¶å¤„ç†è¿™ä¸ªäº‹ä»¶ï¼›<br>(2) source1ï¼šåŒ…å«ä¸€ä¸ª mach_port å’Œä¸€ä¸ªå›è°ƒï¼Œè¢«ç”¨äºé€šè¿‡å†…æ ¸å’Œå…¶ä»–çº¿ç¨‹äº’å‘é€æ¶ˆæ¯ï¼Œè¿™ç§ source èƒ½ä¸»åŠ¨å”¤é†’ runLoop çº¿ç¨‹ã€‚</p>
<h3 id="1-11-CFRunLoopObserverRef"><a href="#1-11-CFRunLoopObserverRef" class="headerlink" title="1.11 CFRunLoopObserverRef"></a>1.11 CFRunLoopObserverRef</h3><p>CFRunLoopObserverRefæ˜¯è§‚å¯Ÿè€…,èƒ½å¤Ÿç›‘å¬ RunLoop çš„çŠ¶æ€æ”¹å˜,å½“ RunLoop çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§‚å¯Ÿè€…å°±èƒ½é€šè¿‡å›è°ƒæ¥å—åˆ°è¿™ä¸ªå˜åŒ–ã€‚å¯ä»¥è§‚æµ‹çš„æ—¶é—´ç‚¹æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š</p>
<p>kCFRunLoopEntry = (1UL &lt;&lt; 0), // å³å°†è¿›å…¥ Loop</p>
<p>kCFRunLoopBeforeTimers = (1UL &lt;&lt; 1), //å³å°†å¤„ç† Timer</p>
<p>kCFRunLoopBeforeSources = (1UL &lt;&lt; 2), //å³å°†å¤„ç† Source</p>
<p>kCFRunLoopBeforeWaiting = (1UL &lt;&lt; 5), //å³å°†è¿›å…¥ä¼‘çœ </p>
<p>kCFRunLoopAfterWaiting = (1UL &lt;&lt; 6), //åˆšä»ä¼‘çœ ä¸­å”¤é†’</p>
<p>kCFRunLoopExit = (1UL &lt;&lt; 7), //å³å°†é€€å‡º Loop</p>
<h3 id="1-12-runLoopçš„æ¨¡å¼"><a href="#1-12-runLoopçš„æ¨¡å¼" class="headerlink" title="1.12 runLoopçš„æ¨¡å¼"></a>1.12 runLoopçš„æ¨¡å¼</h3><p>runLoop ä¸­ä½¿ç”¨ mode æ¥æŒ‡å®šæ—¶é—´åœ¨è¿è¡Œå¾ªç¯ä¸­çš„ä¼˜å…ˆçº§ï¼Œç³»ç»Ÿé»˜è®¤æ³¨å†Œäº† 5 ä¸ªModeï¼š<br>(1)NSDefaultRunLoopModeï¼ˆkCFRunLoopDefaultModeï¼‰:é»˜è®¤Mode,é€šå¸¸ä¸»çº¿ç¨‹æ˜¯åœ¨è¿™ä¸ªModeä¸‹è¿è¡Œï¼›</p>
<p>(2) UITrackingRunLoopMode:ç•Œé¢è·Ÿè¸ªMode,ç”¨äº ScrollView è¿½è¸ªè§¦æ‘¸æ»‘åŠ¨, ä¿è¯ç•Œé¢æ»‘åŠ¨æ—¶ä¸å—å…¶ä»– Mode å½±å“ï¼›</p>
<p>(3) UIInitializationRunLoopMode:å¯åŠ¨ç¨‹åºåçš„è¿‡æ¸¡ modeï¼Œå¯åŠ¨å®Œæˆåå°±ä¸å†ä½¿ç”¨ï¼›</p>
<p>(4) GSEventReceiveRunLoopMode:æ¥å—ç³»ç»Ÿäº‹ä»¶çš„å†…éƒ¨ Mode,é€šå¸¸ç”¨ä¸åˆ°ï¼›</p>
<p>(5)kCFRunLoopCommonModesï¼ˆNSRunLoopCommonModesï¼‰: è¿™æ˜¯ä¸€ä¸ªå ä½ç”¨çš„ Mode ï¼Œä½œä¸ºæ ‡è®° DefaultMode å’ŒCommonMode ç”¨ã€‚</p>
<h2 id="äºŒã€æ¼”ç¤ºä»£ç "><a href="#äºŒã€æ¼”ç¤ºä»£ç " class="headerlink" title="äºŒã€æ¼”ç¤ºä»£ç "></a>äºŒã€æ¼”ç¤ºä»£ç </h2><h3 id="æ¼”ç¤ºä»£ç ä¸€-å¸¸é©»çº¿ç¨‹"><a href="#æ¼”ç¤ºä»£ç ä¸€-å¸¸é©»çº¿ç¨‹" class="headerlink" title="æ¼”ç¤ºä»£ç ä¸€:å¸¸é©»çº¿ç¨‹"></a>æ¼”ç¤ºä»£ç ä¸€:å¸¸é©»çº¿ç¨‹</h3><p>æ§åˆ¶å™¨.mä¸­çš„ä»£ç :<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">[<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"><span class="keyword">self</span>.thread = [[NNThread alloc] initWithTarget:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(run) object:<span class="literal">nil</span>];</span><br><span class="line">[<span class="keyword">self</span>.thread start];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark -å¸¸é©»çº¿ç¨‹æ–¹å¼ä¸€</span></span><br><span class="line">- (<span class="keyword">void</span>)run &#123;</span><br><span class="line"><span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line"></span><br><span class="line">[[<span class="built_in">NSRunLoop</span> currentRunLoop] addPort:[<span class="built_in">NSPort</span> port] forMode:<span class="built_in">NSDefaultRunLoopMode</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"-- run -- %@ --"</span>, [<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">[[<span class="built_in">NSRunLoop</span> currentRunLoop] run];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"--ä¸ä¼šæ‰§è¡Œ--"</span>); <span class="comment">// ä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark -å¸¸é©»çº¿ç¨‹æ–¹å¼äºŒ</span></span><br><span class="line">- (<span class="keyword">void</span>)run1&#123;</span><br><span class="line"><span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">[[<span class="built_in">NSRunLoop</span> currentRunLoop] run];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"-- run1 -- %@ --"</span>, [<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark -å¸¸é©»çº¿ç¨‹æ–¹å¼ä¸‰</span></span><br><span class="line">- (<span class="keyword">void</span>)run2&#123;</span><br><span class="line"><span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">[<span class="built_in">NSTimer</span> scheduledTimerWithTimeInterval:<span class="number">2.0</span> target:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(test) userInfo:<span class="literal">nil</span> repeats:<span class="literal">YES</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"-- run2 -- %@ --"</span>, [<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">[[<span class="built_in">NSRunLoop</span> currentRunLoop] run];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark -åœ¨è¯¥çº¿ç¨‹ä¸­è‡ªå®šä¹‰äº‹ä»¶</span></span><br><span class="line">- (<span class="keyword">void</span>)touchesBegan:(<span class="built_in">NSSet</span>&lt;<span class="built_in">UITouch</span> *&gt; *)touches withEvent:(<span class="built_in">UIEvent</span> *)event&#123;</span><br><span class="line">[<span class="keyword">self</span> performSelector:<span class="keyword">@selector</span>(test) onThread:<span class="keyword">self</span>.thread withObject:<span class="literal">nil</span> waitUntilDone:<span class="literal">NO</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)test &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"-- test -- %@ --"</span>, [<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>çº¿ç¨‹å­ç±»åŒ–:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">"NNThread.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NNThread</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark -é‡å†™äº† dealloc æ–¹æ³•,æŸ¥çœ‹çº¿ç¨‹æ˜¯å¦é”€æ¯</span></span><br><span class="line">- (<span class="keyword">void</span>)dealloc &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"çº¿ç¨‹ NNThread è¢«é”€æ¯"</span>); <span class="comment">// ä¸ä¼šæ‰“å°</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h3 id="æ¼”ç¤ºä»£ç äºŒ-GCD-å®šæ—¶å™¨"><a href="#æ¼”ç¤ºä»£ç äºŒ-GCD-å®šæ—¶å™¨" class="headerlink" title="æ¼”ç¤ºä»£ç äºŒ: GCD å®šæ—¶å™¨:"></a>æ¼”ç¤ºä»£ç äºŒ: GCD å®šæ—¶å™¨:</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - GCD çš„ timer</span></span><br><span class="line">- (<span class="keyword">void</span>)touchesBegan:(<span class="built_in">NSSet</span> *)touches withEvent:(<span class="built_in">UIEvent</span> *)event</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//è·å¾—é˜Ÿåˆ—</span></span><br><span class="line"><span class="built_in">dispatch_queue_t</span> queue = dispatch_get_main_queue();</span><br><span class="line"><span class="comment">//åˆ›å»ºä¸€ä¸ªå®šæ—¶å™¨ (dispatch_source_t æœ¬è´¨è¿˜æ˜¯ä¸ª OC å¯¹è±¡)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">self</span>.timer =dispatch_source_create(DISPATCH_SOURCE_TYPE_TIMER, <span class="number">0</span>, <span class="number">0</span>, queue);</span><br><span class="line"><span class="comment">// GCDçš„æ—¶é—´å‚æ•°ï¼Œä¸€èˆ¬æ˜¯çº³ç§’ï¼ˆ1ç§’== 10çš„9æ¬¡æ–¹çº³ç§’ï¼‰</span></span><br><span class="line">dispatch_time_t start = dispatch_time(DISPATCH_TIME_NOW, (int64_t)(<span class="number">1.0</span> * <span class="built_in">NSEC_PER_SEC</span>));</span><br><span class="line">uint64_t interval = (uint64_t)(<span class="number">1.0</span> * <span class="built_in">NSEC_PER_SEC</span>);</span><br><span class="line">dispatch_source_set_timer(<span class="keyword">self</span>.timer, start, interval, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®å›è°ƒ</span></span><br><span class="line">dispatch_source_set_event_handler(<span class="keyword">self</span>.timer, ^&#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"------ %@ ------"</span>, [<span class="built_in">NSThread</span> currentThread]);</span><br><span class="line">count++;</span><br><span class="line"><span class="keyword">if</span> (count == <span class="number">10</span>) &#123;</span><br><span class="line"><span class="comment">//å–æ¶ˆå®šæ—¶å™¨</span></span><br><span class="line">dispatch_cancel(<span class="keyword">self</span>.timer);</span><br><span class="line"><span class="keyword">self</span>.timer = <span class="literal">nil</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯åŠ¨å®šæ—¶å™¨</span></span><br><span class="line">dispatch_resume(<span class="keyword">self</span>.timer);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ¼”ç¤ºä»£ç ä¸‰-è§‚å¯Ÿè€…"><a href="#æ¼”ç¤ºä»£ç ä¸‰-è§‚å¯Ÿè€…" class="headerlink" title="æ¼”ç¤ºä»£ç ä¸‰:è§‚å¯Ÿè€…"></a>æ¼”ç¤ºä»£ç ä¸‰:è§‚å¯Ÿè€…</h3><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark -è§‚å¯Ÿè€…</span></span><br><span class="line">-(<span class="keyword">void</span>)observerTest&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">CFRunLoopObserverRefæ˜¯è§‚å¯Ÿè€…, èƒ½å¤Ÿç›‘å¬ RunLoop çš„çŠ¶æ€æ”¹å˜,å½“ RunLoop çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§‚å¯Ÿè€…å°±èƒ½é€šè¿‡å›è°ƒæ¥å—åˆ°è¿™ä¸ªå˜åŒ–ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">CFRunLoopObserverRefå‚æ•°:</span></span><br><span class="line"><span class="comment">ç¬¬ä¸€ä¸ªå‚æ•°:åˆ†é…å­˜å‚¨ç©ºé—´</span></span><br><span class="line"><span class="comment">ç¬¬äºŒä¸ªå‚æ•°:ç›‘å¬çŠ¶æ€</span></span><br><span class="line"><span class="comment">ç¬¬ä¸‰ä¸ªå‚æ•°:æ˜¯å¦è¦æŒç»­ç›‘å¬</span></span><br><span class="line"><span class="comment">ç¬¬å››ä¸ªå‚æ•°:ä¼˜å…ˆçº§</span></span><br><span class="line"><span class="comment">ç¬¬äº”ä¸ªå‚æ•°:å›è°ƒ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºobserver</span></span><br><span class="line"><span class="built_in">CFRunLoopObserverRef</span> observer = <span class="built_in">CFRunLoopObserverCreateWithHandler</span>(<span class="built_in">CFAllocatorGetDefault</span>(), kCFRunLoopAllActivities, <span class="literal">YES</span>, <span class="number">0</span>, ^(<span class="built_in">CFRunLoopObserverRef</span> observer, <span class="built_in">CFRunLoopActivity</span> activity) &#123;</span><br><span class="line"><span class="keyword">switch</span> (activity) &#123;</span><br><span class="line"><span class="keyword">case</span> kCFRunLoopEntry:</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"å³å°†è¿›å…¥runloop"</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> kCFRunLoopBeforeTimers:</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"RunLoopå³å°†å¤„ç† timer"</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> kCFRunLoopBeforeSources:</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"RunLoopå³å°†å¤„ç†Sources"</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> kCFRunLoopBeforeWaiting:</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"RunLoopå³å°†è¿›å…¥ä¼‘çœ "</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> kCFRunLoopAfterWaiting:</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"RunLoopåˆšä»ä¼‘çœ ä¸­å”¤é†’"</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> kCFRunLoopExit:</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"å³å°†é€€å‡ºRunLoop "</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">RunLoopçš„æ¨¡å¼</span></span><br><span class="line"><span class="comment">1.NSDefaultRunLoopModeï¼ˆkCFRunLoopDefaultModeï¼‰:é»˜è®¤Mode,é€šå¸¸ä¸»çº¿ç¨‹æ˜¯åœ¨è¿™ä¸ªModeä¸‹è¿è¡Œ</span></span><br><span class="line"><span class="comment">2.UITrackingRunLoopMode:ç•Œé¢è·Ÿè¸ª Mode, ç”¨äº ScrollView è¿½è¸ªè§¦æ‘¸æ»‘åŠ¨, ä¿è¯ç•Œé¢æ»‘åŠ¨æ—¶ä¸å—å…¶ä»– Mode å½±å“</span></span><br><span class="line"><span class="comment">3.UIInitializationRunLoopMode:å¯åŠ¨ç¨‹åºåçš„è¿‡æ¸¡ modeï¼Œå¯åŠ¨å®Œæˆåå°±ä¸å†ä½¿ç”¨</span></span><br><span class="line"><span class="comment">4.GSEventReceiveRunLoopMode:æ¥å—ç³»ç»Ÿäº‹ä»¶çš„å†…éƒ¨ Mode,é€šå¸¸ç”¨ä¸åˆ°</span></span><br><span class="line"><span class="comment">5.kCFRunLoopCommonModesï¼ˆNSRunLoopCommonModesï¼‰: è¿™æ˜¯ä¸€ä¸ªå ä½ç”¨çš„ Mode, ä½œä¸ºæ ‡è®° DefaultMode å’Œ CommonMode ç”¨</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">CFRunLoopAddObserverå‚æ•°:</span></span><br><span class="line"><span class="comment">ç¬¬ä¸€ä¸ªå‚æ•°:è¦ç›‘å¬å“ªä¸ªRunLoop</span></span><br><span class="line"><span class="comment">ç¬¬äºŒä¸ªå‚æ•°:ç›‘å¬è€…</span></span><br><span class="line"><span class="comment">ç¬¬ä¸‰ä¸ªå‚æ•°:è¦ç›‘å¬RunLoopåœ¨å“ªç§è¿è¡Œæ¨¡å¼ä¸‹çš„çŠ¶æ€</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ è§‚å¯Ÿè€…ï¼šç›‘å¬RunLoopçš„çŠ¶æ€</span></span><br><span class="line"><span class="built_in">CFRunLoopAddObserver</span>(<span class="built_in">CFRunLoopGetCurrent</span>(), observer, kCFRunLoopDefaultMode);</span><br><span class="line"></span><br><span class="line"><span class="comment">// é‡Šæ”¾  Observer</span></span><br><span class="line"><span class="built_in">CFRelease</span>(observer);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)timerTest</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//è°ƒç”¨äº† scheduledTimer è¿”å›çš„å®šæ—¶å™¨ï¼Œå·²ç»è‡ªåŠ¨è¢«æ·»åŠ åˆ°å½“å‰ RunLoop ä¸­ï¼Œé»˜è®¤æ˜¯ NSDefaultRunLoopMode</span></span><br><span class="line"><span class="built_in">NSTimer</span> *timer = [<span class="built_in">NSTimer</span> scheduledTimerWithTimeInterval:<span class="number">2.0</span> target:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(run) userInfo:<span class="literal">nil</span> repeats:<span class="literal">YES</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¿®æ”¹æ¨¡å¼</span></span><br><span class="line">[[<span class="built_in">NSRunLoop</span> currentRunLoop] addTimer:timer forMode:<span class="built_in">NSRunLoopCommonModes</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>end</em></p>
<hr>
<p><strong>ç»“æŸè¯­ï¼šRunLoop çš„æ€»ç»“å°±åˆ°æ­¤ä¸ºæ­¢äº†ï¼Œä»¥åå¦‚æœæƒ³åˆ°æˆ–é‡åˆ°æ–°çŸ¥è¯†ç‚¹ï¼Œä¼šå†æ¥è¡¥å……ï¼å¦å¤–å¦‚æœæ–‡ç« å†™çš„æœ‰ä»€ä¹ˆé”™è¯¯ï¼Œçƒ¦è¯·å„ä½èƒ½æŒ‡å‡ºæ¥ï¼è°¢è°¢å¤§å®¶ï¼</strong></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOSå¼€å‘ä¹‹ - Runtime/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOSå¼€å‘ä¹‹ - Runtime/" itemprop="url">
                  iOSå¼€å‘ä¹‹ - Runtime
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://upload-images.jianshu.io/upload_images/2665449-59759f8fb21bb6a9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="iOSå¼€å‘ä¹‹ - Runtime"></p>
<blockquote>
<p>æƒ³æ€»ç»“ Runtime ä¸æ˜¯ä¸€å¤©ä¸¤å¤©äº†ï¼Œå‰å‡ å¤©åˆ©ç”¨ç©ºé—²æ—¶é—´å·²ç»æ‰“å¥½æ–‡ç¨¿ï¼Œä½†è§‰å¾—è¿˜æœ‰éœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼Œç°åœ¨å·²ç»æ”¹è¿‡æ¥äº†ï¼Œè¿™é‡Œè´´å‡ºæ¥ä¸å¤§å®¶åˆ†äº«ä¸‹ï¼ˆå¦‚æœè¿˜æœ‰ä»€ä¹ˆå°é—®é¢˜ï¼Œè¿˜æœ›å„ä½æœ‹å‹æŒ‡å‡ºæ¥å“ˆï¼‰! ä¸‹é¢æˆ‘ä»¬å°±å¼€å§‹è¿›å…¥è¿è¡Œæ—¶ Runtime çš„ä¸–ç•Œå§ï¼</p>
</blockquote>
<h2 id="ä¸€ã€Runtimeç®€ä»‹"><a href="#ä¸€ã€Runtimeç®€ä»‹" class="headerlink" title="ä¸€ã€Runtimeç®€ä»‹"></a>ä¸€ã€Runtimeç®€ä»‹</h2><p>Runtimeç®€ç§°è¿è¡Œæ—¶ï¼Œæ˜¯ç³»ç»Ÿåœ¨è¿è¡Œçš„æ—¶å€™çš„ä¸€äº›æœºåˆ¶ï¼Œå…¶ä¸­æœ€ä¸»è¦çš„æ˜¯æ¶ˆæ¯æœºåˆ¶ã€‚å®ƒæ˜¯ä¸€å¥—æ¯”è¾ƒåº•å±‚çš„çº¯ C è¯­è¨€ API, å±äºä¸€ä¸ª C è¯­è¨€åº“ï¼ŒåŒ…å«äº†å¾ˆå¤šåº•å±‚çš„ C è¯­è¨€ APIã€‚æˆ‘ä»¬å¹³æ—¶ç¼–å†™çš„ OC ä»£ç ï¼Œåœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹æ—¶ï¼Œå…¶å®æœ€ç»ˆéƒ½æ˜¯è½¬æˆäº† Runtime çš„ C è¯­è¨€ä»£ç ã€‚å¦‚ä¸‹æ‰€ç¤º:</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// OCä»£ç :</span></span><br><span class="line"><span class="selector-attr">[Person coding]</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿è¡Œæ—¶ runtime ä¼šå°†å®ƒè½¬åŒ–æˆ C è¯­è¨€çš„ä»£ç :</span></span><br><span class="line"><span class="selector-tag">objc_msgSend</span>(Person, <span class="variable">@selector</span>(coding));</span><br></pre></td></tr></table></figure>
<h2 id="äºŒã€ç›¸å…³å‡½æ•°"><a href="#äºŒã€ç›¸å…³å‡½æ•°" class="headerlink" title="äºŒã€ç›¸å…³å‡½æ•°"></a>äºŒã€ç›¸å…³å‡½æ•°</h2><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éå†æŸä¸ªç±»æ‰€æœ‰çš„æˆå‘˜å˜é‡</span></span><br><span class="line"><span class="keyword">class</span><span class="number">_</span>copyIvarList</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†æŸä¸ªç±»æ‰€æœ‰çš„æ–¹æ³•</span></span><br><span class="line"><span class="keyword">class</span><span class="number">_</span>copyMethodList</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æŒ‡å®šåç§°çš„æˆå‘˜å˜é‡</span></span><br><span class="line"><span class="keyword">class</span><span class="number">_</span>getInstanceVariable</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æˆå‘˜å˜é‡å</span></span><br><span class="line">ivar<span class="number">_</span>getName</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æˆå‘˜å˜é‡ç±»å‹ç¼–ç </span></span><br><span class="line">ivar<span class="number">_</span>getTypeEncoding</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æŸä¸ªå¯¹è±¡æˆå‘˜å˜é‡çš„å€¼</span></span><br><span class="line"><span class="keyword">object</span><span class="number">_</span>getIvar</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®æŸä¸ªå¯¹è±¡æˆå‘˜å˜é‡çš„å€¼</span></span><br><span class="line"><span class="keyword">object</span><span class="number">_</span>setIvar</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»™å¯¹è±¡å‘é€æ¶ˆæ¯</span></span><br><span class="line">objc<span class="number">_m</span>sgSend</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‰ã€ç›¸å…³åº”ç”¨"><a href="#ä¸‰ã€ç›¸å…³åº”ç”¨" class="headerlink" title="ä¸‰ã€ç›¸å…³åº”ç”¨"></a>ä¸‰ã€ç›¸å…³åº”ç”¨</h2><ul>
<li>1.åˆ©ç”¨Runtimeéå†æ¨¡å‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§</li>
<li>2.å½’æ¡£ä¸è§£æ¡£</li>
<li>3.å­—å…¸æ¨¡å‹äº’è½¬(åˆ©ç”¨ Runtime éå†æ¨¡å‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§, æ ¹æ®å±æ€§åä»å­—å…¸ä¸­å–å‡ºå¯¹çš„å€¼,è®¾ç½®åˆ°æ¨¡å‹çš„å±æ€§ä¸Š)</li>
<li>4.åŠ¨æ€æ·»åŠ /ä¿®æ”¹å±æ€§ã€åŠ¨æ€æ·»åŠ /ä¿®æ”¹/æ›¿æ¢æ–¹æ³•(ä¿®æ”¹Personçš„èº«é«˜ä½“é‡ç­‰ï¼›æ›¿æ¢ coding æ–¹æ³•ä¸º eating ç­‰)</li>
</ul>
<h2 id="å››ã€æ¼”ç¤ºä»£ç "><a href="#å››ã€æ¼”ç¤ºä»£ç " class="headerlink" title="å››ã€æ¼”ç¤ºä»£ç "></a>å››ã€æ¼”ç¤ºä»£ç </h2><h3 id="æ¼”ç¤ºä»£ç ä¸€ï¼šéå†å¯¹è±¡çš„å±æ€§"><a href="#æ¼”ç¤ºä»£ç ä¸€ï¼šéå†å¯¹è±¡çš„å±æ€§" class="headerlink" title="æ¼”ç¤ºä»£ç ä¸€ï¼šéå†å¯¹è±¡çš„å±æ€§"></a>æ¼”ç¤ºä»£ç ä¸€ï¼šéå†å¯¹è±¡çš„å±æ€§</h3><p>æ–°å»ºä¸€ä¸ªPersonç±»ï¼Œç»§æ‰¿è‡ªNSObjectï¼Œåœ¨.hæ–‡ä»¶ä¸­è®¾ç½®å®ƒçš„å±æ€§å¦‚ä¸‹</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NNPerson</span> : <span class="title">NSObject</span> </span>&#123;</span><br><span class="line"><span class="built_in">NSString</span> * _str1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> <span class="built_in">NSString</span> * str2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSString</span> *str3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSDictionary</span> * dict;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">nonatomic</span>, <span class="keyword">copy</span>) <span class="built_in">NSArray</span> *ary;</span><br></pre></td></tr></table></figure>
<p>åœ¨ ViewController ä¸­è·å–å®ƒçš„å±æ€§ï¼Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"ViewController.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;objc/runtime.h&gt;</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"NNPerson.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">ViewController</span> ()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">ViewController</span></span></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">[<span class="keyword">super</span> viewDidLoad];</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å– NNModel ä¸­æ‰€æœ‰çš„å˜é‡å¹¶ä¸”è¾“å‡ºå˜é‡ååŠç±»å‹</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">Ivar * ivars = class_copyIvarList([NNPerson <span class="keyword">class</span>], &amp;count);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">unsigned</span> <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i ++) &#123;</span><br><span class="line">Ivar ivar = ivars[i];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"ç±»å‹: %s -åå­—: %s "</span>, ivar_getTypeEncoding(ivar), ivar_getName(ivar));</span><br><span class="line">&#125;</span><br><span class="line">free(ivars);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ¼”ç¤ºä»£ç äºŒï¼šå½’æ¡£è§£æ¡£"><a href="#æ¼”ç¤ºä»£ç äºŒï¼šå½’æ¡£è§£æ¡£" class="headerlink" title="æ¼”ç¤ºä»£ç äºŒï¼šå½’æ¡£è§£æ¡£"></a>æ¼”ç¤ºä»£ç äºŒï¼šå½’æ¡£è§£æ¡£</h3><p>æ–°å»ºä¸€ä¸ªç±»ï¼Œç»§æ‰¿è‡ª NSObject ã€‚.mä¸­çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark -å½’æ¡£</span></span><br><span class="line">- (<span class="keyword">void</span>)encodeWithCoder:(<span class="built_in">NSCoder</span> *)aCoder &#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//è·å–ç±»ä¸­æ‰€æœ‰å±æ€§</span></span><br><span class="line">Ivar *vars = class_copyIvarList([<span class="keyword">self</span> <span class="keyword">class</span>], &amp;count);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">unsigned</span> <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i ++) &#123;</span><br><span class="line">Ivar var = vars[i];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *name = ivar_getName(var);</span><br><span class="line"><span class="built_in">NSString</span> *key = [<span class="built_in">NSString</span> stringWithUTF8String:name];</span><br><span class="line"><span class="comment">//åˆ©ç”¨ KVC è¿›è¡Œå–å€¼ï¼Œæ ¹æ®å±æ€§åç§°è·å–å¯¹åº”çš„å€¼</span></span><br><span class="line"><span class="keyword">id</span> value = [<span class="keyword">self</span> valueForKey:key];</span><br><span class="line">[aCoder encodeObject:value forKey:key];</span><br><span class="line">&#125;</span><br><span class="line">free(vars);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark -è§£æ¡£</span></span><br><span class="line">- (<span class="keyword">nullable</span> <span class="keyword">instancetype</span>)initWithCoder:(<span class="built_in">NSCoder</span> *)aDecoder &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> init]) &#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//è·å–ç±»ä¸­æ‰€æœ‰å±æ€§</span></span><br><span class="line">Ivar *vars = class_copyIvarList([<span class="keyword">self</span> <span class="keyword">class</span>], &amp;count);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">unsigned</span> <span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i ++) &#123;</span><br><span class="line">Ivar var = vars[i];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *name = ivar_getName(var);</span><br><span class="line"><span class="built_in">NSString</span> *key = [<span class="built_in">NSString</span> stringWithUTF8String:name];</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿›è¡Œè§£æ¡£å–å€¼</span></span><br><span class="line"><span class="keyword">id</span> value = [aDecoder decodeObjectForKey:key];</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ©ç”¨ KVC å¯¹å±æ€§èµ‹å€¼</span></span><br><span class="line">[<span class="keyword">self</span> setValue:value forKey:key];</span><br><span class="line">&#125;</span><br><span class="line">free(vars);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ViewControllerä¸­çš„ä»£ç ï¼š<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)viewDidLoad &#123;</span><br><span class="line">[<span class="keyword">super</span> viewDidLoad];</span><br><span class="line">LZNArchive *archive = [LZNArchive objectWithKeyValues:<span class="keyword">self</span>.Mydictionary];</span><br><span class="line"><span class="built_in">NSString</span> *path = <span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSDocumentDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>).lastObject;</span><br><span class="line">path = [path stringByAppendingPathComponent:<span class="string">@"hello"</span>];</span><br><span class="line">[<span class="built_in">NSKeyedArchiver</span> archiveRootObject:archive toFile:path];</span><br><span class="line">LZNArchive *m = [<span class="built_in">NSKeyedUnarchiver</span> unarchiveObjectWithFile:path];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="æ¼”ç¤ºä»£ç ä¸‰ï¼šå­—å…¸ä¸æ¨¡å‹äº’è½¬"><a href="#æ¼”ç¤ºä»£ç ä¸‰ï¼šå­—å…¸ä¸æ¨¡å‹äº’è½¬" class="headerlink" title="æ¼”ç¤ºä»£ç ä¸‰ï¼šå­—å…¸ä¸æ¨¡å‹äº’è½¬"></a>æ¼”ç¤ºä»£ç ä¸‰ï¼šå­—å…¸ä¸æ¨¡å‹äº’è½¬</h3><p>é¦–å…ˆåº”å¯¼å…¥ä¸€ä¸ª plist æ–‡ä»¶ï¼Œå°†æ–‡ä»¶ä¸­çš„å†…å®¹è¯»å–åˆ°å­—å…¸ä¸­ï¼›ç„¶åæ–°å»ºä¸€ä¸ªåˆ†ç±»å¦‚: NSObject+KeyValues<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark -å­—å…¸è½¬æ¨¡å‹</span></span><br><span class="line"></span><br><span class="line">+(<span class="keyword">instancetype</span>)objectWithDict:(<span class="built_in">NSDictionary</span> *)dict &#123;</span><br><span class="line"><span class="keyword">id</span> objc = [[<span class="keyword">self</span> alloc] init];</span><br><span class="line"></span><br><span class="line"><span class="comment">//éå†å­—å…¸ä¸­çš„å±æ€§</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">NSString</span> *key <span class="keyword">in</span> dict.allKeys) &#123;</span><br><span class="line"><span class="keyword">id</span> value = dict[key];</span><br><span class="line">objc_property_t property = class_getProperty(<span class="keyword">self</span>, key.UTF8String);</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">objc_property_attribute_t *attributeList = property_copyAttributeList(property, &amp;count);</span><br><span class="line">objc_property_attribute_t attribute = attributeList[<span class="number">0</span>];</span><br><span class="line"><span class="built_in">NSString</span> *string = [<span class="built_in">NSString</span> stringWithUTF8String:attribute.value];</span><br><span class="line"><span class="keyword">if</span> ([string isEqualToString:<span class="string">@"@\"LZNArchive\""</span>]) &#123;</span><br><span class="line">value = [<span class="keyword">self</span> objectWithDict:value];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿæˆ setter æ–¹æ³•ï¼Œå¹¶ç”¨ objc_msgSend è°ƒç”¨</span></span><br><span class="line"><span class="built_in">NSString</span> *methodName = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"set%@%@:"</span>,[key substringToIndex:<span class="number">1</span>].uppercaseString,[key substringFromIndex:<span class="number">1</span>]];</span><br><span class="line">SEL <span class="keyword">setter</span> = sel_registerName(methodName.UTF8String);</span><br><span class="line"><span class="keyword">if</span> ([objc respondsToSelector:<span class="keyword">setter</span>]) &#123;</span><br><span class="line">((<span class="keyword">void</span> (*) (<span class="keyword">id</span>,SEL,<span class="keyword">id</span>)) objc_msgSend) (objc,<span class="keyword">setter</span>,value);</span><br><span class="line">&#125;</span><br><span class="line">free(attributeList);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> objc;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#pragma mark -æ¨¡å‹è½¬å­—å…¸</span></span><br><span class="line">-(<span class="built_in">NSDictionary</span> *)keyValuesWithObject &#123;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">objc_property_t *propertyList = class_copyPropertyList([<span class="keyword">self</span> <span class="keyword">class</span>], &amp;count);</span><br><span class="line"><span class="built_in">NSMutableDictionary</span> *dict = [<span class="built_in">NSMutableDictionary</span> dictionary];</span><br><span class="line"></span><br><span class="line"><span class="comment">//éå†æ¨¡å‹ä¸­å±æ€§</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i ++) &#123;</span><br><span class="line">objc_property_t property = propertyList[i];</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿæˆ getter æ–¹æ³•ï¼Œå¹¶ç”¨ objc_msgSend è°ƒç”¨</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *propertyName = property_getName(property);</span><br><span class="line">SEL <span class="keyword">getter</span> = sel_registerName(propertyName);</span><br><span class="line"><span class="keyword">if</span> ([<span class="keyword">self</span> respondsToSelector:<span class="keyword">getter</span>]) &#123;</span><br><span class="line"><span class="keyword">id</span> value = ((<span class="keyword">id</span> (*) (<span class="keyword">id</span>,SEL)) objc_msgSend) (<span class="keyword">self</span>,<span class="keyword">getter</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­å½“å‰å±æ€§</span></span><br><span class="line"><span class="keyword">if</span> ([value isKindOfClass:[<span class="keyword">self</span> <span class="keyword">class</span>]] &amp;&amp; value) &#123;</span><br><span class="line">value = [value keyValuesWithObject];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (value) &#123;</span><br><span class="line"><span class="built_in">NSString</span> *key = [<span class="built_in">NSString</span> stringWithUTF8String:propertyName];</span><br><span class="line">[dict setObject:value forKey:key];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">free(propertyList);</span><br><span class="line"><span class="keyword">return</span> dict;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="æ¼”ç¤ºä»£ç å››ï¼šobjc-msgSend-æ¶ˆæ¯ä¼ é€’"><a href="#æ¼”ç¤ºä»£ç å››ï¼šobjc-msgSend-æ¶ˆæ¯ä¼ é€’" class="headerlink" title="æ¼”ç¤ºä»£ç å››ï¼šobjc_msgSend æ¶ˆæ¯ä¼ é€’"></a>æ¼”ç¤ºä»£ç å››ï¼šobjc_msgSend æ¶ˆæ¯ä¼ é€’</h3><p>æ–°å»ºä¸€ä¸ªç±»ï¼Œç»§æ‰¿è‡ªNSObjectï¼Œ.mä¸­çš„ä»£ç å¦‚ä¸‹:<br><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)sayHello &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Hello!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)showName:(<span class="built_in">NSString</span> *)name &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"My name is %@"</span>,name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)showAge:(<span class="built_in">NSInteger</span>)age &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"My age is %ld"</span>, age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">float</span>)showHeight&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">180.0</span>f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="built_in">NSString</span> *)showInformation &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">@"Nice to meet you!"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ViewControllerä¸­çš„ä»£ç :<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">LZN_msgSend *msgSend = [[LZN_msgSend alloc] init];</span><br><span class="line">((<span class="keyword">void</span> (*) (<span class="keyword">id</span>, SEL)) objc_msgSend) (msgSend, sel_registerName(<span class="string">"sayHello"</span>));</span><br><span class="line"></span><br><span class="line">((<span class="keyword">void</span> (*) (<span class="keyword">id</span>, SEL, <span class="built_in">NSString</span> *)) objc_msgSend) (msgSend, sel_registerName(<span class="string">"showName:"</span>), <span class="string">@"Liu Zhong Ning"</span>);</span><br><span class="line"></span><br><span class="line">((<span class="keyword">void</span> (*) (<span class="keyword">id</span>, SEL, <span class="built_in">NSInteger</span>)) objc_msgSend) (msgSend, sel_registerName(<span class="string">"showAge:"</span>), <span class="number">23</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> f = ((<span class="keyword">float</span> (*) (<span class="keyword">id</span>, SEL)) objc_msgSend_fpret) (msgSend, sel_registerName(<span class="string">"showHeight"</span>));</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"and height is %.2fcm"</span>,f);</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *information = ((<span class="built_in">NSString</span>* (*) (<span class="keyword">id</span>, SEL)) objc_msgSend) (msgSend, sel_registerName(<span class="string">"showInformation"</span>));</span><br><span class="line"></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,information);</span><br></pre></td></tr></table></figure></p>
<p><em>the end</em></p>
<hr>
<p><strong>ç»“æŸè¯­ï¼šRuntime ç›¸å…³çš„çŸ¥è¯†å°±æ•´ç†äº†è¿™ä¹ˆäº›ï¼Œå¸Œæœ›å¯¹çœ‹åˆ°çš„æœ‹å‹ä»¬æœ‰ç”¨ï¼å¦å¤–å¦‚æœ demo æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œè¿˜çƒ¦è¯·å¤§å®¶å‘ŠçŸ¥ï¼Œä¸€èµ·è¿›æ­¥ï¼è°¢è°¢O(âˆ©_âˆ©)O~! å¦ç¥å¤§å®¶å‘¨æœ«æ„‰å¿«å“ˆï¼</strong></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/ å‰ç«¯ç¬”è®° - HTML ç‰¹æ®Šæ ‡ç­¾å®ç°æ–‡å­—æ»šåŠ¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/ å‰ç«¯ç¬”è®° - HTML ç‰¹æ®Šæ ‡ç­¾å®ç°æ–‡å­—æ»šåŠ¨/" itemprop="url">
                  å‰ç«¯ç¬”è®° - HTML ç‰¹æ®Šæ ‡ç­¾å®ç°æ–‡å­—æ»šåŠ¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>æƒ³ç”¨ HTML åšä¸ªæ–‡å­—æ»šåŠ¨æ•ˆæœï¼Œå¯ä»¥ç”¨ç‰¹æ®Šæ ‡ç­¾ marquee å®ç°ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨ JS å®ç°ï¼Œ ä»Šå¤©è¯•äº†ä¸‹ç”¨ç‰¹æ®Šæ ‡ç­¾ marquee å®ç°æ–‡å­—æ»šåŠ¨ã€‚å…ˆå£°æ˜ä¸‹æœ¬äººä»äº‹äº iOS å¼€å‘ï¼Œä¹‹å‰é›¶é›¶æ˜Ÿæ˜Ÿçš„å­¦è¿‡ HTML ï¼Œä½†ç›®å‰å°šå¤„äºå°ç™½é˜¶æ®µğŸ˜‚ï¼Œå› æ­¤æ–‡ç« å¦‚æœæœ‰ä¸å½“ä¹‹å¤„è¿˜è¯·å„ä½å¤§ç¥ä¸åæŒ‡å‡ºï¼</p>
</blockquote>
<h3 id="å…ˆä¸€èµ·çœ‹ä¸‹-marquee-æ ‡ç­¾å­˜åœ¨å“ªäº›å±æ€§ï¼š"><a href="#å…ˆä¸€èµ·çœ‹ä¸‹-marquee-æ ‡ç­¾å­˜åœ¨å“ªäº›å±æ€§ï¼š" class="headerlink" title="å…ˆä¸€èµ·çœ‹ä¸‹ marquee æ ‡ç­¾å­˜åœ¨å“ªäº›å±æ€§ï¼š"></a>å…ˆä¸€èµ·çœ‹ä¸‹ marquee æ ‡ç­¾å­˜åœ¨å“ªäº›å±æ€§ï¼š</h3><ul>
<li>behaviorï¼šæ»šåŠ¨æ–¹å¼ï¼Œä¸‰ç§ï¼šscrollï¼ˆå¾ªç¯æ»šåŠ¨ï¼‰ slideï¼ˆå•æ¬¡æ»šåŠ¨ï¼‰ã€alternateï¼ˆæ¥å›æ»šåŠ¨ï¼‰</li>
<li>bgcolorï¼šæ»šåŠ¨æ–‡æœ¬æ¡†çš„èƒŒæ™¯é¢œè‰²</li>
<li>directionï¼šæ»šåŠ¨æ–¹å‘ï¼Œå››ç§ï¼šleftï¼ˆä»å³åˆ°å·¦ï¼‰ã€rightï¼ˆä»å·¦åˆ°å³ï¼‰ã€upï¼ˆä»ä¸‹åˆ°ä¸Šï¼‰ã€downï¼ˆä»ä¸Šåˆ°ä¸‹ï¼‰</li>
<li>scrolldelayï¼šæ¯è½®æ»šåŠ¨ä¹‹é—´çš„å»¶è¿Ÿæ—¶é—´ï¼Œæ•°å­—è¶Šå¤§æ»šåŠ¨è¶Šæ…¢</li>
<li>scrollamountï¼šä¸€æ¬¡æ»šåŠ¨æ€»çš„æ—¶é—´é‡ï¼Œæ•°å­—è¶Šå°æ»šåŠ¨è¶Šæ…¢</li>
<li>alignï¼šæ–‡å­—çš„å¯¹é½æ–¹å¼ï¼Œä¸‰ç§ï¼š middle(å±…ä¸­)ã€bottom(å±…ä¸‹)ã€top(å±…ä¸Š)</li>
<li>widthï¼šæ»šåŠ¨æ–‡æœ¬æ¡†çš„å®½åº¦</li>
<li>heightï¼šæ»šåŠ¨æ–‡æœ¬æ¡†çš„é«˜åº¦</li>
<li>loopï¼šæ»šåŠ¨æ¬¡æ•°ï¼Œé»˜è®¤ä¸º infiniteï¼ˆæ— é™ï¼‰</li>
<li>hspaceï¼šæ°´å¹³æ–¹å‘çš„ç©ºç™½è·ç¦»</li>
<li>vspaceï¼šå‚ç›´æ–¹å‘çš„ç©ºç™½è·ç¦»</li>
</ul>
<h3 id="ä¸‹é¢ä¾¿æ˜¯-marquee-å±æ€§çš„ä¸€äº›åº”ç”¨"><a href="#ä¸‹é¢ä¾¿æ˜¯-marquee-å±æ€§çš„ä¸€äº›åº”ç”¨" class="headerlink" title="ä¸‹é¢ä¾¿æ˜¯ marquee å±æ€§çš„ä¸€äº›åº”ç”¨"></a>ä¸‹é¢ä¾¿æ˜¯ marquee å±æ€§çš„ä¸€äº›åº”ç”¨</h3><h4 id="ä¸€ã€æ»šåŠ¨æ–¹å¼-behavior-ï¼šscrollï¼ˆå¾ªç¯æ»šåŠ¨ï¼‰"><a href="#ä¸€ã€æ»šåŠ¨æ–¹å¼-behavior-ï¼šscrollï¼ˆå¾ªç¯æ»šåŠ¨ï¼‰" class="headerlink" title="ä¸€ã€æ»šåŠ¨æ–¹å¼ behavior ï¼šscrollï¼ˆå¾ªç¯æ»šåŠ¨ï¼‰"></a>ä¸€ã€æ»šåŠ¨æ–¹å¼ behavior ï¼šscrollï¼ˆå¾ªç¯æ»šåŠ¨ï¼‰</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"right"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-47605cbed1e7bf3a.gif?imageMogr2/auto-orient/strip" alt="å¾ªç¯æ»šåŠ¨"></p>
<h4 id="äºŒã€æ»šåŠ¨æ–¹å¼-behaviorï¼šalternateï¼ˆæ¥å›æ»šåŠ¨ï¼‰"><a href="#äºŒã€æ»šåŠ¨æ–¹å¼-behaviorï¼šalternateï¼ˆæ¥å›æ»šåŠ¨ï¼‰" class="headerlink" title="äºŒã€æ»šåŠ¨æ–¹å¼ behaviorï¼šalternateï¼ˆæ¥å›æ»šåŠ¨ï¼‰"></a>äºŒã€æ»šåŠ¨æ–¹å¼ behaviorï¼šalternateï¼ˆæ¥å›æ»šåŠ¨ï¼‰</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"right"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"alternate"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-2ef9e8f7f7097a05.gif?imageMogr2/auto-orient/strip" alt="æ¥å›æ»šåŠ¨"></p>
<h3 id="ä¸‰ã€æ»šåŠ¨æ–¹å‘-directionï¼šupï¼ˆä»ä¸‹åˆ°ä¸Šï¼‰"><a href="#ä¸‰ã€æ»šåŠ¨æ–¹å‘-directionï¼šupï¼ˆä»ä¸‹åˆ°ä¸Šï¼‰" class="headerlink" title="ä¸‰ã€æ»šåŠ¨æ–¹å‘ directionï¼šupï¼ˆä»ä¸‹åˆ°ä¸Šï¼‰"></a>ä¸‰ã€æ»šåŠ¨æ–¹å‘ directionï¼šupï¼ˆä»ä¸‹åˆ°ä¸Šï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"up"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-afc2adaff655f9b5.gif?imageMogr2/auto-orient/strip" alt="ä»ä¸‹åˆ°ä¸Š"></p>
<h3 id="å››ã€æ»šåŠ¨æ–¹å‘-directionï¼šleftï¼ˆä»å³åˆ°å·¦ï¼‰"><a href="#å››ã€æ»šåŠ¨æ–¹å‘-directionï¼šleftï¼ˆä»å³åˆ°å·¦ï¼‰" class="headerlink" title="å››ã€æ»šåŠ¨æ–¹å‘ directionï¼šleftï¼ˆä»å³åˆ°å·¦ï¼‰"></a>å››ã€æ»šåŠ¨æ–¹å‘ directionï¼šleftï¼ˆä»å³åˆ°å·¦ï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"left"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-59c59ad94d252736.gif?imageMogr2/auto-orient/strip" alt="ä»å³åˆ°å·¦"></p>
<h3 id="äº”ã€æ»šåŠ¨é€Ÿåº¦ï¼ˆscrollamountï¼‰"><a href="#äº”ã€æ»šåŠ¨é€Ÿåº¦ï¼ˆscrollamountï¼‰" class="headerlink" title="äº”ã€æ»šåŠ¨é€Ÿåº¦ï¼ˆscrollamountï¼‰"></a>äº”ã€æ»šåŠ¨é€Ÿåº¦ï¼ˆscrollamountï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"left"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span></span></span><br><span class="line"><span class="tag"><span class="attr">scrollamount</span>=<span class="string">"80px"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-8c084cd3ab2119e7.gif?imageMogr2/auto-orient/strip" alt="æ»šåŠ¨é€Ÿåº¦"></p>
<h3 id="å…­ã€å¾ªç¯æ¬¡æ•°ï¼ˆloopï¼‰"><a href="#å…­ã€å¾ªç¯æ¬¡æ•°ï¼ˆloopï¼‰" class="headerlink" title="å…­ã€å¾ªç¯æ¬¡æ•°ï¼ˆloopï¼‰"></a>å…­ã€å¾ªç¯æ¬¡æ•°ï¼ˆloopï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"left"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span></span></span><br><span class="line"><span class="tag"><span class="attr">scrollamount</span>=<span class="string">"80px"</span></span></span><br><span class="line"><span class="tag"><span class="attr">loop</span>=<span class="string">"5"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-1e7e0b115db0402f.gif?imageMogr2/auto-orient/strip" alt="å¾ªç¯æ¬¡æ•°"></p>
<h3 id="ä¸ƒã€å½“é¼ æ ‡åœç•™åœ¨æ–‡å­—ä¸Šï¼Œæ–‡å­—åœæ­¢æ»šåŠ¨"><a href="#ä¸ƒã€å½“é¼ æ ‡åœç•™åœ¨æ–‡å­—ä¸Šï¼Œæ–‡å­—åœæ­¢æ»šåŠ¨" class="headerlink" title="ä¸ƒã€å½“é¼ æ ‡åœç•™åœ¨æ–‡å­—ä¸Šï¼Œæ–‡å­—åœæ­¢æ»šåŠ¨"></a>ä¸ƒã€å½“é¼ æ ‡åœç•™åœ¨æ–‡å­—ä¸Šï¼Œæ–‡å­—åœæ­¢æ»šåŠ¨</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"left"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span></span></span><br><span class="line"><span class="tag"><span class="attr">scrollamount</span>=<span class="string">"80px"</span></span></span><br><span class="line"><span class="tag"><span class="attr">onmouseover</span>=<span class="string">stop()</span></span></span><br><span class="line"><span class="tag"><span class="attr">onmouseout</span>=<span class="string">start()</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">é‡‘é£ç‰éœ²ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-a9a929dcfc80b834.gif?imageMogr2/auto-orient/strip" alt="å½“é¼ æ ‡åœç•™åœ¨æ–‡å­—ä¸Šï¼Œæ–‡å­—åœæ­¢æ»šåŠ¨"></p>
<h3 id="å…«ã€ç»™æ»šåŠ¨å­—å¹•åŠ è¶…é“¾æ¥"><a href="#å…«ã€ç»™æ»šåŠ¨å­—å¹•åŠ è¶…é“¾æ¥" class="headerlink" title="å…«ã€ç»™æ»šåŠ¨å­—å¹•åŠ è¶…é“¾æ¥"></a>å…«ã€ç»™æ»šåŠ¨å­—å¹•åŠ è¶…é“¾æ¥</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"left"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span></span></span><br><span class="line"><span class="tag"><span class="attr">scrollamount</span>=<span class="string">"80px"</span></span></span><br><span class="line"><span class="tag"><span class="attr">onmouseover</span>=<span class="string">stop()</span></span></span><br><span class="line"><span class="tag"><span class="attr">onmouseout</span>=<span class="string">start()</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">#</span>&gt;</span>é‡‘é£ç‰éœ²<span class="tag">&lt;/<span class="name">a</span>&gt;</span>ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-5668ad5af1df16db.gif?imageMogr2/auto-orient/strip" alt="ç»™æ»šåŠ¨å­—å¹•åŠ è¶…é“¾æ¥"></p>
<h3 id="ä¹ã€ç»¼åˆå…¶å®ƒå±æ€§"><a href="#ä¹ã€ç»¼åˆå…¶å®ƒå±æ€§" class="headerlink" title="ä¹ã€ç»¼åˆå…¶å®ƒå±æ€§"></a>ä¹ã€ç»¼åˆå…¶å®ƒå±æ€§</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">direction</span>=<span class="string">"left"</span></span></span><br><span class="line"><span class="tag"><span class="attr">behavior</span>=<span class="string">"scroll"</span></span></span><br><span class="line"><span class="tag"><span class="attr">scrollamount</span>=<span class="string">"30"</span></span></span><br><span class="line"><span class="tag"><span class="attr">scrolldelay</span>=<span class="string">"0"</span></span></span><br><span class="line"><span class="tag"><span class="attr">loop</span>=<span class="string">"-1"</span></span></span><br><span class="line"><span class="tag"><span class="attr">width</span>=<span class="string">"500"</span></span></span><br><span class="line"><span class="tag"><span class="attr">height</span>=<span class="string">"100"</span></span></span><br><span class="line"><span class="tag"><span class="attr">bgcolor</span>=<span class="string">"#FFCCFF"</span></span></span><br><span class="line"><span class="tag"><span class="attr">hspace</span>=<span class="string">"30"</span></span></span><br><span class="line"><span class="tag"><span class="attr">vspace</span>=<span class="string">"10"</span></span></span><br><span class="line"><span class="tag"><span class="attr">onmouseover</span>=<span class="string">this.stop()</span></span></span><br><span class="line"><span class="tag"><span class="attr">onmouseout</span>=<span class="string">start()</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">#</span>&gt;</span>é‡‘é£ç‰éœ²<span class="tag">&lt;/<span class="name">a</span>&gt;</span>ä¸€ç›¸é€¢, ä¾¿èƒœå´äººé—´æ— æ•°.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶, åˆå²‚åœ¨æœæœæš®æš®.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-d8ef46a6806d1d63.gif?imageMogr2/auto-orient/strip" alt="ç»¼åˆå…¶å®ƒå±æ€§"></p>
<p>å°ç»“ï¼šè¯•äº† HTML å®ç°æ–‡å­—æ»šåŠ¨æ•ˆæœä¹‹åï¼Œå‘ç°æ¯” iOS ç®€å•æ–¹ä¾¿è®¸å¤šï¼Œä»¥ååœ¨å·¥ä½œä¹‹ä½™ä¼šå¤šå­¦å­¦å‰ç«¯çŸ¥è¯†ï¼Œæ±‚å¤§ç¥å¸¦å“ˆğŸ˜€ï¼</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/04/15/iOSå¼€å‘ä¹‹ - WKWebView VS UIWebView/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="åˆ˜æœ‹å¤">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ä»¥æ¢¦ä¸ºé©¬">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/04/15/iOSå¼€å‘ä¹‹ - WKWebView VS UIWebView/" itemprop="url">
                  iOSå¼€å‘ä¹‹ - WKWebView VS UIWebView
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
                
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-04-15T12:30:20+08:00">2018-04-15</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>WKWebViewæ˜¯è‹¹æœåœ¨ iOS 8 ä¸­æ¨å‡ºçš„æ–°æ¡†æ¶ï¼Œç›¸æ¯”UIWebViewæ¥è¯´ï¼ŒWKWebView æ€§èƒ½å¥½ï¼Œé€Ÿåº¦å¿«ï¼Œå†…å­˜å°ï¼ŒåŠŸèƒ½å¤šï¼Œä¸”æ”¯æŒäº†æ›´å¤šçš„ HTML5 ç‰¹æ€§â€¦â€¦å› æ­¤æœ¬å°ç™½ç¦ä¸ä½â€œè¯±æƒ‘â€åˆ©ç”¨äº†ä¸€æ™šä¸Šçš„æ—¶é—´ï¼Œæ•´ç†äº†ä¸€äº›å…³äº WKWebView çš„èµ„æ–™ï¼Œä¸å¤§å®¶åˆ†äº«ä¸‹ï¼åœ¨è¯´ WKWebView ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¯´è¯´ä»–çš„è€å¤§å“¥ UIWebView ï¼ï¼ï¼</p>
</blockquote>
<p>UIWebView æ˜¯è‹¹æœåœ¨ iOS 2 ä¹‹åæ¨å‡ºçš„ï¼Œç”±äºèµ„æ ¼æ¯”è¾ƒâ€œè€â€ï¼Œå¤§å®¶å¯¹ UIWebView åº”è¯¥ä¹Ÿä¸ä¼šé™Œç”Ÿï¼Œè¿™é‡Œç›´æ¥ä¸Šä»£ç ï¼š</p>
<h3 id="1-UIWebView-åŸºæœ¬ä½¿ç”¨"><a href="#1-UIWebView-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.UIWebView åŸºæœ¬ä½¿ç”¨"></a>1.UIWebView åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºwebview</span></span><br><span class="line"><span class="built_in">UIWebView</span> *webView = [[<span class="built_in">UIWebView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">20</span>, NNWidth, NNHeight - <span class="number">20</span>)];</span><br><span class="line"><span class="comment">// ç½‘ç»œè¯·æ±‚</span></span><br><span class="line"><span class="built_in">NSURLRequest</span> *request =[<span class="built_in">NSURLRequest</span> requestWithURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://www.baidu.com"</span>]];</span><br><span class="line"><span class="comment">// åŠ è½½ç½‘é¡µ</span></span><br><span class="line">[webView loadRequest:request];</span><br><span class="line"><span class="comment">// æ·»åŠ åˆ°ç•Œé¢</span></span><br><span class="line">[<span class="keyword">self</span>.view addSubview:webView];</span><br></pre></td></tr></table></figure>
<h3 id="2-UIWebView-å¸¸ç”¨æ–¹æ³•"><a href="#2-UIWebView-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="2.UIWebView å¸¸ç”¨æ–¹æ³•"></a>2.UIWebView å¸¸ç”¨æ–¹æ³•</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">webView reload</span>]; <span class="comment">// åˆ·æ–°</span></span><br><span class="line">[<span class="meta">webView stopLoading</span>]; <span class="comment">// åœæ­¢åŠ è½½</span></span><br><span class="line">[<span class="meta">webView goBack</span>]; <span class="comment">// åé€€</span></span><br><span class="line">[<span class="meta">webView goForward</span>]; <span class="comment">// å‰è¿›</span></span><br><span class="line">[<span class="meta">webView canGoBack</span>]; <span class="comment">// æ˜¯å¦å¯ä»¥åé€€</span></span><br><span class="line">[<span class="meta">webView canGoForward</span>]; <span class="comment">// æ˜¯å¦å¯ä»¥å‘å‰</span></span><br><span class="line">[<span class="meta">webView isLoading</span>]; <span class="comment">// æ˜¯å¦æ­£åœ¨åŠ è½½</span></span><br></pre></td></tr></table></figure>
<h3 id="3-UIWebView-ç›¸å…³ä»£ç†åè®®"><a href="#3-UIWebView-ç›¸å…³ä»£ç†åè®®" class="headerlink" title="3.UIWebView ç›¸å…³ä»£ç†åè®®"></a>3.UIWebView ç›¸å…³ä»£ç†åè®®</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - UIWebViewDelegate</span></span><br><span class="line"><span class="comment">/// æ˜¯å¦å…è®¸åŠ è½½ç½‘é¡µ</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)webView:(<span class="built_in">UIWebView</span> *)webView shouldStartLoadWithRequest:(<span class="built_in">NSURLRequest</span> *)request navigationType:(<span class="built_in">UIWebViewNavigationType</span>)navigationType &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"å…è®¸åŠ è½½ç½‘é¡µ"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// å¼€å§‹åŠ è½½ç½‘é¡µæ—¶è°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)webViewDidStartLoad:(<span class="built_in">UIWebView</span> *)webView &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"å¼€å§‹åŠ è½½ç½‘é¡µ"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/// ç½‘é¡µåŠ è½½å®Œæˆæ—¶è°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)webViewDidFinishLoad:(<span class="built_in">UIWebView</span> *)webView &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"ç½‘é¡µåŠ è½½å®Œæˆ"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// ç½‘é¡µåŠ è½½é”™è¯¯æ—¶è°ƒç”¨</span></span><br><span class="line">- (<span class="keyword">void</span>)webView:(<span class="built_in">UIWebView</span> *)webView didFailLoadWithError:(<span class="built_in">NSError</span> *)error &#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"ç½‘é¡µåŠ è½½é”™è¯¯æ—¶è°ƒç”¨"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è¿™é‡Œæ˜¯-UIWebView-çš„æ•ˆæœå›¾ï¼ï¼ï¼"><a href="#è¿™é‡Œæ˜¯-UIWebView-çš„æ•ˆæœå›¾ï¼ï¼ï¼" class="headerlink" title="è¿™é‡Œæ˜¯ UIWebView çš„æ•ˆæœå›¾ï¼ï¼ï¼"></a>è¿™é‡Œæ˜¯ UIWebView çš„æ•ˆæœå›¾ï¼ï¼ï¼</h3><p><img src="http://upload-images.jianshu.io/upload_images/2665449-ab410b93f7c4d753.gif?imageMogr2/auto-orient/strip" alt="UIWebViewåŠ è½½ç½‘é¡µ"><br><img src="http://upload-images.jianshu.io/upload_images/2665449-14ead660659b5a2b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä»£ç†æ–¹æ³•è¾“å‡ºçš„é¡ºåº"></p>
<h3 id="å› ä¸ºä¸»è¦æƒ³ä¸å¤§å®¶åˆ†äº«çš„æ˜¯-WKWebViewï¼Œæ‰€ä»¥å¯¹-UIWebView-çš„ä»‹ç»å°±åˆ°æ­¤ä¸ºæ­¢äº†ã€‚æ¥ä¸‹æ¥çš„-WKWebView-æ‰æ˜¯ä»Šæ™šçš„ä¸»è§’ï¼ï¼ï¼"><a href="#å› ä¸ºä¸»è¦æƒ³ä¸å¤§å®¶åˆ†äº«çš„æ˜¯-WKWebViewï¼Œæ‰€ä»¥å¯¹-UIWebView-çš„ä»‹ç»å°±åˆ°æ­¤ä¸ºæ­¢äº†ã€‚æ¥ä¸‹æ¥çš„-WKWebView-æ‰æ˜¯ä»Šæ™šçš„ä¸»è§’ï¼ï¼ï¼" class="headerlink" title="å› ä¸ºä¸»è¦æƒ³ä¸å¤§å®¶åˆ†äº«çš„æ˜¯ WKWebViewï¼Œæ‰€ä»¥å¯¹ UIWebView çš„ä»‹ç»å°±åˆ°æ­¤ä¸ºæ­¢äº†ã€‚æ¥ä¸‹æ¥çš„ WKWebView æ‰æ˜¯ä»Šæ™šçš„ä¸»è§’ï¼ï¼ï¼"></a>å› ä¸ºä¸»è¦æƒ³ä¸å¤§å®¶åˆ†äº«çš„æ˜¯ WKWebViewï¼Œæ‰€ä»¥å¯¹ UIWebView çš„ä»‹ç»å°±åˆ°æ­¤ä¸ºæ­¢äº†ã€‚æ¥ä¸‹æ¥çš„ WKWebView æ‰æ˜¯ä»Šæ™šçš„ä¸»è§’ï¼ï¼ï¼</h3><hr>
<p><strong>ä¾ç„¶æ˜¯å…ˆä»‹ç» WKWebView çš„åŸºæœ¬ä½¿ç”¨</strong></p>
<h3 id="1-WKWebView-åŸºæœ¬ä½¿ç”¨"><a href="#1-WKWebView-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1. WKWebView åŸºæœ¬ä½¿ç”¨"></a>1. WKWebView åŸºæœ¬ä½¿ç”¨</h3><blockquote>
<p>è¿™é‡ŒåŠ ä¸€ä¸ªä¸ç”¨æç¤ºçš„æç¤ºï¼šWKWebView å’Œ UIWebview çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ç›¸ç±»ä¼¼ï¼Œä½†æ˜¯éœ€è¦å¯¼å…¥å¤´æ–‡ä»¶ #import &lt;WebKit/WebKit.h&gt;ï¼Œå…¶å®ƒæ­¥éª¤å¦‚ä¸‹</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºwebview</span></span><br><span class="line"><span class="built_in">WKWebView</span> *webView = [[<span class="built_in">WKWebView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">20</span>, NNWidth, NNHeight - <span class="number">20</span>)];</span><br><span class="line"><span class="comment">// åˆ›å»ºè¯·æ±‚</span></span><br><span class="line"><span class="built_in">NSURLRequest</span> *request =[<span class="built_in">NSURLRequest</span> requestWithURL:[<span class="built_in">NSURL</span> URLWithString:<span class="string">@"http://www.baidu.com"</span>]];</span><br><span class="line"><span class="comment">// åŠ è½½ç½‘é¡µ</span></span><br><span class="line">[webView loadRequest:request];</span><br><span class="line"><span class="comment">// å°†webViewæ·»åŠ åˆ°ç•Œé¢</span></span><br><span class="line">[<span class="keyword">self</span>.view addSubview:webView];</span><br></pre></td></tr></table></figure>
<p>ps:è¿™é‡Œå°±ä¸å†è¡¥å……æ•ˆæœå›¾äº†ï¼Œé™¤äº†é€Ÿåº¦å†…å­˜ä¼˜äº UIWebViewï¼Œæ˜¾ç¤ºçš„æ•ˆæœå·®ä¸å¤šã€‚ã€‚ã€‚</p>
<h3 id="2-WKWebView-åŠ è½½æ–‡ä»¶"><a href="#2-WKWebView-åŠ è½½æ–‡ä»¶" class="headerlink" title="2. WKWebView åŠ è½½æ–‡ä»¶"></a>2. WKWebView åŠ è½½æ–‡ä»¶</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºwebview</span></span><br><span class="line"><span class="built_in">WKWebView</span> *webView = [[<span class="built_in">WKWebView</span> alloc] initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">20</span>, NNWidth, NNHeight - <span class="number">20</span>)];</span><br><span class="line"><span class="comment">// åˆ›å»ºurl(å¯ä»¥éšä¾¿ä»æ¡Œé¢æ‹‰å¼ å›¾ç‰‡)</span></span><br><span class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> fileURLWithPath:<span class="string">@"/Users/ios/Desktop/å›¾ç‰‡/90416596477f347431a929dc73b9f404.jpg"</span>];</span><br><span class="line"><span class="comment">// åŠ è½½æ–‡ä»¶</span></span><br><span class="line">[webView loadFileURL:url allowingReadAccessToURL:url];</span><br><span class="line"><span class="comment">// æœ€åå°†webViewæ·»åŠ åˆ°ç•Œé¢</span></span><br><span class="line">[<span class="keyword">self</span>.view addSubview:webView];</span><br></pre></td></tr></table></figure>
<h4 id="è¿™é‡Œæ˜¯åŠ è½½æ–‡ä»¶æ•ˆæœå›¾ï¼"><a href="#è¿™é‡Œæ˜¯åŠ è½½æ–‡ä»¶æ•ˆæœå›¾ï¼" class="headerlink" title="è¿™é‡Œæ˜¯åŠ è½½æ–‡ä»¶æ•ˆæœå›¾ï¼"></a>è¿™é‡Œæ˜¯åŠ è½½æ–‡ä»¶æ•ˆæœå›¾ï¼</h4><p><img src="http://upload-images.jianshu.io/upload_images/2665449-026af846596935f2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åŠ è½½æœ¬åœ°å›¾ç‰‡"></p>
<h3 id="3-WKWebView-ä¸-JS-ä»£ç äº¤äº’"><a href="#3-WKWebView-ä¸-JS-ä»£ç äº¤äº’" class="headerlink" title="3. WKWebView ä¸ JS ä»£ç äº¤äº’"></a>3. WKWebView ä¸ JS ä»£ç äº¤äº’</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å›¾ç‰‡ç¼©æ”¾çš„ JS ä»£ç </span></span><br><span class="line"><span class="built_in">NSString</span> *JSImage = <span class="string">@"var count = document.images.length;for (var i = 0; i &lt; count; i++) &#123;var image = document.images[i];image.style.width=375;&#125;;window.alert('æ‰¾åˆ°' + count + 'å¼ å›¾');"</span>;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ– WKUserScript</span></span><br><span class="line"><span class="built_in">WKUserScript</span> *script = [[<span class="built_in">WKUserScript</span> alloc] initWithSource:JSImage injectionTime:<span class="built_in">WKUserScriptInjectionTimeAtDocumentEnd</span> forMainFrameOnly:<span class="literal">YES</span>];</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–WKWebViewConfiguration</span></span><br><span class="line"><span class="built_in">WKWebViewConfiguration</span> *configuration = [[<span class="built_in">WKWebViewConfiguration</span> alloc] init];</span><br><span class="line">[configuration.userContentController addUserScript:script];</span><br><span class="line">_webView = [[<span class="built_in">WKWebView</span> alloc] initWithFrame:<span class="keyword">self</span>.view.bounds configuration:configuration];</span><br><span class="line"><span class="comment">// è¿™é‡Œéœ€è¦ä»ç½‘ä¸Šæ‰¾åˆ°ä¸€å¼ å›¾ç‰‡çš„åœ°å€</span></span><br><span class="line">[_webView loadHTMLString:<span class="string">@"&lt;head&gt;&lt;/head&gt;![](http://upload-images.jianshu.io/upload_images/2665449-f109bc70619e2a92.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)"</span>baseURL:<span class="literal">nil</span>];</span><br><span class="line">[<span class="keyword">self</span>.view addSubview:_webView];</span><br></pre></td></tr></table></figure>
<p><img src="http://upload-images.jianshu.io/upload_images/2665449-311830759271b58f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¸ JS äº¤äº’æ•ˆæœå›¾"></p>
<h3 id="4-WKWebView-å¸¸ç”¨çš„ä»£ç†åè®®"><a href="#4-WKWebView-å¸¸ç”¨çš„ä»£ç†åè®®" class="headerlink" title="4. WKWebView å¸¸ç”¨çš„ä»£ç†åè®®"></a>4. WKWebView å¸¸ç”¨çš„ä»£ç†åè®®</h3><p><em>WKWebView çš„ä»£ç†æ–¹æ³•è¿˜æ˜¯è›®æœ‰è¶£çš„ï¼Œå¤§å®¶å¯ä»¥è¯•ä¸‹å“ˆï¼</em></p>
<h4 id="4-1-WKNavigationDelegate-åè®®"><a href="#4-1-WKNavigationDelegate-åè®®" class="headerlink" title="4.1 WKNavigationDelegate åè®®"></a>4.1 WKNavigationDelegate åè®®</h4><p>è¿™é‡Œç®€å•ç½—åˆ—äº†å‡ ä¸ªå¸¸ç”¨çš„æ–¹æ³•ã€‚ä»¥ä¸‹å››ä¸ªä¸ UIWebView ä¸­çš„æ–¹æ³•ç›¸åŒï¼š<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#pragma</span> <span class="selector-tag">mark</span> <span class="selector-tag">-</span> <span class="selector-tag">WKNavigationDelegate</span></span><br><span class="line"><span class="comment">// é¡µé¢å¼€å§‹åŠ è½½æ—¶è°ƒç”¨</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">didStartProvisionalNavigation</span><span class="selector-pseudo">:(WKNavigation</span> *)<span class="selector-tag">navigation</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å†…å®¹å¼€å§‹è¿”å›æ—¶è°ƒç”¨</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">didCommitNavigation</span><span class="selector-pseudo">:(WKNavigation</span> *)<span class="selector-tag">navigation</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é¡µé¢åŠ è½½å®Œæˆæ—¶è°ƒç”¨</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">didFinishNavigation</span><span class="selector-pseudo">:(WKNavigation</span> *)<span class="selector-tag">navigation</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// é¡µé¢åŠ è½½å¤±è´¥æ—¶è°ƒç”¨</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">didFailProvisionalNavigation</span><span class="selector-pseudo">:(WKNavigation</span> *)<span class="selector-tag">navigation</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ–°å¢çš„ä¸‰ä¸ªä»£ç†æ–¹æ³•:<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªæ–¹æ³•æ˜¯æœåŠ¡å™¨é‡å®šå‘æ—¶è°ƒç”¨ï¼Œå³ æ¥æ”¶åˆ°æœåŠ¡å™¨è·³è½¬è¯·æ±‚ä¹‹åè°ƒç”¨</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">didReceiveServerRedirectForProvisionalNavigation</span><span class="selector-pseudo">:(WKNavigation</span> *)<span class="selector-tag">navigation</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åœ¨æ”¶åˆ°å“åº”åï¼Œå†³å®šæ˜¯å¦è·³è½¬</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">decidePolicyForNavigationResponse</span><span class="selector-pseudo">:(WKNavigationResponse</span> *)<span class="selector-tag">navigationResponse</span> <span class="selector-tag">decisionHandler</span><span class="selector-pseudo">:(void</span> (^)(WKNavigationResponsePolicy))<span class="selector-tag">decisionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åœ¨å‘é€è¯·æ±‚ä¹‹å‰ï¼Œå†³å®šæ˜¯å¦è·³è½¬</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">decidePolicyForNavigationAction</span><span class="selector-pseudo">:(WKNavigationAction</span> *)<span class="selector-tag">navigationAction</span> <span class="selector-tag">decisionHandler</span><span class="selector-pseudo">:(void</span> (^)(WKNavigationActionPolicy))<span class="selector-tag">decisionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="4-2-WKUIDelegate-åè®®"><a href="#4-2-WKUIDelegate-åè®®" class="headerlink" title="4.2 WKUIDelegate åè®®"></a>4.2 WKUIDelegate åè®®</h4><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#pragma</span> <span class="selector-tag">mark</span> <span class="selector-tag">-</span> <span class="selector-tag">WKUIDelegate</span></span><br><span class="line"><span class="comment">/// åˆ›å»ºä¸€ä¸ªæ–°çš„WebView</span></span><br><span class="line"><span class="selector-tag">-</span> (WKWebView *)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">createWebViewWithConfiguration</span><span class="selector-pseudo">:(WKWebViewConfiguration</span> *)<span class="selector-tag">configuration</span> <span class="selector-tag">forNavigationAction</span><span class="selector-pseudo">:(WKNavigationAction</span> *)<span class="selector-tag">navigationAction</span> <span class="selector-tag">windowFeatures</span><span class="selector-pseudo">:(WKWindowFeatures</span> *)<span class="selector-tag">windowFeatures</span> &#123;</span><br><span class="line"><span class="selector-tag">return</span> <span class="selector-tag">nil</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">*  webç•Œé¢ä¸­æœ‰å¼¹å‡ºè­¦å‘Šæ¡†æ—¶è°ƒç”¨</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*  @param webView           å®ç°è¯¥ä»£ç†çš„webview</span></span><br><span class="line"><span class="comment">*  @param message           è­¦å‘Šæ¡†ä¸­çš„å†…å®¹</span></span><br><span class="line"><span class="comment">*  @param frame             ä¸»çª—å£</span></span><br><span class="line"><span class="comment">*  @param completionHandler è­¦å‘Šæ¡†æ¶ˆå¤±è°ƒç”¨</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">runJavaScriptAlertPanelWithMessage</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">message</span> <span class="selector-tag">initiatedByFrame</span><span class="selector-pseudo">:(void</span> (^)())<span class="selector-tag">completionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// è¾“å…¥æ¡†</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">runJavaScriptTextInputPanelWithPrompt</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">prompt</span> <span class="selector-tag">defaultText</span><span class="selector-pseudo">:(nullable</span> <span class="selector-tag">NSString</span> *)<span class="selector-tag">defaultText</span> <span class="selector-tag">initiatedByFrame</span><span class="selector-pseudo">:(WKFrameInfo</span> *)<span class="selector-tag">frame</span> <span class="selector-tag">completionHandler</span><span class="selector-pseudo">:(void</span> (^)(NSString * __nullable result))<span class="selector-tag">completionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/// ç¡®è®¤æ¡†</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">runJavaScriptConfirmPanelWithMessage</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">message</span> <span class="selector-tag">initiatedByFrame</span><span class="selector-pseudo">:(WKFrameInfo</span> *)<span class="selector-tag">frame</span> <span class="selector-tag">completionHandler</span><span class="selector-pseudo">:(void</span> (^)(BOOL result))<span class="selector-tag">completionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/// è­¦å‘Šæ¡†</span></span><br><span class="line"><span class="selector-tag">-</span> (void)<span class="selector-tag">webView</span><span class="selector-pseudo">:(WKWebView</span> *)<span class="selector-tag">webView</span> <span class="selector-tag">runJavaScriptAlertPanelWithMessage</span><span class="selector-pseudo">:(NSString</span> *)<span class="selector-tag">message</span> <span class="selector-tag">initiatedByFrame</span><span class="selector-pseudo">:(WKFrameInfo</span> *)<span class="selector-tag">frame</span> <span class="selector-tag">completionHandler</span><span class="selector-pseudo">:(void</span> (^)(void))<span class="selector-tag">completionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-å¦å¤–æœé›†äº†ä¸€äº›-WKWebView-å¸¸ç”¨çš„å±æ€§ï¼š"><a href="#5-å¦å¤–æœé›†äº†ä¸€äº›-WKWebView-å¸¸ç”¨çš„å±æ€§ï¼š" class="headerlink" title="5.å¦å¤–æœé›†äº†ä¸€äº› WKWebView å¸¸ç”¨çš„å±æ€§ï¼š"></a>5.å¦å¤–æœé›†äº†ä¸€äº› WKWebView å¸¸ç”¨çš„å±æ€§ï¼š</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">â€¢    <span class="string">WKBackForwardListItem:</span> webviewä¸­åé€€åˆ—è¡¨é‡Œçš„æŸä¸€ä¸ªç½‘é¡µã€‚</span><br><span class="line">â€¢    <span class="string">WKFrameInfo:</span> åŒ…å«ä¸€ä¸ªç½‘é¡µçš„å¸ƒå±€ä¿¡æ¯ã€‚</span><br><span class="line">â€¢    <span class="string">WKNavigation:</span> åŒ…å«ä¸€ä¸ªç½‘é¡µçš„åŠ è½½è¿›åº¦ä¿¡æ¯ã€‚</span><br><span class="line">â€¢    <span class="string">WKPreferences:</span> æ¦‚æ‹¬ä¸€ä¸ª webview çš„åå¥½è®¾ç½®ã€‚</span><br><span class="line">â€¢    <span class="string">WKProcessPool:</span> è¡¨ç¤ºä¸€ä¸ª web å†…å®¹åŠ è½½æ± ã€‚</span><br><span class="line">â€¢    <span class="string">WKScriptMessage:</span> åŒ…å«ç½‘é¡µå‘å‡ºçš„ä¿¡æ¯ã€‚</span><br><span class="line">â€¢    <span class="string">WKUserScript:</span>è¡¨ç¤ºå¯ä»¥è¢«ç½‘é¡µæ¥å—çš„ç”¨æˆ·è„šæœ¬ã€‚</span><br><span class="line">â€¢    <span class="string">WKWebViewConfiguration:</span> åˆå§‹åŒ– webview çš„è®¾ç½®ã€‚</span><br><span class="line">â€¢    <span class="string">WKWindowFeatures:</span> æŒ‡å®šåŠ è½½æ–°ç½‘é¡µæ—¶çš„çª—å£å±æ€§ã€‚</span><br><span class="line">â€¢    <span class="string">WKScriptMessageHandler:</span> æä¾›ä»ç½‘é¡µä¸­æ”¶æ¶ˆæ¯çš„å›è°ƒæ–¹æ³•ã€‚</span><br></pre></td></tr></table></figure>
<p>å°å°¾å·´:æ­£åƒå¼€å¤´è¯´çš„é‚£æ ·ï¼Œ WKWebView ç›¸æ¯”UIWebViewæ¥è¯´æ€§èƒ½å¥½ï¼Œé€Ÿåº¦å¿«ï¼Œå†…å­˜å°ï¼ŒåŠŸèƒ½å¤šâ€¦â€¦ä½†ç°åœ¨å¼€å‘ä¸­æ™®éç”¨çš„è¿˜æ˜¯ UIWebViewï¼Œè¿™æ˜¯å› ä¸ºå¤§å¤šæ•°Appéœ€è¦æ”¯æŒiOS7åŠä»¥ä¸Šçš„ç‰ˆæœ¬ã€‚ä½†è‹¹æœä¹‹æ‰€ä»¥æ¨å‡º WKWebView å°±æ˜¯ä¸ºäº†å¼¥è¡¥ UIWebView çš„ç§ç§ä¸è¶³ï¼Œé€æ¸å–ä»£ UIWebViewï¼Œç›¸ä¿¡ä¸ä¹…çš„å°†æ¥ï¼Œç½‘é¡µä¼šæˆä¸º WKWebView çš„å¤©ä¸‹ï¼</p>
<p><em>ä»Šå¤©å°±ç®€å•çš„å†™åˆ°è¿™é‡Œï¼Œä»¥åå¦‚æœç”¨åˆ°å…¶å®ƒçš„äº†ï¼Œå†å’Œå¤§å®¶åˆ†äº«ğŸ˜„!</em></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">åˆ˜æœ‹å¤</p>
              <p class="site-description motion-element" itemprop="description">iOS ä¿®ç‚¼ä¸­...</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">37</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">åˆ˜æœ‹å¤</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Muse</a> v6.1.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.1.0"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

</body>
</html>
